(function(r,p){"object"===typeof exports&&"object"===typeof module?module.exports=p():"function"===typeof define&&define.amd?define([],p):"object"===typeof exports?exports.echarts=p():r.echarts=p()})(this,function(){return function(r){function p(l){if(a[l])return a[l].exports;var n=a[l]={exports:{},id:l,loaded:!1};r[l].call(n.exports,n,n.exports,p);n.loaded=!0;return n.exports}var a={};p.m=r;p.c=a;p.p="";return p(0)}([function(r,p,a){r.exports=a(1);a(99);a(133);a(138);a(147);a(151);a(161);a(182);a(194);a(215);a(219);a(223);a(238);a(244);a(251);a(257);a(261);a(269);a(112);a(273);a(279);a(283);a(294);a(224);a(297);a(303);a(315);a(316);a(329);a(344);a(350);a(353);a(356);a(365);a(378)},function(r,p,a){function l(b){return function(c,g,d){c=c&&c.toLowerCase();L.prototype[b].call(this,c,g,d)}}function n(){L.call(this)}function k(b,c,g){function d(b,c){return b.prio-c.prio}g=g||{};"string"===typeof c&&(c=W[c]);this._dom=b;this._zr=N.init(b,{renderer:g.renderer||"canvas",devicePixelRatio:g.devicePixelRatio});this._theme=I.clone(c);this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._api=new z(this);this._coordSysMgr=new A;L.call(this);this._messageCenter=new n;this._initEvents();this.resize=I.bind(this.resize,this);this._pendingActions=[];G(Q,d);G(O,d)}function h(b,c){var g=this._model;g&&g.eachComponent({mainType:"series",query:c},function(d,e){var q=this._chartsMap[d.__viewId];if(q&&q.__alive)q[b](d,g,this._api,c)},this)}function f(b,c,d){var e=this._api;H(this._componentsViews,function(g){var q=g.__model;g[b](q,c,e,d);w(q,g)},this);c.eachSeries(function(g,q){var m=this._chartsMap[g.__viewId];m[b](g,c,e,d);w(g,m);t(g,m)},this);g(this._zr,c)}function e(b,c){for(var g="component"===b,d=g?this._componentsViews:this._chartsViews,e=g?this._componentsMap:this._chartsMap,q=this._zr,m=0;m<d.length;m++)d[m].__alive=!1;c[g?"eachComponent":"eachSeries"](function(b,m){if(g){if("series"===b)return}else m=b;var t=m.id+"_"+m.type,f=e[t];if(!f)if(f=B.parseClassType(m.type),f=g?F.getClass(f.main,f.sub):K.getClass(f.sub))f=new f,f.init(c,this._api),e[t]=f,d.push(f),q.add(f.group);else return;m.__viewId=t;f.__alive=!0;f.__id=t;f.__model=m},this);for(m=0;m<d.length;){var t=d[m];t.__alive?m++:(q.remove(t.group),t.dispose(c,this._api),d.splice(m,1),delete e[t.__id])}}function d(b,c){H(O,function(g){g.func(b,c)})}function b(b){var c={};b.eachSeries(function(b){var g=b.get("stack");b=b.getData();if(g&&"list"===b.type){var d=c[g];d&&(b.stackedOn=d);c[g]=b}})}function c(b,c){var g=this._api;H(Q,function(d){d.isLayout&&d.func(b,g,c)})}function q(b,c){var g=this._api;b.clearColorPalette();b.eachSeries(function(b){b.clearColorPalette()});H(Q,function(d){d.func(b,g,c)})}function m(b,c){var d=this._api;H(this._componentsViews,function(g){var e=g.__model;g.render(e,b,d,c);w(e,g)},this);H(this._chartsViews,function(b){b.__alive=!1},this);b.eachSeries(function(g,e){var m=this._chartsMap[g.__viewId];m.__alive=!0;m.render(g,b,d,c);m.group.silent=!!g.get("silent");w(g,m);t(g,m)},this);g(this._zr,b);H(this._chartsViews,function(c){c.__alive||c.remove(b,d)},this)}function g(b,c){var g=b.storage,d=0;g.traverse(function(b){b.isGroup||d++});d>c.get("hoverLayerThreshold")&&!x.node&&g.traverse(function(b){b.isGroup||(b.useHoverLayer=!0)})}function t(b,c){var g=0;c.group.traverse(function(b){"group"===b.type||b.ignore||g++});var d=+b.get("progressive"),e=g>b.get("progressiveThreshold")&&d&&!x.node;e&&c.group.traverse(function(b){b.isGroup||(b.progressive=e?Math.floor(g++/d):-1,e&&b.stopAnimation(!0))});var m=b.get("blendMode")||null;!x.canvasSupported&&m&&"source-over"!==m&&console.warn("Only canvas support blendMode");c.group.traverse(function(b){b.isGroup||b.setStyle("blend",m)})}function w(b,c){var g=b.get("z"),d=b.get("zlevel");c.group.traverse(function(b){"group"!==b.type&&(null!=g&&(b.z=g),null!=d&&(b.zlevel=d))})}function u(b){function c(b,c){for(var g=0;g<b.length;g++)b[g].__connectUpdateStatus=c}I.each(R,function(g,d){b._messageCenter.on(d,function(g){if(X[b.group]&&0!==b.__connectUpdateStatus){var d=b.makeActionFromEvent(g);g=[];for(var e in V){var m=V[e];m!==b&&m.group===b.group&&g.push(m)}c(g,0);H(g,function(b){1!==b.__connectUpdateStatus&&b.dispatchAction(d)});c(g,2)}})})}var x=a(2),v=a(3),z=a(25),A=a(26),y=a(27),B=a(19),J=a(28),F=a(29),K=a(42),D=a(43),N=a(81),I=a(4),E=a(39),L=a(33),G=a(85),H=I.each;n.prototype.on=l("on");n.prototype.off=l("off");n.prototype.one=l("one");I.mixin(n,L);p=k.prototype;p.getDom=function(){return this._dom};p.getZr=function(){return this._zr};p.setOption=function(b,c,g){I.assert(!this.__flag_in_main_process,"`setOption` should not be called during main process.");this.__flag_in_main_process=!0;if(!this._model||c){c=new y(this._api);var d=this._theme;(this._model=new v(null,null,d,c)).init(null,null,d,c)}this._model.setOption(b,T);C.prepareAndUpdate.call(this);this.__flag_in_main_process=!1;this._flushPendingActions();!g&&this._zr.refreshImmediately()};p.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};p.getModel=function(){return this._model};p.getOption=function(){return this._model.getOption()};p.getWidth=function(){return this._zr.getWidth()};p.getHeight=function(){return this._zr.getHeight()};p.getRenderedCanvas=function(b){if(x.canvasSupported){b=b||{};b.pixelRatio=b.pixelRatio||1;b.backgroundColor=b.backgroundColor||this._model.get("backgroundColor");var c=this._zr,g=c.storage.getDisplayList();I.each(g,function(b){b.stopAnimation(!0)});return c.painter.getRenderedCanvas(b)}};p.getDataURL=function(b){b=b||{};var c=this._model,g=[],d=this;H(b.excludeComponents,function(b){c.eachComponent({mainType:b},function(b){b=d._componentsMap[b.__viewId];b.group.ignore||(g.push(b),b.group.ignore=!0)})});b=this.getRenderedCanvas(b).toDataURL("image/"+(b&&b.type||"png"));H(g,function(b){b.group.ignore=!1});return b};p.getConnectedDataURL=function(b){if(x.canvasSupported){var c=this.group,g=Math.min,d=Math.max;if(X[c]){var e=Infinity,m=Infinity,q=-Infinity,t=-Infinity,f=[],w=b&&b.pixelRatio||1,a;for(a in V){var u=V[a];if(u.group===c){var h=u.getRenderedCanvas(I.clone(b)),u=u.getDom().getBoundingClientRect(),e=g(u.left,e),m=g(u.top,m),q=d(u.right,q),t=d(u.bottom,t);f.push({dom:h,left:u.left,top:u.top})}}e*=w;m*=w;c=q*w-e;t=t*w-m;g=I.createCanvas();g.width=c;g.height=t;var z=N.init(g);H(f,function(b){b=new D.Image({style:{x:b.left*w-e,y:b.top*w-m,image:b.dom}});z.add(b)});z.refreshImmediately();return g.toDataURL("image/"+(b&&b.type||"png"))}return this.getDataURL(b)}};var C={update:function(c){var g=this._model,e=this._api,t=this._coordSysMgr,f=this._zr;g&&(g.restoreData(),t.create(this._model,this._api),d.call(this,g,e),b.call(this,g),t.update(g,e),q.call(this,g,c),m.call(this,g,c),c=g.get("backgroundColor")||"transparent",g=f.painter,g.isSingleCanvas&&g.isSingleCanvas()?f.configLayer(0,{clearColor:c}):(x.canvasSupported||(g=E.parse(c),c=E.stringify(g,"rgb"),0===g[3]&&(c="transparent")),c.colorStops||c.image?(f.configLayer(0,{clearColor:c}),this._hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this._hasGradientOrPatternBg&&f.configLayer(0,{clearColor:null}),this._hasGradientOrPatternBg=!1,this._dom.style.background=c)))},updateView:function(b){var c=this._model;c&&(c.eachSeries(function(b){b.getData().clearAllVisual()}),q.call(this,c,b),f.call(this,"updateView",c,b))},updateVisual:function(b){var c=this._model;c&&(c.eachSeries(function(b){b.getData().clearAllVisual()}),q.call(this,c,b),f.call(this,"updateVisual",c,b))},updateLayout:function(b){var g=this._model;g&&(c.call(this,g,b),f.call(this,"updateLayout",g,b))},highlight:function(b){h.call(this,"highlight",b)},downplay:function(b){h.call(this,"downplay",b)},prepareAndUpdate:function(b){var c=this._model;e.call(this,"component",c);e.call(this,"chart",c);C.update.call(this,b)}};p.resize=function(){I.assert(!this.__flag_in_main_process,"`resize` should not be called during main process.");this.__flag_in_main_process=!0;this._zr.resize();var b=this._model&&this._model.resetOption("media");C[b?"prepareAndUpdate":"update"].call(this);this._loadingFX&&this._loadingFX.resize();this.__flag_in_main_process=!1;this._flushPendingActions()};var M=a(93);p.showLoading=function(b,c){I.isObject(b)&&(c=b);this.hideLoading();var g=M(this._api,c),d=this._zr;this._loadingFX=g;d.add(g)};p.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};p.makeActionFromEvent=function(b){var c=I.extend({},b);c.type=R[b.type];return c};p.dispatchAction=function(b,c){var g=P[b.type];if(g){var d=g.actionInfo,e=d.update||"update";if(this.__flag_in_main_process)this._pendingActions.push(b);else{this.__flag_in_main_process=!0;var m=[b],q=!1;b.batch&&(q=!0,m=I.map(b.batch,function(c){c=I.defaults(I.extend({},c),b);c.batch=null;return c}));for(var t=[],f,w="highlight"===b.type||"downplay"===b.type,a=0;a<m.length;a++){var u=m[a];f=(f=g.action(u,this._model))||I.extend({},u);f.type=d.event||f.type;t.push(f);w&&C[e].call(this,u)}"none"!==e&&!w&&C[e].call(this,b);f=q?{type:d.event||b.type,batch:t}:t[0];this.__flag_in_main_process=!1;!c&&this._messageCenter.trigger(f.type,f);this._flushPendingActions()}}};p._flushPendingActions=function(){for(var b=this._pendingActions;b.length;){var c=b.shift();this.dispatchAction(c)}};p.on=l("on");p.off=l("off");p.one=l("one");var S="click dblclick mouseover mouseout mousedown mouseup globalout".split(" ");p._initEvents=function(){H(S,function(b){this._zr.on(b,function(c){var g=this.getModel(),d=c.target;d&&null!=d.dataIndex?(d=(g=d.dataModel||g.getSeriesByIndex(d.seriesIndex))&&g.getDataParams(d.dataIndex,d.dataType)||{},d.event=c,d.type=b,this.trigger(b,d)):d&&d.eventData&&this.trigger(b,d.eventData)},this)},this);H(R,function(b,c){this._messageCenter.on(c,function(b){this.trigger(c,b)},this)},this)};p.isDisposed=function(){return this._disposed};p.clear=function(){this.setOption({},!0)};p.dispose=function(){if(this._disposed)console.warn("Instance "+this.id+" has been disposed");else{this._disposed=!0;var b=this._api,c=this._model;H(this._componentsViews,function(g){g.dispose(c,b)});H(this._chartsViews,function(g){g.dispose(c,b)});this._zr.dispose();delete V[this.id]}};I.mixin(k,L);var P=[],R={},O=[],T=[],Q=[],W={},V={},X={},aa=new Date-0,Z=new Date-0,U={version:"3.2.2",dependencies:{zrender:"3.1.2"},init:function(b,c,g){if(N.version.replace(".","")-0<U.dependencies.zrender.replace(".","")-0)throw Error("ZRender "+N.version+" is too old for ECharts "+U.version+". Current version need ZRender "+U.dependencies.zrender+"+");if(!b)throw Error("Initialize failed: invalid dom.");!I.isDom(b)||"CANVAS"===b.nodeName.toUpperCase()||b.clientWidth&&b.clientHeight||console.warn("Can't get dom width or height");c=new k(b,c,g);c.id="ec_"+aa++;V[c.id]=c;b.setAttribute&&b.setAttribute("_echarts_instance_",c.id);u(c);return c},connect:function(b){if(I.isArray(b)){var c=b;b=null;I.each(c,function(c){null!=c.group&&(b=c.group)});b=b||"g_"+Z++;I.each(c,function(c){c.group=b})}X[b]=!0;return b},disConnect:function(b){X[b]=!1},dispose:function(b){I.isDom(b)?b=U.getInstanceByDom(b):"string"===typeof b&&(b=V[b]);b instanceof k&&!b.isDisposed()&&b.dispose()},getInstanceByDom:function(b){b=b.getAttribute("_echarts_instance_");return V[b]},getInstanceById:function(b){return V[b]},registerTheme:function(b,c){W[b]=c},registerPreprocessor:function(b){T.push(b)},registerProcessor:function(b,c){"function"===typeof b&&(c=b,b=1E3);if(isNaN(b))throw Error("Unkown processor priority");O.push({prio:b,func:c})},registerAction:function(b,c,g){"function"===typeof c&&(g=c,c="");var d=I.isObject(b)?b.type:[b,b={event:c}][0];b.event=(b.event||d).toLowerCase();c=b.event;P[d]||(P[d]={action:g,actionInfo:b});R[c]=d},registerCoordinateSystem:function(b,c){A.register(b,c)},registerLayout:function(b,c){"function"===typeof b&&(c=b,b=1E3);if(isNaN(b))throw Error("Unkown layout priority");Q.push({prio:b,func:c,isLayout:!0})},registerVisual:function(b,c){"function"===typeof b&&(c=b,b=3E3);if(isNaN(b))throw Error("Unkown visual priority");Q.push({prio:b,func:c})}},ca=B.parseClassType;U.extendComponentModel=function(b,c){var g=B;c&&(g=ca(c),g=B.getClass(g.main,g.sub,!0));return g.extend(b)};U.extendComponentView=function(b,c){var g=F;c&&(g=ca(c),g=F.getClass(g.main,g.sub,!0));return g.extend(b)};U.extendSeriesModel=function(b,c){var g=J;c&&(c="series."+c.replace("series.",""),g=ca(c),g=J.getClass(g.main,g.sub,!0));return g.extend(b)};U.extendChartView=function(b,c){if(c){c.replace("series.","");var g=ca(c);K.getClass(g.main,!0)}return K.extend(b)};U.setCanvasCreator=function(b){I.createCanvas=b};U.registerVisual(2E3,a(94));U.registerPreprocessor(a(95));U.registerAction({type:"highlight",event:"highlight",update:"highlight"},I.noop);U.registerAction({type:"downplay",event:"downplay",update:"downplay"},I.noop);U.List=a(97);U.Model=a(12);U.graphic=a(43);U.number=a(7);U.format=a(6);U.matrix=a(11);U.vector=a(10);U.color=a(39);U.util={};H("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults".split(" "),function(b){U.util[b]=I[b]});U.PRIORITY={PROCESSOR:{FILTER:1E3,STATISTIC:5E3},VISUAL:{LAYOUT:1E3,GLOBAL:2E3,CHART:3E3,COMPONENT:4E3,BRUSH:5E3}};r.exports=U},function(r,p){var a;if("undefined"===typeof navigator)a={browser:{},os:{},node:!0,canvasSupported:!0};else{var l=navigator.userAgent;a={};var n=l.match(/Firefox\/([\d.]+)/),k=l.match(/MSIE\s([\d.]+)/)||l.match(/Trident\/.+?rv:(([\d.]+))/),l=l.match(/Edge\/([\d.]+)/);n&&(a.firefox=!0,a.version=n[1]);k&&(a.ie=!0,a.version=k[1]);k&&(a.ie=!0,a.version=k[1]);l&&(a.edge=!0,a.version=l[1]);a={browser:a,os:{},node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!a.ie&&!a.edge,pointerEventsSupported:"onpointerdown"in window&&(a.edge||a.ie&&10<=a.version)}}r.exports=a},function(r,p,a){function l(b){this.option={};this.option["\x00_ec_inner"]=1;this._componentsMap={};this._seriesIndices=null;var c=this._theme.option,g;for(g in c)x.hasClass(g)||("object"===typeof c[g]?b[g]=b[g]?d.merge(b[g],c[g],!1):d.clone(c[g]):null==b[g]&&(b[g]=c[g]));d.merge(b,v,!1);this.mergeOption(b)}function n(b,c){d.isArray(c)||(c=c?[c]:[]);var g={};q(c,function(c){g[c]=(b[c]||[]).slice()});return g}function k(b,c){var g={};q(c,function(b,c){var d=b.exist;d&&(g[d.id]=b)});q(c,function(c,e){var m=c.option;d.assert(!m||null==m.id||!g[m.id]||g[m.id]===c,"id duplicates: "+(m&&m.id));m&&null!=m.id&&(g[m.id]=c);if(u(m)){var q=c.exist,m=m.type?m.type:q?q.subType:x.determineSubType(b,m);c.keyInfo={mainType:b,subType:m}}});q(c,function(b,c){var d=b.exist,m=b.option,e=b.keyInfo;if(u(m)){e.name=null!=m.name?m.name+"":d?d.name:"\x00-";if(d)e.id=d.id;else if(null!=m.id)e.id=m.id+"";else{d=0;do e.id="\x00"+e.name+"\x00"+d++;while(g[e.id])}g[e.id]=b}})}function h(b){return g(b,function(b){return b.componentIndex})||[]}function f(b,c){return c.hasOwnProperty("subType")?m(b,function(b){return b.subType===c.subType}):b}function e(b){if(!b._seriesIndices)throw Error("Series has not been initialized yet.");}var d=a(4),b=a(5),c=a(12),q=d.each,m=d.filter,g=d.map,t=d.isArray,w=d.indexOf,u=d.isObject,x=a(19),v=a(23),z=c.extend({constructor:z,init:function(b,g,d,m){d=d||{};this.option=null;this._theme=new c(d);this._optionManager=m},setOption:function(b,c){d.assert(!("\x00_ec_inner"in b),"please use chart.getOption()");this._optionManager.setOption(b,c);this.resetOption()},resetOption:function(b){var c=!1,g=this._optionManager;if(!b||"recreate"===b){var d=g.mountOption("recreate"===b);this.option&&"recreate"!==b?(this.restoreData(),this.mergeOption(d)):l.call(this,d);c=!0}"timeline"!==b&&"media"!==b||this.restoreData();b&&"recreate"!==b&&"timeline"!==b||(d=g.getTimelineOption(this))&&(this.mergeOption(d),c=!0);b&&"recreate"!==b&&"media"!==b||(b=g.getMediaOption(this,this._api),b.length&&q(b,function(b){this.mergeOption(b,c=!0)},this));return c},mergeOption:function(c){var g=this.option,m=this._componentsMap,e=[];q(c,function(b,c){null!=b&&(x.hasClass(c)?e.push(c):g[c]=null==g[c]?d.clone(b):d.merge(g[c],b,!0))});x.topologicalTravel(e,x.getAllClassMainTypes(),function(e,t){var f=b.normalizeToArray(c[e]),f=b.mappingToExists(m[e],f);k(e,f);var w=n(m,t);g[e]=[];m[e]=[];q(f,function(b,c){var q=b.exist,t=b.option;d.assert(u(t)||q,"Empty component definition");if(t){var f=x.getClass(e,b.keyInfo.subType,!0);if(q&&q instanceof f)q.mergeOption(t,this),q.optionUpdated(t,!1);else{var a=d.extend({dependentModels:w,componentIndex:c},b.keyInfo),q=new f(t,this,this,a);q.init(t,this,this,a);q.optionUpdated(null,!0)}}else q.mergeOption({},this),q.optionUpdated({},!1);m[e][c]=q;g[e][c]=q.option},this);"series"===e&&(this._seriesIndices=h(m.series))},this)},getOption:function(){var c=d.clone(this.option);q(c,function(g,d){if(x.hasClass(d)){g=b.normalizeToArray(g);for(var m=g.length-1;0<=m;m--)b.isIdInner(g[m])&&g.splice(m,1);c[d]=g}});delete c["\x00_ec_inner"];return c},getTheme:function(){return this._theme},getComponent:function(b,c){var g=this._componentsMap[b];if(g)return g[c||0]},queryComponents:function(b){var c=b.mainType;if(!c)return[];var d=b.index,e=b.id,q=b.name,a=this._componentsMap[c];if(!a||!a.length)return[];var u;if(null!=d)t(d)||(d=[d]),u=m(g(d,function(b){return a[b]}),function(b){return!!b});else if(null!=e){var x=t(e);u=m(a,function(b){return x&&0<=w(e,b.id)||!x&&b.id===e})}else if(null!=q){var h=t(q);u=m(a,function(b){return h&&0<=w(q,b.name)||!h&&b.name===q})}return f(u,b)},findComponents:function(b){var c=b.mainType,g=function(b){var g=c+"Index",d=c+"Id",m=c+"Name";return b&&(b.hasOwnProperty(g)||b.hasOwnProperty(d)||b.hasOwnProperty(m))?{mainType:c,index:b[g],id:b[d],name:b[m]}:null}(b.query),g=g?this.queryComponents(g):this._componentsMap[c];return function(c){return b.filter?m(c,b.filter):c}(f(g,b))},eachComponent:function(b,c,g){var m=this._componentsMap;"function"===typeof b?(g=c,c=b,q(m,function(b,d){q(b,function(b,m){c.call(g,d,b,m)})})):d.isString(b)?q(m[b],c,g):u(b)&&(b=this.findComponents(b),q(b,c,g))},getSeriesByName:function(b){return m(this._componentsMap.series,function(c){return c.name===b})},getSeriesByIndex:function(b){return this._componentsMap.series[b]},getSeriesByType:function(b){return m(this._componentsMap.series,function(c){return c.subType===b})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(b,c){e(this);q(this._seriesIndices,function(g){b.call(c,this._componentsMap.series[g],g)},this)},eachRawSeries:function(b,c){q(this._componentsMap.series,b,c)},eachSeriesByType:function(b,c,g){e(this);q(this._seriesIndices,function(d){var m=this._componentsMap.series[d];m.subType===b&&c.call(g,m,d)},this)},eachRawSeriesByType:function(b,c,g){return q(this.getSeriesByType(b),c,g)},isSeriesFiltered:function(b){e(this);return 0>d.indexOf(this._seriesIndices,b.componentIndex)},filterSeries:function(b,c){e(this);var g=m(this._componentsMap.series,b,c);this._seriesIndices=h(g)},restoreData:function(){var b=this._componentsMap;this._seriesIndices=h(b.series);var c=[];q(b,function(b,g){c.push(g)});x.topologicalTravel(c,x.getAllClassMainTypes(),function(c,g){q(b[c],function(b){b.restoreData()})})}});d.mixin(z,a(24));r.exports=z},function(r,p){function a(b){if("object"==typeof b&&null!==b){var c=b;if(b instanceof Array)for(var c=[],g=0,d=b.length;g<d;g++)c[g]=a(b[g]);else if(!f(b)&&!e(b))for(g in c={},b)b.hasOwnProperty(g)&&(c[g]=a(b[g]));return c}return b}function l(b,c,g){if(!h(c)||!h(b))return g?a(c):b;for(var d in c)if(c.hasOwnProperty(d)){var m=b[d],q=c[d];!h(q)||!h(m)||k(q)||k(m)||e(q)||e(m)||f(q)||f(m)?!g&&d in b||(b[d]=a(c[d],!0)):l(m,q,g)}return b}function n(b,c,g){for(var d in c)c.hasOwnProperty(d)&&(g?null!=c[d]:null==b[d])&&(b[d]=c[d]);return b}function k(c){return"[object Array]"===b.call(c)}function h(b){var c=typeof b;return"function"===c||!!b&&"object"==c}function f(c){return!!d[b.call(c)]}function e(b){return b&&1===b.nodeType&&"string"==typeof b.nodeName}var d={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1},b=Object.prototype.toString,c=Array.prototype,q=c.forEach,m=c.filter,g=c.slice,t=c.map,w=c.reduce,u,x={inherits:function(b,c){function g(){}var d=b.prototype;g.prototype=c.prototype;b.prototype=new g;for(var m in d)b.prototype[m]=d[m];b.prototype.constructor=b;b.superClass=c},mixin:function(b,c,g){b="prototype"in b?b.prototype:b;c="prototype"in c?c.prototype:c;n(b,c,g)},clone:a,merge:l,mergeAll:function(b,c){for(var g=b[0],d=1,m=b.length;d<m;d++)g=l(g,b[d],c);return g},extend:function(b,c){for(var g in c)c.hasOwnProperty(g)&&(b[g]=c[g]);return b},defaults:n,getContext:function(){u||(u=x.createCanvas().getContext("2d"));return u},createCanvas:function(){return document.createElement("canvas")},indexOf:function(b,c){if(b){if(b.indexOf)return b.indexOf(c);for(var g=0,d=b.length;g<d;g++)if(b[g]===c)return g}return-1},slice:function(){return Function.call.apply(g,arguments)},find:function(b,c,g){if(b&&c)for(var d=0,m=b.length;d<m;d++)if(c.call(g,b[d],d,b))return b[d]},isArrayLike:function(b){if(b)return"string"==typeof b?!1:"number"==typeof b.length},each:function(b,c,g){if(b&&c)if(b.forEach&&b.forEach===q)b.forEach(c,g);else if(b.length===+b.length)for(var d=0,m=b.length;d<m;d++)c.call(g,b[d],d,b);else for(d in b)b.hasOwnProperty(d)&&c.call(g,b[d],d,b)},map:function(b,c,g){if(b&&c){if(b.map&&b.map===t)return b.map(c,g);for(var d=[],m=0,e=b.length;m<e;m++)d.push(c.call(g,b[m],m,b));return d}},reduce:function(b,c,g,d){if(b&&c){if(b.reduce&&b.reduce===w)return b.reduce(c,g,d);for(var m=0,e=b.length;m<e;m++)g=c.call(d,g,b[m],m,b);return g}},filter:function(b,c,g){if(b&&c){if(b.filter&&b.filter===m)return b.filter(c,g);for(var d=[],e=0,q=b.length;e<q;e++)c.call(g,b[e],e,b)&&d.push(b[e]);return d}},bind:function(b,c){var d=g.call(arguments,2);return function(){return b.apply(c,d.concat(g.call(arguments)))}},curry:function(b){var c=g.call(arguments,1);return function(){return b.apply(this,c.concat(g.call(arguments)))}},isArray:k,isString:function(c){return"[object String]"===b.call(c)},isObject:h,isFunction:function(b){return"function"===typeof b},isBuildInObject:f,isDom:e,retrieve:function(b){for(var c=0,g=arguments.length;c<g;c++)if(null!=arguments[c])return arguments[c]},assert:function(b,c){if(!b)throw Error(c);},noop:function(){}};r.exports=x},function(r,p,a){var l=a(6),n=a(7),k=a(12),h=a(4),f={createNameEach:function(e,d){e=e.slice();var b=h.map(e,f.capitalFirst);d=(d||[]).slice();var c=h.map(d,f.capitalFirst);return function(q,m){h.each(e,function(g,e){for(var t={name:g,capital:b[e]},f=0;f<d.length;f++)t[d[f]]=g+c[f];q.call(m,t)})}},capitalFirst:function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}};f.eachAxisDim=f.createNameEach(["x","y","z","radius","angle"],["axisIndex","axis","index"]);f.normalizeToArray=function(e){return e instanceof Array?e:null==e?[]:[e]};f.createLinkedNodesFinder=function(e,d,b){function c(c,g){var m=!1;d(function(d){h.each(b(c,d)||[],function(b){g.records[d.name][b]&&(m=!0)})});return m}function q(c,g){g.nodes.push(c);d(function(d){h.each(b(c,d)||[],function(b){g.records[d.name][b]=!0})})}return function(b){function g(b){0<=h.indexOf(m.nodes,b)||!c(b,m)||(q(b,m),f=!0)}var m={nodes:[],records:{}};d(function(b){m.records[b.name]={}});if(!b)return m;q(b,m);var f;do f=!1,e(g);while(f);return m}};f.defaultEmphasis=function(e,d){if(e){var b=e.emphasis=e.emphasis||{},c=e.normal=e.normal||{};h.each(d,function(d){var m=h.retrieve(b[d],c[d]);null!=m&&(b[d]=m)})}};f.LABEL_OPTIONS=["position","show","textStyle","distance","formatter"];f.getDataItemValue=function(e){return e&&(null==e.value?e:e.value)};f.isDataItemOption=function(e){return h.isObject(e)&&!(e instanceof Array)};f.converDataValue=function(e,d){var b=d&&d.type;if("ordinal"===b)return e;"time"!==b||isFinite(e)||null==e||"-"===e||(e=+n.parseDate(e));return null==e||""===e?NaN:+e};f.createDataFormatModel=function(e,d){var b=new k;h.mixin(b,f.dataFormatMixin);b.seriesIndex=d.seriesIndex;b.name=d.name||"";b.mainType=d.mainType;b.subType=d.subType;b.getData=function(){return e};return b};f.dataFormatMixin={getDataParams:function(e,d){var b=this.getData(d),c=this.seriesIndex,q=this.name,m=this.getRawValue(e,d),g=b.getRawIndex(e),t=b.getName(e,!0),f=b.getRawDataItem(e);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:c,seriesName:q,name:t,dataIndex:g,data:f,dataType:d,value:m,color:b.getItemVisual(e,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,d,b,c){d=d||"normal";var q=this.getData(b).getItemModel(e);e=this.getDataParams(e,b);null!=c&&e.value instanceof Array&&(e.value=e.value[c]);c=q.get(["label",d,"formatter"]);if("function"===typeof c)return e.status=d,c(e);if("string"===typeof c)return l.formatTpl(c,e)},getRawValue:function(e,d){var b=this.getData(d).getRawDataItem(e);if(null!=b)return!h.isObject(b)||b instanceof Array?b:b.value},formatTooltip:h.noop};f.mappingToExists=function(e,d){d=(d||[]).slice();var b=h.map(e||[],function(b,d){return{exist:b}});h.each(d,function(c,e){if(h.isObject(c))for(var m=0;m<b.length;m++){var g=b[m].exist;if(!b[m].option&&(null!=c.id&&g.id===c.id+""||null!=c.name&&!f.isIdInner(c)&&!f.isIdInner(g)&&g.name===c.name+"")){b[m].option=c;d[e]=null;break}}});h.each(d,function(c,d){if(h.isObject(c)){for(var m=0;m<b.length;m++){var g=b[m].exist;if(!b[m].option&&!f.isIdInner(g)&&null==c.id){b[m].option=c;break}}m>=b.length&&b.push({option:c})}});return b};f.isIdInner=function(e){return h.isObject(e)&&e.id&&0===(e.id+"").indexOf("\x00_ec_\x00")};f.compressBatches=function(e,d){function b(b,c,d){for(var g=0,m=b.length;g<m;g++)for(var e=b[g].seriesId,q=f.normalizeToArray(b[g].dataIndex),t=d&&d[e],w=0,a=q.length;w<a;w++){var h=q[w];t&&t[h]?t[h]=null:(c[e]||(c[e]={}))[h]=1}}function c(b,d){var g=[],m;for(m in b)if(b.hasOwnProperty(m)&&null!=b[m])if(d)g.push(+m);else{var e=c(b[m],!0);e.length&&g.push({seriesId:m,dataIndex:e})}return g}var q={},m={};b(e||[],q);b(d||[],m,q);return[c(q),c(m)]};r.exports=f},function(r,p,a){function l(f){return 10>f?"0"+f:f}var n=a(4),k=a(7);p=a(8);var h="abcdefg".split("");r.exports={normalizeCssArray:function(f){var e=f.length;return"number"===typeof f?[f,f,f,f]:2===e?[f[0],f[1],f[0],f[1]]:3===e?[f[0],f[1],f[2],f[1]]:f},addCommas:function(f){if(isNaN(f))return"-";f=(f+"").split(".");return f[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<f.length?"."+f[1]:"")},toCamelCase:function(f){return f.toLowerCase().replace(/-(.)/g,function(e,d){return d.toUpperCase()})},encodeHTML:function(f){return String(f).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;")},formatTpl:function(f,e){n.isArray(e)||(e=[e]);var d=e.length;if(!d)return"";for(var b=e[0].$vars||[],c=0;c<b.length;c++){var q=h[c];f=f.replace("{"+q+"}","{"+q+0+"}")}for(c=0;c<d;c++)for(q=0;q<b.length;q++)f=f.replace("{"+h[q]+(null==c?"":c)+"}",e[c][b[q]]);return f},formatTime:function(f,e){if("week"===f||"month"===f||"quarter"===f||"half-year"===f||"year"===f)f="MM-dd\nyyyy";var d=k.parseDate(e),b=d.getFullYear(),c=d.getMonth()+1,q=d.getDate(),m=d.getHours(),g=d.getMinutes(),d=d.getSeconds();return f=f.replace("MM",l(c)).toLowerCase().replace("yyyy",b).replace("yy",b%100).replace("dd",l(q)).replace("d",q).replace("hh",l(m)).replace("h",m).replace("mm",l(g)).replace("m",g).replace("ss",l(d)).replace("s",d)},truncateText:p.truncateText}},function(r,p){var a={linearMap:function(a,n,k,h){var f=n[1]-n[0],e=k[1]-k[0];if(0===f)return 0===e?k[0]:(k[0]+k[1])/2;if(h)if(0<f){if(a<=n[0])return k[0];if(a>=n[1])return k[1]}else{if(a>=n[0])return k[0];if(a<=n[1])return k[1]}else{if(a===n[0])return k[0];if(a===n[1])return k[1]}return(a-n[0])/f*e+k[0]},parsePercent:function(a,n){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return"string"===typeof a?a.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(a)/100*n:parseFloat(a):null==a?NaN:+a},round:function(a){return+(+a).toFixed(10)},asc:function(a){a.sort(function(a,k){return a-k});return a},getPrecision:function(a){a=+a;if(isNaN(a))return 0;for(var l=1,k=0;Math.round(a*l)/l!==a;)l*=10,k++;return k},getPixelPrecision:function(a,n){var k=Math.log,h=Math.LN10,f=Math.floor(k(a[1]-a[0])/h),k=Math.round(k(Math.abs(n[1]-n[0]))/h);return Math.max(-f+k,0)},MAX_SAFE_INTEGER:9007199254740991,remRadian:function(a){var l=2*Math.PI;return(a%l+l)%l},isRadianAroundZero:function(a){return-1E-4<a&&1E-4>a},parseDate:function(a){return a instanceof Date?a:new Date("string"===typeof a?new Date(a.replace(/-/g,"/"))-new Date("1970/01/01"):Math.round(a))},quantity:function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},nice:function(l,n){var k=a.quantity(l),h=l/k;return(n?1.5>h?1:2.5>h?2:4>h?3:7>h?5:10:1>h?1:2>h?2:3>h?3:5>h?5:10)*k}};r.exports=a},function(r,p,a){function l(b,c){var e=b+":"+c;if(n[e])return n[e];for(var m=(b+"").split("\n"),g=0,t=0,f=m.length;t<f;t++)g=Math.max(d.measureText(m[t],c).width,g);5E3<k&&(k=0,n={});k++;return n[e]=g}var n={},k=0,h=a(4),f=a(9),e=h.retrieve,d={getWidth:l,getBoundingRect:function(b,c,d,m){var g=((b||"")+"").split("\n").length;b=l(b,c);c=l("\u56fd",c);g=new f(0,0,b,g*c);g.lineHeight=c;switch(m){case "bottom":case "alphabetic":g.y-=c;break;case "middle":g.y-=c/2}switch(d){case "end":case "right":g.x-=g.width;break;case "center":g.x-=g.width/2}return g},adjustTextPositionOnRect:function(b,c,d,m){var g=c.x,e=c.y,q=c.height;c=c.width;d=d.height;var f=q/2-d/2,a="left";switch(b){case "left":g-=m;e+=f;a="right";break;case "right":g+=m+c;e+=f;a="left";break;case "top":g+=c/2;e-=m+d;a="center";break;case "bottom":g+=c/2;e+=q+m;a="center";break;case "inside":g+=c/2;e+=f;a="center";break;case "insideLeft":g+=m;e+=f;a="left";break;case "insideRight":g+=c-m;e+=f;a="right";break;case "insideTop":g+=c/2;e+=m;a="center";break;case "insideBottom":g+=c/2;e+=q-d-m;a="center";break;case "insideTopLeft":g+=m;e+=m;a="left";break;case "insideTopRight":g+=c-m;e+=m;a="right";break;case "insideBottomLeft":g+=m;e+=q-d-m;break;case "insideBottomRight":g+=c-m,e+=q-d-m,a="right"}return{x:g,y:e,textAlign:a,textBaseline:"top"}},truncateText:function(b,c,d,m,g){if(!c)return"";g=g||{};m=e(m,"...");var q=e(g.maxIterations,2),f=e(g.minChar,0),a=l("\u56fd",d),h=l("a",d);g=e(g.placeholder,"");for(var k=c=Math.max(0,c-1),z=0;z<f&&k>=h;z++)k-=h;z=l(m);z>k&&(m="",z=0);k=c-z;b=(b+"").split("\n");z=0;for(f=b.length;z<f;z++){var A=b[z],n=l(A,d);if(!(n<=c)){for(var B=0;;B++){if(n<=k||B>=q){A+=m;break}if(0===B){for(var n=A,J=k,F=h,p=a,r=0,N=0,I=n.length;N<I&&r<J;N++)var E=n.charCodeAt(N),r=r+(0<=E&&127>=E?F:p);n=N}else n=0<n?Math.floor(A.length*k/n):0;A=A.substr(0,n);n=l(A,d)}""===A&&(A=g);b[z]=A}}return b.join("\n")},measureText:function(b,c){var d=h.getContext();d.font=c||"12px sans-serif";return d.measureText(b)}};r.exports=d},function(r,p,a){function l(d,b,c,e){this.x=d;this.y=b;this.width=c;this.height=e}p=a(10);var n=a(11),k=p.applyTransform,h=Math.min,f=Math.abs,e=Math.max;l.prototype={constructor:l,union:function(d){var b=h(d.x,this.x),c=h(d.y,this.y);this.width=e(d.x+d.width,this.x+this.width)-b;this.height=e(d.y+d.height,this.y+this.height)-c;this.x=b;this.y=c},applyTransform:function(){var d=[],b=[];return function(c){c&&(d[0]=this.x,d[1]=this.y,b[0]=this.x+this.width,b[1]=this.y+this.height,k(d,d,c),k(b,b,c),this.x=h(d[0],b[0]),this.y=h(d[1],b[1]),this.width=f(b[0]-d[0]),this.height=f(b[1]-d[1]))}}(),calculateTransform:function(d){var b=d.width/this.width,c=d.height/this.height,e=n.create();n.translate(e,e,[-this.x,-this.y]);n.scale(e,e,[b,c]);n.translate(e,e,[d.x,d.y]);return e},intersect:function(d){var b=this.x,c=this.y,e=this.y+this.height,m=d.x+d.width,g=d.y,t=d.y+d.height;return!(this.x+this.width<d.x||m<b||e<g||t<c)},contain:function(d,b){return d>=this.x&&d<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},clone:function(){return new l(this.x,this.y,this.width,this.height)},copy:function(d){this.x=d.x;this.y=d.y;this.width=d.width;this.height=d.height}};r.exports=l},function(r,p){var a="undefined"===typeof Float32Array?Array:Float32Array,l={create:function(n,k){var h=new a(2);null==n&&(n=0);null==k&&(k=0);h[0]=n;h[1]=k;return h},copy:function(a,k){a[0]=k[0];a[1]=k[1];return a},clone:function(n){var k=new a(2);k[0]=n[0];k[1]=n[1];return k},set:function(a,k,h){a[0]=k;a[1]=h;return a},add:function(a,k,h){a[0]=k[0]+h[0];a[1]=k[1]+h[1];return a},scaleAndAdd:function(a,k,h,f){a[0]=k[0]+h[0]*f;a[1]=k[1]+h[1]*f;return a},sub:function(a,k,h){a[0]=k[0]-h[0];a[1]=k[1]-h[1];return a},len:function(a){return Math.sqrt(this.lenSquare(a))},lenSquare:function(a){return a[0]*a[0]+a[1]*a[1]},mul:function(a,k,h){a[0]=k[0]*h[0];a[1]=k[1]*h[1];return a},div:function(a,k,h){a[0]=k[0]/h[0];a[1]=k[1]/h[1];return a},dot:function(a,k){return a[0]*k[0]+a[1]*k[1]},scale:function(a,k,h){a[0]=k[0]*h;a[1]=k[1]*h;return a},normalize:function(a,k){var h=l.len(k);0===h?(a[0]=0,a[1]=0):(a[0]=k[0]/h,a[1]=k[1]/h);return a},distance:function(a,k){return Math.sqrt((a[0]-k[0])*(a[0]-k[0])+(a[1]-k[1])*(a[1]-k[1]))},distanceSquare:function(a,k){return(a[0]-k[0])*(a[0]-k[0])+(a[1]-k[1])*(a[1]-k[1])},negate:function(a,k){a[0]=-k[0];a[1]=-k[1];return a},lerp:function(a,k,h,f){a[0]=k[0]+f*(h[0]-k[0]);a[1]=k[1]+f*(h[1]-k[1]);return a},applyTransform:function(a,k,h){var f=k[0];k=k[1];a[0]=h[0]*f+h[2]*k+h[4];a[1]=h[1]*f+h[3]*k+h[5];return a},min:function(a,k,h){a[0]=Math.min(k[0],h[0]);a[1]=Math.min(k[1],h[1]);return a},max:function(a,k,h){a[0]=Math.max(k[0],h[0]);a[1]=Math.max(k[1],h[1]);return a}};l.length=l.len;l.lengthSquare=l.lenSquare;l.dist=l.distance;l.distSquare=l.distanceSquare;r.exports=l},function(r,p){var a="undefined"===typeof Float32Array?Array:Float32Array,l={create:function(){var n=new a(6);l.identity(n);return n},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a},copy:function(a,k){a[0]=k[0];a[1]=k[1];a[2]=k[2];a[3]=k[3];a[4]=k[4];a[5]=k[5];return a},mul:function(a,k,h){var f=k[1]*h[0]+k[3]*h[1],e=k[0]*h[2]+k[2]*h[3],d=k[1]*h[2]+k[3]*h[3],b=k[0]*h[4]+k[2]*h[5]+k[4],c=k[1]*h[4]+k[3]*h[5]+k[5];a[0]=k[0]*h[0]+k[2]*h[1];a[1]=f;a[2]=e;a[3]=d;a[4]=b;a[5]=c;return a},translate:function(a,k,h){a[0]=k[0];a[1]=k[1];a[2]=k[2];a[3]=k[3];a[4]=k[4]+h[0];a[5]=k[5]+h[1];return a},rotate:function(a,k,h){var f=k[0],e=k[2],d=k[4],b=k[1],c=k[3];k=k[5];var q=Math.sin(h);h=Math.cos(h);a[0]=f*h+b*q;a[1]=-f*q+b*h;a[2]=e*h+c*q;a[3]=-e*q+h*c;a[4]=h*d+q*k;a[5]=h*k-q*d;return a},scale:function(a,k,h){var f=h[0];h=h[1];a[0]=k[0]*f;a[1]=k[1]*h;a[2]=k[2]*f;a[3]=k[3]*h;a[4]=k[4]*f;a[5]=k[5]*h;return a},invert:function(a,k){var h=k[0],f=k[2],e=k[4],d=k[1],b=k[3],c=k[5],q=h*b-d*f;if(!q)return null;q=1/q;a[0]=b*q;a[1]=-d*q;a[2]=-f*q;a[3]=h*q;a[4]=(f*c-b*e)*q;a[5]=(d*e-h*c)*q;return a}};r.exports=l},function(r,p,a){function l(a,f,e){this.parentModel=f;this.ecModel=e;this.option=a}var n=a(4),k=a(13);l.prototype={constructor:l,init:null,mergeOption:function(a){n.merge(this.option,a,!0)},get:function(a,f){if(!a)return this.option;"string"===typeof a&&(a=a.split("."));for(var e=this.option,d=this.parentModel,b=0;b<a.length&&(!a[b]||(e=e&&"object"===typeof e?e[a[b]]:null,null!=e));b++);null==e&&d&&!f&&(e=d.get(a));return e},getShallow:function(a,f){var e=this.option,e=e&&e[a],d=this.parentModel;null==e&&d&&!f&&(e=d.getShallow(a));return e},getModel:function(a,f){var e=this.get(a,!0),d=this.parentModel;return new l(e,f||d&&d.getModel(a),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(n.clone(this.option))},setReadOnly:function(a){k.setReadOnly(this,a)}};k.enableClassExtend(l);p=n.mixin;p(l,a(14));p(l,a(16));p(l,a(17));p(l,a(18));r.exports=l},function(r,p,a){function l(a,e){var d=k.slice(arguments,2);return this.superClass.prototype[e].apply(a,d)}function n(a,e,d){return this.superClass.prototype[e].apply(a,d)}var k=a(4);p={};var h=p.parseClassType=function(a){var e={main:"",sub:""};a&&(a=a.split("."),e.main=a[0]||"",e.sub=a[1]||"");return e};p.enableClassExtend=function(a){a.$constructor=a;a.extend=function(e){var d=this,b=function(){e.$constructor?e.$constructor.apply(this,arguments):d.apply(this,arguments)};k.extend(b.prototype,e);b.extend=this.extend;b.superCall=l;b.superApply=n;k.inherits(b,this);b.superClass=d;return b}};p.enableClassManagement=function(a,e){e=e||{};var d={};a.registerClass=function(b,e){if(e)if(e=h(e),!e.sub)d[e.main]&&console.warn(e.main+" exists."),d[e.main]=b;else if("___EC__COMPONENT__CONTAINER___"!==e.sub){var c=d[e.main];c&&c.___EC__COMPONENT__CONTAINER___||(c=d[e.main]={},c.___EC__COMPONENT__CONTAINER___=!0);c[e.sub]=b}return b};a.getClass=function(b,e,m){var c=d[b];c&&c.___EC__COMPONENT__CONTAINER___&&(c=e?c[e]:null);if(m&&!c)throw Error("Component "+b+"."+(e||"")+" not exists. Load it first.");return c};a.getClassesByMainType=function(b){b=h(b);var c=[];(b=d[b.main])&&b.___EC__COMPONENT__CONTAINER___?k.each(b,function(b,g){"___EC__COMPONENT__CONTAINER___"!==g&&c.push(b)}):c.push(b);return c};a.hasClass=function(b){b=h(b);return!!d[b.main]};a.getAllClassMainTypes=function(){var b=[];k.each(d,function(c,d){b.push(d)});return b};a.hasSubTypes=function(b){b=h(b);return(b=d[b.main])&&b.___EC__COMPONENT__CONTAINER___};a.parseClassType=h;if(e.registerWhenExtend){var b=a.extend;b&&(a.extend=function(c){var d=b.call(this,c);return a.registerClass(d,c.type)})}return a};p.setReadOnly=function(a,e){};r.exports=p},function(r,p,a){var l=a(15)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);r.exports={getLineStyle:function(a){a=l.call(this,a);var k=this.getLineDash();k&&(a.lineDash=k);return a},getLineDash:function(){var a=this.get("type");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}}},function(r,p,a){var l=a(4);r.exports=function(a){for(var k=0;k<a.length;k++)a[k][1]||(a[k][1]=a[k][0]);return function(h){for(var f={},e=0;e<a.length;e++){var d=a[e][1];h&&0<=l.indexOf(h,d)||(d=this.getShallow(d),null!=d&&(f[a[e][0]]=d))}return f}}},function(r,p,a){r.exports={getAreaStyle:a(15)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(r,p,a){var l=a(8);r.exports={getTextColor:function(){var a=this.ecModel;return this.getShallow("color")||a&&a.get("textStyle.color")},getFont:function(){var a=this.ecModel,a=a&&a.getModel("textStyle");return[this.getShallow("fontStyle")||a&&a.getShallow("fontStyle"),this.getShallow("fontWeight")||a&&a.getShallow("fontWeight"),(this.getShallow("fontSize")||a&&a.getShallow("fontSize")||12)+"px",this.getShallow("fontFamily")||a&&a.getShallow("fontFamily")||"sans-serif"].join(" ")},getTextRect:function(a){var k=this.get("textStyle")||{};return l.getBoundingRect(a,this.getFont(),k.align,k.baseline)},truncateText:function(a,k,h,f){return l.truncateText(a,k,this.getFont(),h,f)}}},function(r,p,a){var l=a(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);r.exports={getItemStyle:function(a){a=l.call(this,a);var k=this.getBorderLineDash();k&&(a.lineDash=k);return a},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}}},function(r,p,a){var l=a(12),n=a(4),k=Array.prototype.push,h=a(20),f=a(13),e=a(21),d=l.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(b,c,d,e){l.call(this,b,c,d,e);n.extend(this,e);this.uid=h.getUID("componentModel")},init:function(b,c,d,e){this.mergeDefaultAndTheme(b,d)},mergeDefaultAndTheme:function(b,c){var d=this.layoutMode,m=d?e.getLayoutParams(b):{},g=c.getTheme();n.merge(b,g.get(this.mainType));n.merge(b,this.getDefaultOption());d&&e.mergeLayoutParam(b,m,d)},mergeOption:function(b){n.merge(this.option,b,!0);var c=this.layoutMode;c&&e.mergeLayoutParam(this.option,b,c)},optionUpdated:function(b,c){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var b=[],c=this.constructor;c;){var d=c.prototype.defaultOption;d&&b.push(d);c=c.superClass}c={};for(d=b.length-1;0<=d;d--)c=n.merge(c,b[d],!0);this.__defaultOption=c}return this.__defaultOption}});f.enableClassManagement(d,{registerWhenExtend:!0});h.enableSubTypeDefaulter(d);h.enableTopologicalTravel(d,function(b){var c=[];n.each(d.getClassesByMainType(b),function(b){k.apply(c,b.prototype.dependencies||[])});return n.map(c,function(b){return f.parseClassType(b).main})});n.mixin(d,a(22));r.exports=d},function(r,p,a){var l=a(4),n=a(13).parseClassType,k=0;r.exports={getUID:function(a){return[a||"",k++,Math.random()].join("_")},enableSubTypeDefaulter:function(a){var f={};a.registerSubTypeDefaulter=function(e,d){e=n(e);f[e.main]=d};a.determineSubType=function(e,d){var b=d.type;if(!b){var c=n(e).main;a.hasSubTypes(e)&&f[c]&&(b=f[c](d))}return b};return a},enableTopologicalTravel:function(a,f){function e(c){var e={},m=[];l.each(c,function(g){var q=d(e,g),a=q.originalDeps=f(g),a=b(a,c);q.entryCount=a.length;0===q.entryCount&&m.push(g);l.each(a,function(b){0>l.indexOf(q.predecessor,b)&&q.predecessor.push(b);var c=d(e,b);0>l.indexOf(c.successor,b)&&c.successor.push(g)})});return{graph:e,noEntryList:m}}function d(b,d){b[d]||(b[d]={predecessor:[],successor:[]});return b[d]}function b(b,d){var c=[];l.each(b,function(b){0<=l.indexOf(d,b)&&c.push(b)});return c}a.topologicalTravel=function(b,d,m,g){function c(b){a[b].entryCount--;0===a[b].entryCount&&f.push(b)}function q(b){h[b]=!0;c(b)}if(b.length){d=e(d);var a=d.graph,f=d.noEntryList,h={};for(l.each(b,function(b){h[b]=!0});f.length;){b=f.pop();d=a[b];var k=!!h[b];k&&(m.call(g,b,d.originalDeps.slice()),delete h[b]);l.each(d.successor,k?q:c)}l.each(h,function(){throw Error("Circle dependency may exists");})}}}}},function(r,p,a){function l(b,d,e,g,a){var c=0,m=0;null==g&&(g=Infinity);null==a&&(a=Infinity);var q=0;d.eachChild(function(t,f){var w=t.position,h=t.getBoundingRect(),u=d.childAt(f+1),u=u&&u.getBoundingRect(),x,k;"horizontal"===b?(u=h.width+(u?-u.x+h.x:0),x=c+u,x>g||t.newline?(c=0,x=u,m+=q+e,q=h.height):q=Math.max(q,h.height)):(u=h.height+(u?-u.y+h.y:0),k=m+u,k>a||t.newline?(c+=q+e,m=0,k=u,q=h.width):q=Math.max(q,h.width));t.newline||(w[0]=c,w[1]=m,"horizontal"===b?c=x+e:m=k+e)})}var n=a(4),k=a(9);p=a(7);var h=a(6),f=p.parsePercent,e=n.each,d={},b="left right top bottom width height".split(" ");d.box=l;d.vbox=n.curry(l,"vertical");d.hbox=n.curry(l,"horizontal");d.getAvailableSize=function(b,d,e){var c=d.width;d=d.height;var m=f(b.x,c),q=f(b.y,d),a=f(b.x2,c),x=f(b.y2,d);(isNaN(m)||isNaN(parseFloat(b.x)))&&(m=0);(isNaN(a)||isNaN(parseFloat(b.x2)))&&(a=c);(isNaN(q)||isNaN(parseFloat(b.y)))&&(q=0);(isNaN(x)||isNaN(parseFloat(b.y2)))&&(x=d);e=h.normalizeCssArray(e||0);return{width:Math.max(a-m-e[1]-e[3],0),height:Math.max(x-q-e[0]-e[2],0)}};d.getLayoutRect=function(b,d,e){e=h.normalizeCssArray(e||0);var c=d.width;d=d.height;var m=f(b.left,c),q=f(b.top,d),a=f(b.right,c),x=f(b.bottom,d),v=f(b.width,c),z=f(b.height,d),l=e[2]+e[0],y=e[1]+e[3],n=b.aspect;isNaN(v)&&(v=c-a-y-m);isNaN(z)&&(z=d-x-l-q);isNaN(v)&&isNaN(z)&&(n>c/d?v=.8*c:z=.8*d);null!=n&&(isNaN(v)&&(v=n*z),isNaN(z)&&(z=v/n));isNaN(m)&&(m=c-a-v-y);isNaN(q)&&(q=d-x-z-l);switch(b.left||b.right){case "center":m=c/2-v/2-e[3];break;case "right":m=c-v-y}switch(b.top||b.bottom){case "middle":case "center":q=d/2-z/2-e[0];break;case "bottom":q=d-z-l}m=m||0;q=q||0;isNaN(v)&&(v=c-m-(a||0));isNaN(z)&&(z=d-q-(x||0));b=new k(m+e[3],q+e[0],v,z);b.margin=e;return b};d.positionGroup=function(b,e,m,g){var c=b.getBoundingRect();e=n.extend(n.clone(e),{width:c.width,height:c.height});e=d.getLayoutRect(e,m,g);b.attr("position",[e.x-c.x,e.y-c.y])};d.mergeLayoutParam=function(b,d,m){function c(c){var g={},q=0,a={},t=0,f=m.ignoreSize?1:2;e(c,function(c){a[c]=b[c]});e(c,function(b){d.hasOwnProperty(b)&&(g[b]=a[b]=d[b]);null!=g[b]&&"auto"!==g[b]&&q++;null!=a[b]&&"auto"!==a[b]&&t++});if(t!==f&&q){if(!(q>=f))for(f=0;f<c.length;f++){var w=c[f];if(!g.hasOwnProperty(w)&&b.hasOwnProperty(w)){g[w]=b[w];break}}return g}return a}function q(b,c,g){e(b,function(b){c[b]=g[b]})}!n.isObject(m)&&(m={});var a=["width","left","right"],f=["height","top","bottom"],h=c(a),k=c(f);q(a,b,h);q(f,b,k)};d.getLayoutParams=function(b){return d.copyLayoutParams({},b)};d.copyLayoutParams=function(c,d){d&&c&&e(b,function(b){d.hasOwnProperty(b)&&(c[b]=d[b])});return c};r.exports=d},function(r,p){r.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(r,p){var a="";"undefined"!==typeof navigator&&(a=navigator.platform||"");r.exports={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),grid:{},textStyle:{fontFamily:a.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3}},function(r,p){r.exports={clearColorPalette:function(){this._colorIdx=0;this._colorNameMap={}},getColorFromPalette:function(a,l){l=l||this;var n=l._colorIdx||0,k=l._colorNameMap||(l._colorNameMap={});if(k[a])return k[a];var h=this.get("color",!0)||[];if(h.length){var f=h[n];a&&(k[a]=f);l._colorIdx=(n+1)%h.length;return f}}}},function(r,p,a){var l=a(4),n="getDom getZr getWidth getHeight dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption".split(" ");r.exports=function(a){l.each(n,function(h){this[h]=l.bind(a[h],a)},this)}},function(r,p){function a(){this._coordinateSystems=[]}var l={};a.prototype={constructor:a,create:function(a,k){var h=[],f;for(f in l){var e=l[f].create(a,k);e&&(h=h.concat(e))}this._coordinateSystems=h},update:function(a,k){for(var h=this._coordinateSystems,f=0;f<h.length;f++)h[f].update&&h[f].update(a,k)}};a.register=function(a,k){l[a]=k};a.get=function(a){return l[a]};r.exports=a},function(r,p,a){function l(b){this._api=b;this._timelineOptions=[];this._mediaList=[];this._currentMediaIndices=[]}function n(b,g,d){var m=[],q=[],a,t,f=b.timeline;b.baseOption&&(t=b.baseOption);if(f||b.options)t=t||{},m=(b.options||[]).slice();b.media&&(t=t||{},c(b.media,function(b){b&&b.option&&(b.query?q.push(b):a||(a=b))}));t||(t=b);t.timeline||(t.timeline=f);c([t].concat(m).concat(e.map(q,function(b){return b.option})),function(b){c(g,function(c){c(b,d)})});return{baseOption:t,timelineOptions:m,mediaDefault:a,mediaList:q}}function k(b,c,g){var d={width:c,height:g,aspectratio:c/g},m=!0;e.each(b,function(b,c){var g=c.match(t);if(g&&g[1]&&g[2]){var e=g[1],g=g[2].toLowerCase();g=d[g];("min"===e?g>=b:"max"===e?g<=b:g===b)||(m=!1)}});return m}function h(b,c){return b.join(",")===c.join(",")}function f(e,q){q=q||{};c(q,function(c,q){if(null!=c){var a=e[q];b.hasClass(q)?(c=d.normalizeToArray(c),a=d.normalizeToArray(a),a=d.mappingToExists(a,c),e[q]=m(a,function(b){return b.option&&b.exist?g(b.exist,b.option,!0):b.exist||b.option})):e[q]=g(a,c,!0)}})}var e=a(4),d=a(5),b=a(19),c=e.each,q=e.clone,m=e.map,g=e.merge,t=/^(min|max)?(.+)$/;l.prototype={constructor:l,setOption:function(b,c){b=q(b,!0);var g=this._optionBackup,d=n.call(this,b,c,!g);this._newBaseOption=d.baseOption;g?(f(g.baseOption,d.baseOption),d.timelineOptions.length&&(g.timelineOptions=d.timelineOptions),d.mediaList.length&&(g.mediaList=d.mediaList),d.mediaDefault&&(g.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(b){var c=this._optionBackup;this._timelineOptions=m(c.timelineOptions,q);this._mediaList=m(c.mediaList,q);this._mediaDefault=q(c.mediaDefault);this._currentMediaIndices=[];return q(b?c.baseOption:this._newBaseOption)},getTimelineOption:function(b){var c,g=this._timelineOptions;g.length&&(b=b.getComponent("timeline"))&&(c=q(g[b.getCurrentIndex()],!0));return c},getMediaOption:function(b){b=this._api.getWidth();var c=this._api.getHeight(),g=this._mediaList,d=this._mediaDefault,e=[],a=[];if(!g.length&&!d)return a;for(var t=0,f=g.length;t<f;t++)k(g[t].query,b,c)&&e.push(t);!e.length&&d&&(e=[-1]);e.length&&!h(e,this._currentMediaIndices)&&(a=m(e,function(b){return q(-1===b?d.option:g[b].option)}));this._currentMediaIndices=e;return a}};r.exports=l},function(r,p,a){var l=a(4),n=a(6),k=a(5);p=a(19);var h=a(24),f=a(2),e=n.encodeHTML,d=n.addCommas;a=p.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",init:function(b,c,d,e){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(b,d);this._dataBeforeProcessed=this.getInitialData(b,d);this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(b,c){l.merge(b,c.getTheme().get(this.subType));l.merge(b,this.getDefaultOption());k.defaultEmphasis(b.label,k.LABEL_OPTIONS);this.fillDataTextStyle(b.data)},mergeOption:function(b,c){b=l.merge(this.option,b,!0);this.fillDataTextStyle(b.data);var d=this.getInitialData(b,c);d&&(this._data=d,this._dataBeforeProcessed=d.cloneShallow())},fillDataTextStyle:function(b){if(b)for(var c=0;c<b.length;c++)b[c]&&b[c].label&&k.defaultEmphasis(b[c].label,k.LABEL_OPTIONS)},getInitialData:function(){},getData:function(b){return null==b?this._data:this._data.getLinkedData(b)},setData:function(b){this._data=b},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(b){return[b]},dataDimToCoordDim:function(b){return b},getBaseAxis:function(){var b=this.coordinateSystem;return b&&b.getBaseAxis&&b.getBaseAxis()},formatTooltip:function(b,c,q){function m(b){return l.map(b,function(b,e){var m=g.getDimensionInfo(e),m=m&&m.type;return"ordinal"===m?b:"time"===m?c?"":n.formatTime("yyyy/mm/dd hh:mm:ss",b):d(b)}).filter(function(b){return!!b}).join(", ")}var g=this._data;q=this.getRawValue(b);q=l.isArray(q)?m(q):d(q);var a=g.getName(b);b='\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+g.getItemVisual(b,"color")+'"\x3e\x3c/span\x3e';var f=this.name;"\x00-"===f&&(f="");return c?b+e(this.name)+" : "+q:(f&&e(f)+"\x3cbr /\x3e")+b+(a?e(a)+" : "+q:q)},ifEnableAnimation:function(){if(f.node)return!1;var b=this.getShallow("animation");b&&this.getData().count()>this.getShallow("animationThreshold")&&(b=!1);return b},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getColorFromPalette:function(b,c){var d=this.ecModel,e=h.getColorFromPalette.call(this,b,c);e||(e=d.getColorFromPalette(b,c));return e},getAxisTooltipDataIndex:null});l.mixin(a,k.dataFormatMixin);l.mixin(a,h);r.exports=a},function(r,p,a){var l=a(30),n=a(20);p=a(13);a=function(){this.group=new l;this.uid=n.getUID("viewComponent")};a.prototype={constructor:a,init:function(a,f){},render:function(a,f,e,d){},dispose:function(){}};var k=a.prototype;k.updateView=k.updateLayout=k.updateVisual=function(a,f,e,d){};p.enableClassExtend(a);p.enableClassManagement(a,{registerWhenExtend:!0});r.exports=a},function(r,p,a){var l=a(4),n=a(31),k=a(9),h=function(a){a=a||{};n.call(this,a);for(var e in a)this[e]=a[e];this._children=[];this.__storage=null;this.__dirty=!0};h.prototype={constructor:h,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var e=this._children,d=0;d<e.length;d++)if(e[d].name===a)return e[d]},childCount:function(){return this._children.length},add:function(a){a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a));return this},addBefore:function(a,e){if(a&&a!==this&&a.parent!==this&&e&&e.parent===this){var d=this._children,b=d.indexOf(e);0<=b&&(d.splice(b,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var e=this.__storage,d=this.__zr;e&&e!==a.__storage&&(e.addToMap(a),a instanceof h&&a.addChildrenToStorage(e));d&&d.refresh()},remove:function(a){var e=this.__zr,d=this.__storage,b=this._children,c=l.indexOf(b,a);if(0>c)return this;b.splice(c,1);a.parent=null;d&&(d.delFromMap(a.id),a instanceof h&&a.delChildrenFromStorage(d));e&&e.refresh();return this},removeAll:function(){var a=this._children,e=this.__storage,d,b;for(b=0;b<a.length;b++)d=a[b],e&&(e.delFromMap(d.id),d instanceof h&&d.delChildrenFromStorage(e)),d.parent=null;a.length=0;return this},eachChild:function(a,e){for(var d=this._children,b=0;b<d.length;b++)a.call(e,d[b],b);return this},traverse:function(a,e){for(var d=0;d<this._children.length;d++){var b=this._children[d];a.call(e,b);"group"===b.type&&b.traverse(a,e)}return this},addChildrenToStorage:function(a){for(var e=0;e<this._children.length;e++){var d=this._children[e];a.addToMap(d);d instanceof h&&d.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var e=0;e<this._children.length;e++){var d=this._children[e];a.delFromMap(d.id);d instanceof h&&d.delChildrenFromStorage(a)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(a){var e=null,d=new k(0,0,0,0);a=a||this._children;for(var b=[],c=0;c<a.length;c++){var q=a[c];if(!q.ignore&&!q.invisible){var m=q.getBoundingRect();(q=q.getLocalTransform(b))?(d.copy(m),d.applyTransform(q),e=e||d.clone(),e.union(d)):(e=e||m.clone(),e.union(m))}}return e||d}};l.inherits(h,n);r.exports=h},function(r,p,a){var l=a(32),n=a(33),k=a(34),h=a(35),f=a(4);p=function(e){k.call(this,e);n.call(this,e);h.call(this,e);this.id=e.id||l()};p.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,d){switch(this.draggable){case "horizontal":d=0;break;case "vertical":e=0}var b=this.transform;b||(b=this.transform=[1,0,0,1,0,0]);b[4]+=e;b[5]+=d;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,d){},attrKV:function(e,d){if("position"===e||"scale"===e||"origin"===e){if(d){var b=this[e];b||(b=this[e]=[]);b[0]=d[0];b[1]=d[1]}}else this[e]=d},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(e,d){if("string"===typeof e)this.attrKV(e,d);else if(f.isObject(e))for(var b in e)e.hasOwnProperty(b)&&this.attrKV(b,e[b]);this.dirty(!1);return this},setClipPath:function(e){var d=this.__zr;d&&e.addSelfToZr(d);this.clipPath&&this.clipPath!==e&&this.removeClipPath();this.clipPath=e;e.__zr=d;e.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,this.clipPath=e.__clipTarget=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var d=this.animators;if(d)for(var b=0;b<d.length;b++)e.animation.addAnimator(d[b]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var d=this.animators;if(d)for(var b=0;b<d.length;b++)e.animation.removeAnimator(d[b]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};f.mixin(p,h);f.mixin(p,k);f.mixin(p,n);r.exports=p},function(r,p){var a=2311;r.exports=function(){return a++}},function(r,p){var a=Array.prototype.slice,l=function(){this._$handlers={}};l.prototype={constructor:l,one:function(a,k,h){var f=this._$handlers;if(!k||!a)return this;f[a]||(f[a]=[]);for(var e=0;e<f[a].length;e++)if(f[a][e].h===k)return this;f[a].push({h:k,one:!0,ctx:h||this});return this},on:function(a,k,h){var f=this._$handlers;if(!k||!a)return this;f[a]||(f[a]=[]);for(var e=0;e<f[a].length;e++)if(f[a][e].h===k)return this;f[a].push({h:k,one:!1,ctx:h||this});return this},isSilent:function(a){var k=this._$handlers;return k[a]&&k[a].length},off:function(a,k){var h=this._$handlers;if(!a)return this._$handlers={},this;if(k){if(h[a]){for(var f=[],e=0,d=h[a].length;e<d;e++)h[a][e].h!=k&&f.push(h[a][e]);h[a]=f}h[a]&&0===h[a].length&&delete h[a]}else delete h[a];return this},trigger:function(l){if(this._$handlers[l]){var k=arguments,h=k.length;3<h&&(k=a.call(k,1));for(var f=this._$handlers[l],e=f.length,d=0;d<e;){switch(h){case 1:f[d].h.call(f[d].ctx);break;case 2:f[d].h.call(f[d].ctx,k[1]);break;case 3:f[d].h.call(f[d].ctx,k[1],k[2]);break;default:f[d].h.apply(f[d].ctx,k)}f[d].one?(f.splice(d,1),e--):d++}}return this},triggerWithContext:function(l){if(this._$handlers[l]){var k=arguments,h=k.length;4<h&&(k=a.call(k,1,k.length-1));for(var f=k[k.length-1],e=this._$handlers[l],d=e.length,b=0;b<d;){switch(h){case 1:e[b].h.call(f);break;case 2:e[b].h.call(f,k[1]);break;case 3:e[b].h.call(f,k[1],k[2]);break;default:e[b].h.apply(f,k)}e[b].one?(e.splice(b,1),d--):b++}}return this}};r.exports=l},function(r,p,a){function l(e){return 5E-5<e||-5E-5>e}var n=a(11),k=a(10),h=n.identity;p=function(e){e=e||{};e.position||(this.position=[0,0]);null==e.rotation&&(this.rotation=0);e.scale||(this.scale=[1,1]);this.origin=this.origin||null};a=p.prototype;a.transform=null;a.needLocalTransform=function(){return l(this.rotation)||l(this.position[0])||l(this.position[1])||l(this.scale[0]-1)||l(this.scale[1]-1)};a.updateTransform=function(){var e=this.parent,d=e&&e.transform,b=this.needLocalTransform(),c=this.transform;b||d?(c=c||n.create(),b?this.getLocalTransform(c):h(c),d&&(b?n.mul(c,e.transform,c):n.copy(c,e.transform)),this.transform=c,this.invTransform=this.invTransform||n.create(),n.invert(this.invTransform,c)):c&&h(c)};a.getLocalTransform=function(e){e=e||[];h(e);var d=this.origin,b=this.scale,c=this.rotation,a=this.position;d&&(e[4]-=d[0],e[5]-=d[1]);n.scale(e,e,b);c&&n.rotate(e,e,c);d&&(e[4]+=d[0],e[5]+=d[1]);e[4]+=a[0];e[5]+=a[1];return e};a.setTransform=function(e){var d=this.transform;d&&e.transform(d[0],d[1],d[2],d[3],d[4],d[5])};a.restoreTransform=function(e){var d=this.invTransform;d&&e.transform(d[0],d[1],d[2],d[3],d[4],d[5])};var f=[];a.decomposeTransform=function(){if(this.transform){var e=this.parent,d=this.transform;e&&e.transform&&(n.mul(f,e.invTransform,d),d=f);var e=d[0]*d[0]+d[1]*d[1],b=d[2]*d[2]+d[3]*d[3],c=this.position,a=this.scale;l(e-1)&&(e=Math.sqrt(e));l(b-1)&&(b=Math.sqrt(b));0>d[0]&&(e=-e);0>d[3]&&(b=-b);c[0]=d[4];c[1]=d[5];a[0]=e;a[1]=b;this.rotation=Math.atan2(-d[1]/b,d[0]/e)}};a.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var d=Math.sqrt(e[0]*e[0]+e[1]*e[1]),b=Math.sqrt(e[2]*e[2]+e[3]*e[3]);0>e[0]&&(d=-d);0>e[3]&&(b=-b);return[d,b]};a.transformCoordToLocal=function(e,d){var b=[e,d],c=this.invTransform;c&&k.applyTransform(b,b,c);return b};a.transformCoordToGlobal=function(e,d){var b=[e,d],c=this.transform;c&&k.applyTransform(b,b,c);return b};r.exports=p},function(r,p,a){var l=a(36),n=a(4),k=n.isString,h=n.isFunction,f=n.isObject,e=a(40);p=function(){this.animators=[]};p.prototype={constructor:p,animate:function(d,b){var c,a=!1,m=this,g=this.__zr;if(d){for(var t=d.split("."),f=m,a="shape"===t[0],h=0,x=t.length;h<x;h++)f&&(f=f[t[h]]);f&&(c=f)}else c=m;if(c){var k=m.animators,z=new l(c,b);z.during(function(b){m.dirty(a)}).done(function(){k.splice(n.indexOf(k,z),1)});k.push(z);g&&g.animation.addAnimator(z);return z}e('Property "'+d+'" is not existed in element '+m.id)},stopAnimation:function(d){for(var b=this.animators,c=b.length,e=0;e<c;e++)b[e].stop(d);b.length=0;return this},animateTo:function(d,b,c,e,m){function g(){a--;a||m&&m()}k(c)?(m=e,e=c,c=0):h(e)?(m=e,e="linear",c=0):h(c)?(m=c,c=0):h(b)?(m=b,b=500):b||(b=500);this.stopAnimation();this._animateToShallow("",this,d,b,c,e,m);d=this.animators.slice();var a=d.length;a||m&&m();for(b=0;b<d.length;b++)d[b].done(g).start(e)},_animateToShallow:function(d,b,c,e,m){var g={},a=0,q;for(q in c)if(null!=b[q])f(c[q])&&!n.isArrayLike(c[q])?this._animateToShallow(d?d+"."+q:q,b[q],c[q],e,m):(g[q]=c[q],a++);else if(null!=c[q])if(d){var h={};h[d]={};h[d][q]=c[q];this.attr(h)}else this.attr(q,c[q]);0<a&&this.animate(d,!1).when(null==e?500:e,g).delay(m||0);return this}};r.exports=p},function(r,p,a){function l(b,c){return b[c]}function n(b,c,g){b[c]=g}function k(b,c,g,d,e){var m=b.length;if(1==e)for(e=0;e<m;e++){var a=b[e];d[e]=(c[e]-a)*g+a}else for(a=b[0].length,e=0;e<m;e++)for(var q=0;q<a;q++){var t=b[e][q];d[e][q]=(c[e][q]-t)*g+t}}function h(b,c,g){var d=b.length,e=c.length;if(d!==e)if(d>e)b.length=e;else for(;d<e;d++)b.push(1===g?c[d]:w.call(c[d]));e=b[0]&&b[0].length;for(d=0;d<b.length;d++)if(1===g)isNaN(b[d])&&(b[d]=c[d]);else for(var m=0;m<e;m++)isNaN(b[d][m])&&(b[d][m]=c[d][m])}function f(b,c,g){if(b===c)return!0;var d=b.length;if(d!==c.length)return!1;if(1===g)for(g=0;g<d;g++){if(b[g]!==c[g])return!1}else{var e=b[0].length;for(g=0;g<d;g++)for(var m=0;m<e;m++)if(b[g][m]!==c[g][m])return!1}return!0}function e(b,c,g,e,m,a,q,t,f){var w=b.length;if(1==f)for(f=0;f<w;f++)t[f]=d(b[f],c[f],g[f],e[f],m,a,q);else{var h=b[0].length;for(f=0;f<w;f++)for(var x=0;x<h;x++)t[f][x]=d(b[f][x],c[f][x],g[f][x],e[f][x],m,a,q)}}function d(b,c,g,d,e,m,a){b=.5*(g-b);d=.5*(d-c);return(2*(c-g)+b+d)*a+(-3*(c-g)-2*b-d)*m+b*e+c}function b(b){if(t(b)){var c=b.length;if(t(b[0])){for(var g=[],d=0;d<c;d++)g.push(w.call(b[d]));return g}return w.call(b)}return b}function c(b){b[0]=Math.floor(b[0]);b[1]=Math.floor(b[1]);b[2]=Math.floor(b[2]);return"rgba("+b.join(",")+")"}function q(b,a,q,w,l){var x=b._getter,u=b._setter,z="spline"===a,v=w.length;if(v){var A=w[0].value,n=t(A),p=!1,r=!1,E=n&&t(A[0])?2:1;w.sort(function(b,c){return b.time-c.time});for(var A=w[v-1].time,L=[],G=[],H=w[0].value,C=!0,M=0;M<v;M++){L.push(w[M].time/A);var S=w[M].value;n&&f(S,H,E)||!n&&S===H||(C=!1);H=S;if("string"==typeof S){var P=g.parse(S);P?(S=P,p=!0):r=!0}G.push(S)}if(!C){w=G[v-1];for(M=0;M<v-1;M++)n?h(G[M],w,E):!isNaN(G[M])||isNaN(w)||r||p||(G[M]=w);n&&h(x(b._target,l),w,E);var R=0,O=0,T,Q,W,V,X,aa;if(p)var Z=[0,0,0,0];b=new m({target:b._target,life:A,loop:b._loop,delay:b._delay,onframe:function(b,g){var m;if(g<O){for(m=T=Math.min(R+1,v-1);0<=m&&!(L[m]<=g);m--);m=Math.min(m,v-2)}else{for(m=R;m<v&&!(L[m]>g);m++);m=Math.min(m-1,v-2)}R=m;O=g;var a=L[m+1]-L[m];if(0!==a)if(Q=(g-L[m])/a,z)if(V=G[m],W=G[0===m?m:m-1],X=G[m>v-2?v-1:m+1],aa=G[m>v-3?v-1:m+2],n)e(W,V,X,aa,Q,Q*Q,Q*Q*Q,x(b,l),E);else{if(p)e(W,V,X,aa,Q,Q*Q,Q*Q*Q,Z,1),m=c(Z);else{if(r)return.5<Q?X:V;m=d(W,V,X,aa,Q,Q*Q,Q*Q*Q)}u(b,l,m)}else if(n)k(G[m],G[m+1],Q,x(b,l),E);else{if(p)k(G[m],G[m+1],Q,Z,1),m=c(Z);else{if(r)return.5<Q?G[m+1]:G[m];a=G[m];m=(G[m+1]-a)*Q+a}u(b,l,m)}},ondestroy:q});a&&"spline"!==a&&(b.easing=a);return b}}}var m=a(37),g=a(39),t=a(4).isArrayLike,w=Array.prototype.slice;p=function(b,c,g,d){this._tracks={};this._target=b;this._loop=c||!1;this._getter=g||l;this._setter=d||n;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};p.prototype={when:function(c,g){var d=this._tracks,e;for(e in g){if(!d[e]){d[e]=[];var m=this._getter(this._target,e);if(null==m)continue;0!==c&&d[e].push({time:0,value:b(m)})}d[e].push({time:c,value:g[e]})}return this},during:function(b){this._onframeList.push(b);return this},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var b=this._doneList,c=b.length,g=0;g<c;g++)b[g].call(this)},start:function(b){var c=this,g=0,d=function(){g--;g||c._doneCallback()},e,m;for(m in this._tracks){var a=q(this,b,d,this._tracks[m],m);a&&(this._clipList.push(a),g++,this.animation&&this.animation.addClip(a),e=a)}if(e){var t=e.onframe;e.onframe=function(b,g){t(b,g);for(var d=0;d<c._onframeList.length;d++)c._onframeList[d](b,g)}}g||this._doneCallback();return this},stop:function(b){for(var c=this._clipList,g=this.animation,d=0;d<c.length;d++){var e=c[d];if(b)e.onframe(this._target,1);g&&g.removeClip(e)}c.length=0},delay:function(b){this._delay=b;return this},done:function(b){b&&this._doneList.push(b);return this},getClips:function(){return this._clipList}};r.exports=p},function(r,p,a){function l(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=null==a.loop?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart}var n=a(38);l.prototype={constructor:l,step:function(a){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);a=(a-this._startTime)/this._life;if(!(0>a)){a=Math.min(a,1);var h=this.easing,h="string"==typeof h?n[h]:h,h="function"===typeof h?h(a):a;this.fire("frame",h);if(1==a){if(this.loop)return this.restart(),"restart";this._needsRemove=!0;return"destroy"}return null}},restart:function(){var a=((new Date).getTime()-this._startTime)%this._life;this._startTime=(new Date).getTime()-a+this.gap;this._needsRemove=!1},fire:function(a,h){a="on"+a;if(this[a])this[a](this._target,h)}};r.exports=l},function(r,p){var a={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var l,k=.1;if(0===a)return 0;if(1===a)return 1;!k||1>k?(k=1,l=.1):l=.4*Math.asin(1/k)/(2*Math.PI);return-(k*Math.pow(2,10*--a)*Math.sin(2*(a-l)*Math.PI/.4))},elasticOut:function(a){var l,k=.1;if(0===a)return 0;if(1===a)return 1;!k||1>k?(k=1,l=.1):l=.4*Math.asin(1/k)/(2*Math.PI);return k*Math.pow(2,-10*a)*Math.sin(2*(a-l)*Math.PI/.4)+1},elasticInOut:function(a){var l,k=.1;if(0===a)return 0;if(1===a)return 1;!k||1>k?(k=1,l=.1):l=.4*Math.asin(1/k)/(2*Math.PI);return 1>(a*=2)?-.5*k*Math.pow(2,10*--a)*Math.sin(2*(a-l)*Math.PI/.4):k*Math.pow(2,-10*--a)*Math.sin(2*(a-l)*Math.PI/.4)*.5+1},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(l){return 1-a.bounceOut(1-l)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(l){return.5>l?.5*a.bounceIn(2*l):.5*a.bounceOut(2*l-1)+.5}};r.exports=a},function(r,p){function a(b){b=Math.round(b);return 0>b?0:255<b?255:b}function l(b){return 0>b?0:1<b?1:b}function n(b){return b.length&&"%"===b.charAt(b.length-1)?a(parseFloat(b)/100*255):a(parseInt(b,10))}function k(b){return b.length&&"%"===b.charAt(b.length-1)?l(parseFloat(b)/100):l(parseFloat(b))}function h(b,c,g){0>g?g+=1:1<g&&--g;return 1>6*g?b+(c-b)*g*6:1>2*g?c:2>3*g?b+(c-b)*(2/3-g)*6:b}function f(b,c,g){return b+(c-b)*g}function e(b){if(b){var a=(b+"").replace(/ /g,"").toLowerCase();if(a in c)return c[a].slice();if("#"===a.charAt(0)){if(4===a.length)return b=parseInt(a.substr(1),16),0<=b&&4095>=b?[(b&3840)>>4|(b&3840)>>8,b&240|(b&240)>>4,b&15|(b&15)<<4,1]:void 0;if(7===a.length)return b=parseInt(a.substr(1),16),0<=b&&16777215>=b?[(b&16711680)>>16,(b&65280)>>8,b&255,1]:void 0}else{var g=a.indexOf("("),e=a.indexOf(")");if(-1!==g&&e+1===a.length)switch(b=a.substr(0,g),a=a.substr(g+1,e-(g+1)).split(","),g=1,b){case "rgba":if(4!==a.length)break;g=k(a.pop());case "rgb":if(3!==a.length)break;return[n(a[0]),n(a[1]),n(a[2]),g];case "hsla":if(4!==a.length)break;a[3]=k(a[3]);return d(a);case "hsl":if(3===a.length)return d(a)}}}}function d(b){var c=(parseFloat(b[0])%360+360)%360/360,g=k(b[1]),d=k(b[2]),g=.5>=d?d*(g+1):d+g-d*g,d=2*d-g,c=[a(255*h(d,g,c+1/3)),a(255*h(d,g,c)),a(255*h(d,g,c-1/3))];4===b.length&&(c[3]=b[3]);return c}function b(b,c){var g=b[0]+","+b[1]+","+b[2];if("rgba"===c||"hsva"===c||"hsla"===c)g+=","+b[3];return c+"("+g+")"}var c={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};r.exports={parse:e,lift:function(c,d){var g=e(c);if(g){for(var a=0;3>a;a++)g[a]=0>d?g[a]*(1-d)|0:(255-g[a])*d+g[a]|0;return b(g,4===g.length?"rgba":"rgb")}},toHex:function(b,c){var g=e(b);if(g)return(16777216+(g[0]<<16)+(g[1]<<8)+ +g[2]).toString(16).slice(1)},fastMapToColor:function(b,c,g){if(c&&c.length&&0<=b&&1>=b){g=g||[0,0,0,0];var d=b*(c.length-1),e=Math.floor(d);b=c[e];c=c[Math.ceil(d)];d-=e;g[0]=a(f(b[0],c[0],d));g[1]=a(f(b[1],c[1],d));g[2]=a(f(b[2],c[2],d));g[3]=a(f(b[3],c[3],d));return g}},mapToColor:function(c,d,g){if(d&&d.length&&0<=c&&1>=c){c*=d.length-1;var m=Math.floor(c),q=Math.ceil(c),h=e(d[m]);d=e(d[q]);var x=c-m,h=b([a(f(h[0],d[0],x)),a(f(h[1],d[1],x)),a(f(h[2],d[2],x)),l(f(h[3],d[3],x))],"rgba");return g?{color:h,leftIndex:m,rightIndex:q,value:c}:h}},modifyHSL:function(c,a,g,t){if(c=e(c)){if(c){var m=c[0]/255,q=c[1]/255,f=c[2]/255,h=Math.min(m,q,f),z=Math.max(m,q,f),A=z-h,l=(z+h)/2,n;if(0===A)h=n=0;else{var h=.5>l?A/(z+h):A/(2-z-h),J=((z-m)/6+A/2)/A,p=((z-q)/6+A/2)/A,A=((z-f)/6+A/2)/A;m===z?n=A-p:q===z?n=1/3+J-A:f===z&&(n=2/3+p-J);0>n&&(n+=1);1<n&&--n}m=[360*n,h,l];null!=c[3]&&m.push(c[3]);c=m}else c=void 0;null!=a&&(a=Math.round(a),c[0]=0>a?0:360<a?360:a);null!=g&&(c[1]=k(g));null!=t&&(c[2]=k(t));return b(d(c),"rgba")}},modifyAlpha:function(c,d){if((c=e(c))&&null!=d)return c[3]=l(d),b(c,"rgba")},stringify:b}},function(r,p,a){var l=a(41);r.exports=function(){if(0!==l.debugMode)if(1==l.debugMode)for(var a in arguments)throw Error(arguments[a]);else if(1<l.debugMode)for(a in arguments)console.log(arguments[a])}},function(r,p){var a=1;"undefined"!==typeof window&&(a=Math.max(window.devicePixelRatio||1,1));r.exports={debugMode:0,devicePixelRatio:a}},function(r,p,a){function l(){this.group=new h;this.uid=f.getUID("viewChart")}function n(a,d){if(a&&(a.trigger(d),"group"===a.type))for(var b=0;b<a.childCount();b++)n(a.childAt(b),d)}function k(a,d,b){var c=d&&d.dataIndex;d=d&&d.name;if(null!=c){c=c instanceof Array?c:[c];d=0;for(var e=c.length;d<e;d++)n(a.getItemGraphicEl(c[d]),b)}else if(d){var m=d instanceof Array?d:[d];d=0;for(e=m.length;d<e;d++)c=a.indexOfName(m[d]),n(a.getItemGraphicEl(c),b)}else a.eachItemGraphicEl(function(c){n(c,b)})}var h=a(30),f=a(20);p=a(13);l.prototype={type:"chart",init:function(a,d){},render:function(a,d,b,c){},highlight:function(a,d,b,c){k(a.getData(),c,"emphasis")},downplay:function(a,d,b,c){k(a.getData(),c,"normal")},remove:function(a,d){this.group.removeAll()},dispose:function(){}};a=l.prototype;a.updateView=a.updateLayout=a.updateVisual=function(a,d,b,c){this.render(a,d,b,c)};p.enableClassExtend(l);p.enableClassManagement(l,{registerWhenExtend:!0});r.exports=l},function(r,p,a){function l(b){return"string"===typeof b?v.lift(b,-.1):b}function n(b){if(b.__hoverStlDirty){var c=b.style.stroke,d=b.style.fill,g=b.__hoverStl;g.fill=g.fill||(null!=d&&"none"!=d?l(d):null);g.stroke=g.stroke||(null!=c&&"none"!=c?l(c):null);var c={},a;for(a in g)g.hasOwnProperty(a)&&(c[a]=b.style[a]);b.__normalStl=c;b.__hoverStlDirty=!1}}function k(b){b.__isHover||(n(b),b.useHoverLayer?b.__zr&&b.__zr.addHover(b,b.__hoverStl):(b.setStyle(b.__hoverStl),b.z2+=1),b.__isHover=!0)}function h(b){if(b.__isHover){var c=b.__normalStl;b.useHoverLayer?b.__zr&&b.__zr.removeHover(b):(c&&b.setStyle(c),--b.z2);b.__isHover=!1}}function f(b){"group"===b.type?b.traverse(function(b){"group"!==b.type&&k(b)}):k(b)}function e(b){"group"===b.type?b.traverse(function(b){"group"!==b.type&&h(b)}):h(b)}function d(b,c){b.__hoverStl=b.hoverStyle||c||{};b.__hoverStlDirty=!0;b.__isHover&&n(b)}function b(){!this.__isEmphasis&&f(this)}function c(){!this.__isEmphasis&&e(this)}function q(){this.__isEmphasis=!0;f(this)}function m(){this.__isEmphasis=!1;e(this)}function g(b,c,d,g,a,e){"function"===typeof a&&(e=a,a=null);if(g&&(g.ifEnableAnimation?g.ifEnableAnimation():g.getShallow("animation"))){var m=b?"Update":"";b=g&&g.getShallow("animationDuration"+m);var q=g&&g.getShallow("animationEasing"+m);g=g&&g.getShallow("animationDelay"+m);"function"===typeof g&&(g=g(a));0<b?c.animateTo(d,b,g||0,q,e):(c.attr(d),e&&e())}else c.attr(d),e&&e()}var t=a(4),w=a(44),u=Math.round,x=a(45),v=a(39),z=a(11),A=a(10);a(61);var y={};y.Group=a(30);y.Image=a(62);y.Text=a(64);y.Circle=a(65);y.Sector=a(66);y.Ring=a(67);y.Polygon=a(68);y.Polyline=a(72);y.Rect=a(73);y.Line=a(75);y.BezierCurve=a(76);y.Arc=a(77);y.CompoundPath=a(78);y.LinearGradient=a(79);y.RadialGradient=a(80);y.BoundingRect=a(9);y.extendShape=function(b){return x.extend(b)};y.extendPath=function(b,c){return w.extendFromString(b,c)};y.makePath=function(b,c,g,d){b=w.createFromString(b,c);c=b.getBoundingRect();if(g){c=c.width/c.height;if("center"===d){d=g.height*c;d<=g.width?c=g.height:(d=g.width,c=d/c);var a=g.y+g.height/2;g.x=g.x+g.width/2-d/2;g.y=a-c/2;g.width=d;g.height=c}this.resizePath(b,g)}return b};y.mergePath=w.mergePath;y.resizePath=function(b,c){if(b.applyTransform){var g=b.getBoundingRect().calculateTransform(c);b.applyTransform(g)}};y.subPixelOptimizeLine=function(b){var c=y.subPixelOptimize,g=b.shape,d=b.style.lineWidth;u(2*g.x1)===u(2*g.x2)&&(g.x1=g.x2=c(g.x1,d,!0));u(2*g.y1)===u(2*g.y2)&&(g.y1=g.y2=c(g.y1,d,!0));return b};y.subPixelOptimizeRect=function(b){var c=y.subPixelOptimize,g=b.shape,d=b.style.lineWidth,a=g.x,e=g.y,m=g.width,q=g.height;g.x=c(g.x,d,!0);g.y=c(g.y,d,!0);g.width=Math.max(c(a+m,d,!1)-g.x,0===m?0:1);g.height=Math.max(c(e+q,d,!1)-g.y,0===q?0:1);return b};y.subPixelOptimize=function(b,c,g){b=u(2*b);return 0===(b+u(c))%2?b/2:(b+(g?1:-1))/2};y.setHoverStyle=function(g,a){"group"===g.type?g.traverse(function(b){"group"!==b.type&&d(b,a)}):d(g,a);g.on("mouseover",b).on("mouseout",c);g.on("emphasis",q).on("normal",m)};y.setText=function(b,c,g){var d=c.getShallow("position")||"inside";g=0<=d.indexOf("inside")?"white":g;var a=c.getModel("textStyle");t.extend(b,{textDistance:c.getShallow("distance")||5,textFont:a.getFont(),textPosition:d,textFill:a.getTextColor()||g})};y.updateProps=function(b,c,d,a,e){g(!0,b,c,d,a,e)};y.initProps=function(b,c,d,a,e){g(!1,b,c,d,a,e)};y.getTransform=function(b,c){for(var g=z.identity([]);b&&b!==c;)z.mul(g,b.getLocalTransform(),g),b=b.parent;return g};y.applyTransform=function(b,c,g){g&&(c=z.invert([],c));return A.applyTransform([],b,c)};y.transformDirection=function(b,c,g){var d=0===c[4]||0===c[5]||0===c[0]?1:Math.abs(2*c[4]/c[0]),a=0===c[4]||0===c[5]||0===c[2]?1:Math.abs(2*c[4]/c[2]);b=["left"===b?-d:"right"===b?d:0,"top"===b?-a:"bottom"===b?a:0];b=y.applyTransform(b,c,g);return Math.abs(b[0])>Math.abs(b[1])?0<b[0]?"right":"left":0<b[1]?"bottom":"top"};y.groupTransition=function(b,c,g,d){function a(b){var c={position:A.clone(b.position),rotation:b.rotation};b.shape&&(c.shape=t.extend({},b.shape));return c}if(b&&c){var e=function(b){var c={};b.traverse(function(b){!b.isGroup&&b.anid&&(c[b.anid]=b)});return c}(b);c.traverse(function(b){if(!b.isGroup&&b.anid){var c=e[b.anid];if(c){var d=a(b);b.attr(a(c));y.updateProps(b,d,g,b.dataIndex)}}})}};r.exports=y},function(r,p,a){function l(b,d,a,e,f,h,k,l,n,p,r){n*=g/180;var x=m(n)*(b-a)/2+q(n)*(d-e)/2,u=-1*q(n)*(b-a)/2+m(n)*(d-e)/2,z=x*x/(k*k)+u*u/(l*l);1<z&&(k*=c(z),l*=c(z));z=(f===h?-1:1)*c((k*k*l*l-k*k*u*u-l*l*x*x)/(k*k*u*u+l*l*x*x))||0;f=z*k*u/l;z=z*-l*x/k;b=(b+a)/2+m(n)*f-q(n)*z;d=(d+e)/2+q(n)*f+m(n)*z;e=w([1,0],[(x-f)/k,(u-z)/l]);a=[(x-f)/k,(u-z)/l];x=[(-1*x-f)/k,(-1*u-z)/l];u=w(a,x);-1>=t(a,x)&&(u=g);1<=t(a,x)&&(u=0);0===h&&0<u&&(u-=2*g);1===h&&0>u&&(u+=2*g);r.addData(p,b,d,k,l,e,u,n,h)}function n(c){if(!c)return[];var g=c.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(c=0;c<b.length;c++)g=g.replace(new RegExp(b[c],"g"),"|"+b[c]);var g=g.split("|"),d=0,a=0,e=new f,m=f.CMD,q;for(c=1;c<g.length;c++){var t=g[c],w=t.charAt(0),h=0,t=t.slice(1).replace(/e,-/g,"e-").split(","),k;0<t.length&&""===t[0]&&t.shift();for(var u=0;u<t.length;u++)t[u]=parseFloat(t[u]);for(;h<t.length&&!isNaN(t[h])&&!isNaN(t[0]);){var n,p,r,G,H,C;switch(w){case "l":d+=t[h++];a+=t[h++];k=m.L;e.addData(k,d,a);break;case "L":d=t[h++];a=t[h++];k=m.L;e.addData(k,d,a);break;case "m":d+=t[h++];a+=t[h++];k=m.M;e.addData(k,d,a);w="l";break;case "M":d=t[h++];a=t[h++];k=m.M;e.addData(k,d,a);w="L";break;case "h":d+=t[h++];k=m.L;e.addData(k,d,a);break;case "H":d=t[h++];k=m.L;e.addData(k,d,a);break;case "v":a+=t[h++];k=m.L;e.addData(k,d,a);break;case "V":a=t[h++];k=m.L;e.addData(k,d,a);break;case "C":k=m.C;e.addData(k,t[h++],t[h++],t[h++],t[h++],t[h++],t[h++]);d=t[h-2];a=t[h-1];break;case "c":k=m.C;e.addData(k,t[h++]+d,t[h++]+a,t[h++]+d,t[h++]+a,t[h++]+d,t[h++]+a);d+=t[h-2];a+=t[h-1];break;case "S":n=d;p=a;k=e.len();u=e.data;q===m.C&&(n+=d-u[k-4],p+=a-u[k-3]);k=m.C;u=t[h++];C=t[h++];d=t[h++];a=t[h++];e.addData(k,n,p,u,C,d,a);break;case "s":n=d;p=a;k=e.len();u=e.data;q===m.C&&(n+=d-u[k-4],p+=a-u[k-3]);k=m.C;u=d+t[h++];C=a+t[h++];d+=t[h++];a+=t[h++];e.addData(k,n,p,u,C,d,a);break;case "Q":u=t[h++];C=t[h++];d=t[h++];a=t[h++];k=m.Q;e.addData(k,u,C,d,a);break;case "q":u=t[h++]+d;C=t[h++]+a;d+=t[h++];a+=t[h++];k=m.Q;e.addData(k,u,C,d,a);break;case "T":n=d;p=a;k=e.len();u=e.data;q===m.Q&&(n+=d-u[k-4],p+=a-u[k-3]);d=t[h++];a=t[h++];k=m.Q;e.addData(k,n,p,d,a);break;case "t":n=d;p=a;k=e.len();u=e.data;q===m.Q&&(n+=d-u[k-4],p+=a-u[k-3]);d+=t[h++];a+=t[h++];k=m.Q;e.addData(k,n,p,d,a);break;case "A":n=t[h++];p=t[h++];r=t[h++];G=t[h++];H=t[h++];u=d;C=a;d=t[h++];a=t[h++];k=m.A;l(u,C,d,a,G,H,n,p,r,k,e);break;case "a":n=t[h++],p=t[h++],r=t[h++],G=t[h++],H=t[h++],u=d,C=a,d+=t[h++],a+=t[h++],k=m.A,l(u,C,d,a,G,H,n,p,r,k,e)}}if("z"===w||"Z"===w)k=m.Z,e.addData(k);q=k}e.toStatic();return e}function k(b,c){var g=n(b),a;c=c||{};c.buildPath=function(b){b.setData(g.data);a&&e(b,a);var c=b.getContext();c&&b.rebuildPath(c)};c.applyTransform=function(b){a||(a=d.create());d.mul(a,b,a)};return c}var h=a(45),f=a(49),e=a(60),d=a(11),b="mMlLvVhHzZcCqQtTsSaA".split(""),c=Math.sqrt,q=Math.sin,m=Math.cos,g=Math.PI,t=function(b,c){return(b[0]*c[0]+b[1]*c[1])/(Math.sqrt(b[0]*b[0]+b[1]*b[1])*Math.sqrt(c[0]*c[0]+c[1]*c[1]))},w=function(b,c){return(b[0]*c[1]<b[1]*c[0]?-1:1)*Math.acos(t(b,c))};r.exports={createFromString:function(b,c){return new h(k(b,c))},extendFromString:function(b,c){return h.extend(k(b,c))},mergePath:function(b,c){for(var d=[],g=b.length,a=0;a<g;a++){var e=b[a];e.__dirty&&e.buildPath(e.path,e.shape,!0);d.push(e.path)}g=new h(c);g.buildPath=function(b){b.appendPath(d);var c=b.getContext();c&&b.rebuildPath(c)};return g}}},function(r,p,a){function l(b){n.call(this,b);this.path=new h}var n=a(46),k=a(4),h=a(49),f=a(52),e=a(59).prototype.getCanvasPattern,d=Math.abs;l.prototype={constructor:l,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(b,c){var d=this.style,a=this.path,g=d.hasStroke(),t=d.hasFill(),f=d.fill,h=d.stroke,k=t&&!!f.colorStops,v=g&&!!h.colorStops,z=t&&!!f.image,l=g&&!!h.image;d.bind(b,this,c);this.setTransform(b);if(this.__dirty){var n=this.getBoundingRect();k&&(this._fillGradient=d.getGradient(b,f,n));v&&(this._strokeGradient=d.getGradient(b,h,n))}k?b.fillStyle=this._fillGradient:z&&(b.fillStyle=e.call(f,b));v?b.strokeStyle=this._strokeGradient:l&&(b.strokeStyle=e.call(h,b));f=d.lineDash;h=d.lineDashOffset;k=!!b.setLineDash;v=this.getGlobalScale();a.setScale(v[0],v[1]);this.__dirtyPath||f&&!k&&g?(a=this.path.beginPath(b),f&&!k&&(a.setLineDash(f),a.setLineDashOffset(h)),this.buildPath(a,this.shape,!1),this.__dirtyPath=!1):(b.beginPath(),this.path.rebuildPath(b));t&&a.fill(b);f&&k&&(b.setLineDash(f),b.lineDashOffset=h);g&&a.stroke(b);f&&k&&b.setLineDash([]);this.restoreTransform(b);(d.text||0===d.text)&&this.drawRectText(b,this.getBoundingRect())},buildPath:function(b,c,d){},getBoundingRect:function(){var b=this._rect,c=this.style,d=!b;if(d){var a=this.path;this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1));b=a.getBoundingRect()}this._rect=b;if(c.hasStroke()){a=this._rectWithStroke||(this._rectWithStroke=b.clone());if(this.__dirty||d)a.copy(b),d=c.lineWidth,b=c.strokeNoScale?this.getLineScale():1,c.hasFill()||(d=Math.max(d,this.strokeContainThreshold||4)),1E-10<b&&(a.width+=d/b,a.height+=d/b,a.x-=d/b/2,a.y-=d/b/2);return a}return b},contain:function(b,c){var d=this.transformCoordToLocal(b,c),a=this.getBoundingRect(),g=this.style;b=d[0];c=d[1];if(a.contain(b,c)){d=this.path.data;if(g.hasStroke()){var a=g.lineWidth,e=g.strokeNoScale?this.getLineScale():1;if(1E-10<e&&(g.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),f.containStroke(d,a/e,b,c)))return!0}if(g.hasFill())return f.contain(d,b,c)}return!1},dirty:function(b){null==b&&(b=!0);b&&(this.__dirtyPath=b,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(b){return this.animate("shape",b)},attrKV:function(b,c){"shape"===b?(this.setShape(c),this.__dirtyPath=!0,this._rect=null):n.prototype.attrKV.call(this,b,c)},setShape:function(b,c){var d=this.shape;if(d){if(k.isObject(b))for(var a in b)d[a]=b[a];else d[b]=c;this.dirty(!0)}return this},getLineScale:function(){var b=this.transform;return b&&1E-10<d(b[0]-1)&&1E-10<d(b[3]-1)?Math.sqrt(d(b[0]*b[3]-b[2]*b[1])):1}};l.extend=function(b){var c=function(c){l.call(this,c);b.style&&this.style.extendFrom(b.style,!1);var d=b.shape;if(d){var a=this.shape=this.shape||{},e;for(e in d)!a.hasOwnProperty(e)&&d.hasOwnProperty(e)&&(a[e]=d[e])}b.init&&b.init.call(this,c)};k.inherits(c,l);for(var d in b)"style"!==d&&"shape"!==d&&(c.prototype[d]=b[d]);return c};k.inherits(l,n);r.exports=l},function(r,p,a){function l(a){a=a||{};k.call(this,a);for(var f in a)a.hasOwnProperty(f)&&"style"!==f&&(this[f]=a[f]);this.style=new n(a.style);this._rect=null;this.__clipPaths=[]}p=a(4);var n=a(47),k=a(31);a=a(48);l.prototype={constructor:l,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,f){},getBoundingRect:function(){},contain:function(a,f){return this.rectContain(a,f)},traverse:function(a,f){a.call(f,this)},rectContain:function(a,f){var e=this.transformCoordToLocal(a,f);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,f){"style"!==a?k.prototype.attrKV.call(this,a,f):this.style.set(f)},setStyle:function(a,f){this.style.set(a,f);this.dirty(!1);return this},useStyle:function(a){this.style=new n(a);this.dirty(!1);return this}};p.inherits(l,k);p.mixin(l,a);r.exports=l},function(r,p){function a(d,b,c){var a=b.x,e=b.x2,g=b.y,t=b.y2;b.global||(a=a*c.width+c.x,e=e*c.width+c.x,g=g*c.height+c.y,t=t*c.height+c.y);return d.createLinearGradient(a,g,e,t)}function l(d,b,c){var a=c.width,e=c.height,g=Math.min(a,e),t=b.x,f=b.y,h=b.r;b.global||(t=t*a+c.x,f=f*e+c.y,h*=g);return d.createRadialGradient(t,f,0,t,f,h)}var n=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],k=function(d){this.extendFrom(d)};k.prototype={constructor:k,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,blend:null,bind:function(d,b,c){c=c&&c.style;for(var a=!c,e=0;e<n.length;e++){var g=n[e],t=g[0];if(a||this[t]!==c[t])d[t]=this[t]||g[1]}if(a||this.fill!==c.fill)d.fillStyle=this.fill;if(a||this.stroke!==c.stroke)d.strokeStyle=this.stroke;if(a||this.opacity!==c.opacity)d.globalAlpha=null==this.opacity?1:this.opacity;if(a||this.blend!==c.blend)d.globalCompositeOperation=this.blend||"source-over";this.hasStroke()&&(d.lineWidth=this.lineWidth/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1))},hasFill:function(){var d=this.fill;return null!=d&&"none"!==d},hasStroke:function(){var d=this.stroke;return null!=d&&"none"!==d&&0<this.lineWidth},extendFrom:function(d,b){if(d)for(var c in d)!d.hasOwnProperty(c)||!b&&this.hasOwnProperty(c)||(this[c]=d[c])},set:function(d,b){"string"===typeof d?this[d]=b:this.extendFrom(d,!0)},clone:function(){var d=new this.constructor;d.extendFrom(this,!0);return d},getGradient:function(d,b,c){d=("radial"===b.type?l:a)(d,b,c);b=b.colorStops;for(c=0;c<b.length;c++)d.addColorStop(b[c].offset,b[c].color);return d}};for(var h=k.prototype,f=0;f<n.length;f++){var e=n[f];e[0]in h||(h[e[0]]=e[1])}k.getGradient=h.getGradient;r.exports=k},function(r,p,a){function l(a,f){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*f:parseFloat(a):a}var n=a(8),k=new (a(9));p=function(){};p.prototype={constructor:p,drawRectText:function(a,f,e){var d=this.style,b=d.text;null!=b&&(b+="");if(b){a.save();var c,q=d.textPosition;c=d.textDistance;var m=d.textAlign,g=d.textFont||d.font,t=d.textBaseline,w=d.textVerticalAlign;e=e||n.getBoundingRect(b,g,m,t);var h=this.transform;h&&(k.copy(f),k.applyTransform(h),f=k);if(q instanceof Array){if(c=f.x+l(q[0],f.width),f=f.y+l(q[1],f.height),m=m||"left",t=t||"top",w){switch(w){case "middle":f-=e.height/2-e.lineHeight/2;break;case "bottom":f-=e.height-e.lineHeight/2;break;default:f+=e.lineHeight/2}t="middle"}}else w=n.adjustTextPositionOnRect(q,f,e,c),c=w.x,f=w.y,m=m||w.textAlign,t=t||w.textBaseline;a.textAlign=m||"left";a.textBaseline=t||"alphabetic";m=d.textFill;t=d.textStroke;m&&(a.fillStyle=m);t&&(a.strokeStyle=t);a.font=g;a.shadowBlur=d.textShadowBlur;a.shadowColor=d.textShadowColor||"transparent";a.shadowOffsetX=d.textShadowOffsetX;a.shadowOffsetY=d.textShadowOffsetY;d=b.split("\n");for(b=0;b<d.length;b++)m&&a.fillText(d[b],c,f),t&&a.strokeText(d[b],c,f),f+=e.lineHeight;a.restore()}}};r.exports=p},function(r,p,a){var l=a(50),n=a(10),k=a(51),h=a(9),f=a(41).devicePixelRatio,e={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},d=[],b=[],c=[],q=[],m=Math.min,g=Math.max,t=Math.cos,w=Math.sin,u=Math.sqrt,x=Math.abs,v="undefined"!=typeof Float32Array;p=function(){this.data=[];this._len=0;this._ctx=null;this._uy=this._ux=this._y0=this._x0=this._yi=this._xi=0};p.prototype={constructor:p,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(b,c){this._ux=x(1/f/b)||0;this._uy=x(1/f/c)||0},getContext:function(){return this._ctx},beginPath:function(b){(this._ctx=b)&&b.beginPath();this._len=0;this._lineDash&&(this._lineDash=null,this._dashOffset=0);return this},moveTo:function(b,c){this.addData(e.M,b,c);this._ctx&&this._ctx.moveTo(b,c);this._x0=b;this._y0=c;this._xi=b;this._yi=c;return this},lineTo:function(b,c){var d=x(b-this._xi)>this._ux||x(c-this._yi)>this._uy||5>this._len;this.addData(e.L,b,c);this._ctx&&d&&(this._needsDash()?this._dashedLineTo(b,c):this._ctx.lineTo(b,c));d&&(this._xi=b,this._yi=c);return this},bezierCurveTo:function(b,c,d,a,g,m){this.addData(e.C,b,c,d,a,g,m);this._ctx&&(this._needsDash()?this._dashedBezierTo(b,c,d,a,g,m):this._ctx.bezierCurveTo(b,c,d,a,g,m));this._xi=g;this._yi=m;return this},quadraticCurveTo:function(b,c,d,a){this.addData(e.Q,b,c,d,a);this._ctx&&(this._needsDash()?this._dashedQuadraticTo(b,c,d,a):this._ctx.quadraticCurveTo(b,c,d,a));this._xi=d;this._yi=a;return this},arc:function(b,c,d,a,g,m){this.addData(e.A,b,c,d,d,a,g-a,0,m?0:1);this._ctx&&this._ctx.arc(b,c,d,a,g,m);this._xi=t(g)*d+b;this._xi=w(g)*d+b;return this},arcTo:function(b,c,d,a,g){this._ctx&&this._ctx.arcTo(b,c,d,a,g);return this},rect:function(b,c,d,a){this._ctx&&this._ctx.rect(b,c,d,a);this.addData(e.R,b,c,d,a);return this},closePath:function(){this.addData(e.Z);var b=this._ctx,c=this._x0,d=this._y0;b&&(this._needsDash()&&this._dashedLineTo(c,d),b.closePath());this._xi=c;this._yi=d;return this},fill:function(b){b&&b.fill();this.toStatic()},stroke:function(b){b&&b.stroke();this.toStatic()},setLineDash:function(b){if(b instanceof Array){this._lineDash=b;for(var c=this._dashIdx=0,d=0;d<b.length;d++)c+=b[d];this._dashSum=c}return this},setLineDashOffset:function(b){this._dashOffset=b;return this},len:function(){return this._len},setData:function(b){var c=b.length;this.data&&this.data.length==c||!v||(this.data=new Float32Array(c));for(var d=0;d<c;d++)this.data[d]=b[d];this._len=c},appendPath:function(b){b instanceof Array||(b=[b]);for(var c=b.length,d=0,a=this._len,g=0;g<c;g++)d+=b[g].len();v&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+d));for(g=0;g<c;g++)for(var d=b[g].data,e=0;e<d.length;e++)this.data[a++]=d[e];this._len=a},addData:function(b){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d];this._prevCmd=b},_expandData:function(){if(!(this.data instanceof Array)){for(var b=[],c=0;c<this._len;c++)b[c]=this.data[c];this.data=b}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(b,c){var d=this._dashSum,a=this._dashOffset,e=this._lineDash,t=this._ctx,q=this._xi,f=this._yi,w=b-q,h=c-f,k=u(w*w+h*h),x=e.length,v,w=w/k,h=h/k;0>a&&(a=d+a);a%=d;d=q-a*w;for(a=f-a*h;0<w&&d<=b||0>w&&d>=b||0==w&&(0<h&&a<=c||0>h&&a>=c);)if(v=this._dashIdx,k=e[v],d+=w*k,a+=h*k,this._dashIdx=(v+1)%x,!(0<w&&d<q||0>w&&d>q||0<h&&a<f||0>h&&a>f))t[v%2?"moveTo":"lineTo"](0<=w?m(d,b):g(d,b),0<=h?m(a,c):g(a,c));w=d-b;h=a-c;this._dashOffset=-u(w*w+h*h)},_dashedBezierTo:function(b,c,d,a,g,e){var m=this._dashSum,t=this._dashOffset,q=this._lineDash,f=this._ctx,w=this._xi,h=this._yi,k,x,v=l.cubicAt,z=0,n=this._dashIdx,A=q.length,y,B,p=0;0>t&&(t=m+t);t%=m;for(m=0;1>m;m+=.1)k=v(w,b,d,g,m+.1)-v(w,b,d,g,m),x=v(h,c,a,e,m+.1)-v(h,c,a,e,m),z+=u(k*k+x*x);for(;n<A&&!(p+=q[n],p>t);n++);for(m=(p-t)/z;1>=m;)y=v(w,b,d,g,m),B=v(h,c,a,e,m),n%2?f.moveTo(y,B):f.lineTo(y,B),m+=q[n]/z,n=(n+1)%A;0!==n%2&&f.lineTo(g,e);k=g-y;x=e-B;this._dashOffset=-u(k*k+x*x)},_dashedQuadraticTo:function(b,c,d,a){var g=d,e=a;d=(d+2*b)/3;a=(a+2*c)/3;b=(this._xi+2*b)/3;c=(this._yi+2*c)/3;this._dashedBezierTo(b,c,d,a,g,e)},toStatic:function(){var b=this.data;b instanceof Array&&(b.length=this._len,v&&(this.data=new Float32Array(b)))},getBoundingRect:function(){d[0]=d[1]=c[0]=c[1]=Number.MAX_VALUE;b[0]=b[1]=q[0]=q[1]=-Number.MAX_VALUE;for(var a=this.data,g=0,m=0,f=0,x=0,u=0;u<a.length;){var v=a[u++];1==u&&(g=a[u],m=a[u+1],f=g,x=m);switch(v){case e.M:f=a[u++];x=a[u++];g=f;m=x;c[0]=f;c[1]=x;q[0]=f;q[1]=x;break;case e.L:k.fromLine(g,m,a[u],a[u+1],c,q);g=a[u++];m=a[u++];break;case e.C:k.fromCubic(g,m,a[u++],a[u++],a[u++],a[u++],a[u],a[u+1],c,q);g=a[u++];m=a[u++];break;case e.Q:k.fromQuadratic(g,m,a[u++],a[u++],a[u],a[u+1],c,q);g=a[u++];m=a[u++];break;case e.A:var g=a[u++],m=a[u++],l=a[u++],v=a[u++],p=a[u++],r=a[u++]+p;u++;var E=1-a[u++];1==u&&(f=t(p)*l+g,x=w(p)*v+m);k.fromArc(g,m,l,v,p,r,E,c,q);g=t(r)*l+g;m=w(r)*v+m;break;case e.R:f=g=a[u++];x=m=a[u++];v=a[u++];r=a[u++];k.fromLine(f,x,f+v,x+r,c,q);break;case e.Z:g=f,m=x}n.min(d,d,c);n.max(b,b,q)}0===u&&(d[0]=d[1]=b[0]=b[1]=0);return new h(d[0],d[1],b[0]-d[0],b[1]-d[1])},rebuildPath:function(b){for(var c=this.data,d,a,g,m,q,f,h=this._ux,k=this._uy,u=this._len,v=0;v<u;)switch(q=c[v++],1==v&&(g=c[v],m=c[v+1],d=g,a=m),q){case e.M:d=g=c[v++];a=m=c[v++];b.moveTo(g,m);break;case e.L:q=c[v++];f=c[v++];if(x(q-g)>h||x(f-m)>k||v===u-1)b.lineTo(q,f),g=q,m=f;break;case e.C:b.bezierCurveTo(c[v++],c[v++],c[v++],c[v++],c[v++],c[v++]);g=c[v-2];m=c[v-1];break;case e.Q:b.quadraticCurveTo(c[v++],c[v++],c[v++],c[v++]);g=c[v-2];m=c[v-1];break;case e.A:g=c[v++];m=c[v++];f=c[v++];q=c[v++];var z=c[v++],l=c[v++],n=c[v++],p=c[v++],r=f>q?f:q,P=f>q?1:f/q,R=f>q?q/f:1,l=z+l;.001<Math.abs(f-q)?(b.translate(g,m),b.rotate(n),b.scale(P,R),b.arc(0,0,r,z,l,1-p),b.scale(1/P,1/R),b.rotate(-n),b.translate(-g,-m)):b.arc(g,m,r,z,l,1-p);1==v&&(d=t(z)*f+g,a=w(z)*q+m);g=t(l)*f+g;m=w(l)*q+m;break;case e.R:d=g=c[v];a=m=c[v+1];b.rect(c[v++],c[v++],c[v++],c[v++]);break;case e.Z:b.closePath(),g=d,m=a}}};p.CMD=e;r.exports=p},function(r,p,a){function l(b,c,d,a,e){var g=1-e;return g*g*(g*b+3*e*c)+e*e*(e*a+3*g*d)}function n(b,c,d,a){var g=1-a;return g*(g*b+2*a*c)+a*a*d}p=a(10);a=p.create;var k=p.distSquare,h=Math.pow,f=Math.sqrt,e=f(3),d=1/3,b=a(),c=a(),q=a();r.exports={cubicAt:l,cubicDerivativeAt:function(b,c,d,a,e){var g=1-e;return 3*(((c-b)*g+2*(d-c)*e)*g+(a-d)*e*e)},cubicRootAt:function(b,c,a,q,k,x){q=q+3*(c-a)-b;a=3*(a-2*c+b);var g=3*(c-b),m=b-k;k=a*a-3*q*g;c=a*g-9*q*m;b=0;if(-1E-8<k&&1E-8>k&&-1E-8<c&&1E-8>c)-1E-8<a&&1E-8>a?x[0]=0:(k=-g/a,0<=k&&1>=k&&(x[b++]=k));else if(g=c*c-4*k*(g*g-3*a*m),-1E-8<g&&1E-8>g)c/=k,k=-a/q+c,c=-c/2,0<=k&&1>=k&&(x[b++]=k),0<=c&&1>=c&&(x[b++]=c);else if(0<g)m=f(g),g=k*a+1.5*q*(-c+m),k=k*a+1.5*q*(-c-m),g=0>g?-h(-g,d):h(g,d),k=0>k?-h(-k,d):h(k,d),k=(-a-(g+k))/(3*q),0<=k&&1>=k&&(x[b++]=k);else{c=(2*k*a-3*q*c)/(2*f(k*k*k));var g=Math.acos(c)/3,m=f(k),t=Math.cos(g);k=(-a-2*m*t)/(3*q);c=(-a+m*(t+e*Math.sin(g)))/(3*q);q=(-a+m*(t-e*Math.sin(g)))/(3*q);0<=k&&1>=k&&(x[b++]=k);0<=c&&1>=c&&(x[b++]=c);0<=q&&1>=q&&(x[b++]=q)}return b},cubicExtrema:function(b,c,a,d,e){var g=6*a-12*c+6*b;a=9*c+3*d-3*b-9*a;c=3*c-3*b;b=0;if(-1E-8<a&&1E-8>a){if(1E-8<g||-1E-8>g)c=-c/g,0<=c&&1>=c&&(e[b++]=c)}else c=g*g-4*a*c,-1E-8<c&&1E-8>c?e[0]=-g/(2*a):0<c&&(d=f(c),c=(-g+d)/(2*a),g=(-g-d)/(2*a),0<=c&&1>=c&&(e[b++]=c),0<=g&&1>=g&&(e[b++]=g));return b},cubicSubdivide:function(b,c,a,d,e,q){var g=(c-b)*e+b,m=(a-c)*e+c;a=(d-a)*e+a;c=(m-g)*e+g;m=(a-m)*e+m;e=(m-c)*e+c;q[0]=b;q[1]=g;q[2]=c;q[3]=e;q[4]=e;q[5]=m;q[6]=a;q[7]=d},cubicProjectPoint:function(a,d,e,w,h,x,v,z,n,y,B){var g,m=.005,t=Infinity,u;b[0]=n;b[1]=y;for(n=0;1>n;n+=.05)c[0]=l(a,e,h,v,n),c[1]=l(d,w,x,z,n),y=k(b,c),y<t&&(g=n,t=y);for(var t=Infinity,A=0;32>A&&!(1E-4>m);A++)u=g-m,n=g+m,c[0]=l(a,e,h,v,u),c[1]=l(d,w,x,z,u),y=k(c,b),0<=u&&y<t?(g=u,t=y):(q[0]=l(a,e,h,v,n),q[1]=l(d,w,x,z,n),y=k(q,b),1>=n&&y<t?(g=n,t=y):m*=.5);B&&(B[0]=l(a,e,h,v,g),B[1]=l(d,w,x,z,g));return f(t)},quadraticAt:n,quadraticDerivativeAt:function(b,c,a,d){return 2*((1-d)*(c-b)+d*(a-c))},quadraticRootAt:function(b,c,a,d,e){a=b-2*c+a;c=2*(c-b);d=b-d;b=0;if(-1E-8<a&&1E-8>a){if(1E-8<c||-1E-8>c)d=-d/c,0<=d&&1>=d&&(e[b++]=d)}else if(d=c*c-4*a*d,-1E-8<d&&1E-8>d)d=-c/(2*a),0<=d&&1>=d&&(e[b++]=d);else if(0<d){var g=f(d);d=(-c+g)/(2*a);a=(-c-g)/(2*a);0<=d&&1>=d&&(e[b++]=d);0<=a&&1>=a&&(e[b++]=a)}return b},quadraticExtremum:function(b,c,a){a=b+a-2*c;return 0===a?.5:(b-c)/a},quadraticSubdivide:function(b,c,a,d,e){var g=(c-b)*d+b;c=(a-c)*d+c;d=(c-g)*d+g;e[0]=b;e[1]=g;e[2]=d;e[3]=d;e[4]=c;e[5]=a},quadraticProjectPoint:function(a,d,e,h,u,x,v,l,A){var g,m=.005,t=Infinity;b[0]=v;b[1]=l;for(l=0;1>l;l+=.05)c[0]=n(a,e,u,l),c[1]=n(d,h,x,l),v=k(b,c),v<t&&(g=l,t=v);t=Infinity;for(l=0;32>l&&!(1E-4>m);l++){var w=g-m,z=g+m;c[0]=n(a,e,u,w);c[1]=n(d,h,x,w);v=k(c,b);0<=w&&v<t?(g=w,t=v):(q[0]=n(a,e,u,z),q[1]=n(d,h,x,z),v=k(q,b),1>=z&&v<t?(g=z,t=v):m*=.5)}A&&(A[0]=n(a,e,u,g),A[1]=n(d,h,x,g));return f(t)}}},function(r,p,a){var l=a(10),n=a(50);p={};var k=Math.min,h=Math.max,f=Math.sin,e=Math.cos,d=l.create(),b=l.create(),c=l.create(),q=2*Math.PI;p.fromPoints=function(b,c,a){if(0!==b.length){var d=b[0],g=d[0],e=d[0],m=d[1],q=d[1],f;for(f=1;f<b.length;f++)d=b[f],g=k(g,d[0]),e=h(e,d[0]),m=k(m,d[1]),q=h(q,d[1]);c[0]=g;c[1]=m;a[0]=e;a[1]=q}};p.fromLine=function(b,c,d,a,g,e){g[0]=k(b,d);g[1]=k(c,a);e[0]=h(b,d);e[1]=h(c,a)};var m=[],g=[];p.fromCubic=function(b,c,d,a,e,q,f,l,B,p){var t=n.cubicExtrema,w=n.cubicAt,x,u=t(b,d,e,f,m);B[0]=Infinity;B[1]=Infinity;p[0]=-Infinity;p[1]=-Infinity;for(x=0;x<u;x++){var v=w(b,d,e,f,m[x]);B[0]=k(v,B[0]);p[0]=h(v,p[0])}u=t(c,a,q,l,g);for(x=0;x<u;x++)d=w(c,a,q,l,g[x]),B[1]=k(d,B[1]),p[1]=h(d,p[1]);B[0]=k(b,B[0]);p[0]=h(b,p[0]);B[0]=k(f,B[0]);p[0]=h(f,p[0]);B[1]=k(c,B[1]);p[1]=h(c,p[1]);B[1]=k(l,B[1]);p[1]=h(l,p[1])};p.fromQuadratic=function(b,c,d,a,g,e,m,q){var f=n.quadraticExtremum,t=n.quadraticAt,w=h(k(f(b,d,g),1),0),f=h(k(f(c,a,e),1),0);d=t(b,d,g,w);a=t(c,a,e,f);m[0]=k(b,g,d);m[1]=k(c,e,a);q[0]=h(b,g,d);q[1]=h(c,e,a)};p.fromArc=function(a,g,m,h,k,z,n,y,B){var t=l.min,w=l.max,x=Math.abs(k-z);if(1E-4>x%q&&1E-4<x)y[0]=a-m,y[1]=g-h,B[0]=a+m,B[1]=g+h;else for(d[0]=e(k)*m+a,d[1]=f(k)*h+g,b[0]=e(z)*m+a,b[1]=f(z)*h+g,t(y,d,b),w(B,d,b),k%=q,0>k&&(k+=q),z%=q,0>z&&(z+=q),k>z&&!n?z+=q:k<z&&n&&(k+=q),n&&(n=z,z=k,k=n),n=0;n<z;n+=Math.PI/2)n>k&&(c[0]=e(n)*m+a,c[1]=f(n)*h+g,t(y,c,y),w(B,c,B))};r.exports=p},function(r,p,a){function l(a,w,u,x,v){for(var t=0,l=0,y=0,B=0,p=0,r=0;r<a.length;){var K=a[r++];K===n.M&&1<r&&(u||(t+=b(l,y,B,p,x,v)));1==r&&(l=a[r],y=a[r+1],B=l,p=y);switch(K){case n.M:B=a[r++];p=a[r++];l=B;y=p;break;case n.L:if(u){if(c(l,y,a[r],a[r+1],w,x,v))return!0}else t+=b(l,y,a[r],a[r+1],x,v)||0;l=a[r++];y=a[r++];break;case n.C:if(u){if(k.containStroke(l,y,a[r++],a[r++],a[r++],a[r++],a[r],a[r+1],w,x,v))return!0}else{var K=t,D;D=l;var N=y,I=a[r++],E=a[r++],L=a[r++],y=a[r++],l=a[r],t=a[r+1],G=x;if(v>N&&v>E&&v>y&&v>t||v<N&&v<E&&v<y&&v<t)D=0;else{var H=d.cubicRootAt(N,E,y,t,v,m);if(0===H)D=0;else{for(var C=0,M=-1,S=void 0,P=void 0,R=0;R<H;R++){var O=m[R],T=0===O||1===O?.5:1;d.cubicAt(D,I,L,l,O)<G||(0>M&&(M=d.cubicExtrema(N,E,y,t,g),g[1]<g[0]&&1<M&&(S=g[0],g[0]=g[1],g[1]=S),S=d.cubicAt(N,E,y,t,g[0]),1<M&&(P=d.cubicAt(N,E,y,t,g[1]))),C=2==M?O<g[0]?C+(S<N?T:-T):O<g[1]?C+(P<S?T:-T):C+(t<P?T:-T):O<g[0]?C+(S<N?T:-T):C+(t<S?T:-T))}D=C}}t=K+(D||0)}l=a[r++];y=a[r++];break;case n.Q:if(u){if(h.containStroke(l,y,a[r++],a[r++],a[r],a[r+1],w,x,v))return!0}else{K=t;D=l;N=y;I=a[r++];H=a[r++];E=a[r];L=a[r+1];y=x;if(v>N&&v>H&&v>L||v<N&&v<H&&v<L)D=0;else if(l=d.quadraticRootAt(N,H,L,v,m),0===l)D=0;else if(t=d.quadraticExtremum(N,H,L),0<=t&&1>=t){G=0;H=d.quadraticAt(N,H,L,t);for(C=0;C<l;C++)M=0===m[C]||1===m[C]?.5:1,P=d.quadraticAt(D,I,E,m[C]),P<y||(G=m[C]<t?G+(H<N?M:-M):G+(L<H?M:-M));D=G}else M=0===m[0]||1===m[0]?.5:1,P=d.quadraticAt(D,I,E,m[0]),D=P<y?0:L<N?M:-M;t=K+(D||0)}l=a[r++];y=a[r++];break;case n.A:K=a[r++];D=a[r++];N=a[r++];I=a[r++];E=a[r++];L=a[r++];r++;H=1-a[r++];G=Math.cos(E)*N+K;C=Math.sin(E)*I+D;1<r?t+=b(l,y,G,C,x,v):(B=G,p=C);C=(x-K)*I/N+K;if(u){if(f.containStroke(K,D,I,E,E+L,H,w,C,v))return!0}else{y=t;l=K;t=E;G=E+L;M=v;M-=D;if(M>I||M<-I)l=0;else if(P=Math.sqrt(I*I-M*M),m[0]=-P,m[1]=P,P=Math.abs(t-G),1E-4>P)l=0;else if(1E-4>P%q)l=C>=m[0]+l&&C<=m[1]+l?H?1:-1:0;else{H?(P=t,t=e(G),G=e(P)):(t=e(t),G=e(G));t>G&&(G+=q);for(R=P=0;2>R;R++)if(O=m[R],O+l>C&&(T=Math.atan2(M,O),O=H?1:-1,0>T&&(T=q+T),T>=t&&T<=G||T+q>=t&&T+q<=G))T>Math.PI/2&&T<1.5*Math.PI&&(O=-O),P+=O;l=P}t=y+l}l=Math.cos(E+L)*N+K;y=Math.sin(E+L)*I+D;break;case n.R:B=l=a[r++];p=y=a[r++];D=a[r++];K=a[r++];G=B+D;C=p+K;if(u){if(c(B,p,G,p,w,x,v)||c(G,p,G,C,w,x,v)||c(G,C,B,C,w,x,v)||c(B,C,B,p,w,x,v))return!0}else t+=b(G,p,G,C,x,v),t+=b(B,C,B,p,x,v);break;case n.Z:if(u){if(c(l,y,B,p,w,x,v))return!0}else t+=b(l,y,B,p,x,v);l=B;y=p}}u||1E-4>Math.abs(y-p)||(t+=b(l,y,B,p,x,v)||0);return 0!==t}var n=a(49).CMD;p=a(53);var k=a(54),h=a(55),f=a(56),e=a(57).normalizeRadian,d=a(50),b=a(58),c=p.containStroke,q=2*Math.PI,m=[-1,-1,-1],g=[-1,-1];r.exports={contain:function(b,c,a){return l(b,0,!1,c,a)},containStroke:function(b,c,a,d){return l(b,c,!0,a,d)}}},function(r,p){r.exports={containStroke:function(a,l,n,k,h,f,e){if(0===h)return!1;var d;if(e>l+h&&e>k+h||e<l-h&&e<k-h||f>a+h&&f>n+h||f<a-h&&f<n-h)return!1;if(a!==n)d=(l-k)/(a-n);else return Math.abs(f-a)<=h/2;a=d*f-e+(a*k-n*l)/(a-n);return a*a/(d*d+1)<=h/2*h/2}}},function(r,p,a){var l=a(50);r.exports={containStroke:function(a,k,h,f,e,d,b,c,q,m,g){return 0===q||g>k+q&&g>f+q&&g>d+q&&g>c+q||g<k-q&&g<f-q&&g<d-q&&g<c-q||m>a+q&&m>h+q&&m>e+q&&m>b+q||m<a-q&&m<h-q&&m<e-q&&m<b-q?!1:l.cubicProjectPoint(a,k,h,f,e,d,b,c,m,g,null)<=q/2}}},function(r,p,a){var l=a(50);r.exports={containStroke:function(a,k,h,f,e,d,b,c,q){return 0===b||q>k+b&&q>f+b&&q>d+b||q<k-b&&q<f-b&&q<d-b||c>a+b&&c>h+b&&c>e+b||c<a-b&&c<h-b&&c<e-b?!1:l.quadraticProjectPoint(a,k,h,f,e,d,c,q,null)<=b/2}}},function(r,p,a){var l=a(57).normalizeRadian,n=2*Math.PI;r.exports={containStroke:function(a,h,f,e,d,b,c,q,m){if(0===c)return!1;q-=a;m-=h;a=Math.sqrt(q*q+m*m);if(a-c>f||a+c<f)return!1;if(1E-4>Math.abs(e-d)%n)return!0;b?(f=e,e=l(d),d=l(f)):(e=l(e),d=l(d));e>d&&(d+=n);q=Math.atan2(m,q);0>q&&(q+=n);return q>=e&&q<=d||q+n>=e&&q+n<=d}}},function(r,p){var a=2*Math.PI;r.exports={normalizeRadian:function(l){l%=a;0>l&&(l+=a);return l}}},function(r,p){r.exports=function(a,l,n,k,h,f){if(f>l&&f>k||f<l&&f<k||k===l)return 0;var e=k<l?1:-1;f=(f-l)/(k-l);if(1===f||0===f)e=k<l?.5:-.5;return f*(n-a)+a>h?e:0}},function(r,p){var a=function(a,n){this.image=a;this.repeat=n;this.type="pattern"};a.prototype.getCanvasPattern=function(a){return this._canvasPattern||(this._canvasPattern=a.createPattern(this.image,this.repeat))};r.exports=a},function(r,p,a){var l=a(49).CMD,n=a(10).applyTransform,k=[[],[],[]],h=Math.sqrt,f=Math.atan2;r.exports=function(a,d){var b=a.data,c,e,m,g,t,w=l.M,u=l.C,x=l.L,v=l.R,z=l.A,A=l.Q;for(m=0;m<b.length;){c=b[m++];g=m;e=0;switch(c){case w:e=1;break;case x:e=1;break;case u:e=3;break;case A:e=2;break;case z:g=d[4];c=d[5];var y=h(d[0]*d[0]+d[1]*d[1]),B=h(d[2]*d[2]+d[3]*d[3]),p=f(-d[1]/B,d[0]/y);b[m++]+=g;b[m++]+=c;b[m++]*=y;b[m++]*=B;b[m++]+=p;b[m++]+=p;g=m+=2;break;case v:t[0]=b[m++],t[1]=b[m++],n(t,t,d),b[g++]=t[0],b[g++]=t[1],t[0]+=b[m++],t[1]+=b[m++],n(t,t,d),b[g++]=t[0],b[g++]=t[1]}for(c=0;c<e;c++)t=k[c],t[0]=b[m++],t[1]=b[m++],n(t,t,d),b[g++]=t[0],b[g++]=t[1]}}},function(r,p){var a=function(a){this.colorStops=a||[]};a.prototype={constructor:a,addColorStop:function(a,n){this.colorStops.push({offset:a,color:n})}};r.exports=a},function(r,p,a){function l(a){n.call(this,a)}var n=a(46),k=a(9);p=a(4);var h=new (a(63))(50);l.prototype={constructor:l,type:"image",brush:function(a,e){var d=this.style,b=d.image,c;d.bind(a,this,e);c="string"===typeof b?this._image:b;if(!c&&b){var q=h.get(b);if(q){if(this._image=c=q.image,!c.width||!c.height){q.pending.push(this);return}}else{c=new Image;c.onload=function(){c.onload=null;for(var b=0;b<q.pending.length;b++)q.pending[b].dirty()};q={image:c,pending:[this]};c.src=b;h.put(b,q);this._image=c;return}}if(c){var b=d.width||c.width,m=d.height||c.height,g=d.x||0,f=d.y||0;if(c.width&&c.height){this.setTransform(a);if(d.sWidth&&d.sHeight){var w=d.sx||0,k=d.sy||0;a.drawImage(c,w,k,d.sWidth,d.sHeight,g,f,b,m)}else d.sx&&d.sy?(w=d.sx,k=d.sy,a.drawImage(c,w,k,b-w,m-k,g,f,b,m)):a.drawImage(c,g,f,b,m);null==d.width&&(d.width=b);null==d.height&&(d.height=m);this.restoreTransform(a);null!=d.text&&this.drawRectText(a,this.getBoundingRect())}}},getBoundingRect:function(){var a=this.style;this._rect||(this._rect=new k(a.x||0,a.y||0,a.width||0,a.height||0));return this._rect}};p.inherits(l,n);r.exports=l},function(r,p){var a=function(){this.tail=this.head=null;this._len=0},l=a.prototype;l.insert=function(a){a=new n(a);this.insertEntry(a);return a};l.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,this.tail=a):this.head=this.tail=a;this._len++};l.remove=function(a){var f=a.prev,e=a.next;f?f.next=e:this.head=e;e?e.prev=f:this.tail=f;a.next=a.prev=null;this._len--};l.len=function(){return this._len};var n=function(a){this.value=a},l=function(h){this._list=new a;this._map={};this._maxSize=h||10},k=l.prototype;k.put=function(a,f){var e=this._list,d=this._map;if(null==d[a]){var b=e.len();b>=this._maxSize&&0<b&&(b=e.head,e.remove(b),delete d[b.key]);e=e.insert(f);e.key=a;d[a]=e}};k.get=function(a){a=this._map[a];var f=this._list;if(null!=a)return a!==f.tail&&(f.remove(a),f.insertEntry(a)),a.value};k.clear=function(){this._list.clear();this._map={}};r.exports=l},function(r,p,a){var l=a(46);p=a(4);var n=a(8);a=function(a){l.call(this,a)};a.prototype={constructor:a,type:"text",brush:function(a,h){var f=this.style,e=f.x||0,d=f.y||0,b=f.text;null!=b&&(b+="");f.bind(a,this,h);if(b){this.setTransform(a);var c,q=f.textAlign,m=f.textFont||f.font;if(f.textVerticalAlign){var g=n.getBoundingRect(b,m,f.textAlign,"top");c="middle";switch(f.textVerticalAlign){case "middle":d-=g.height/2-g.lineHeight/2;break;case "bottom":d-=g.height-g.lineHeight/2;break;default:d+=g.lineHeight/2}}else c=f.textBaseline;a.font=m;a.textAlign=q||"left";a.textAlign!==q&&(a.textAlign="left");a.textBaseline=c||"alphabetic";a.textBaseline!==c&&(a.textBaseline="alphabetic");c=n.measureText("\u56fd",a.font).width;b=b.split("\n");for(q=0;q<b.length;q++)f.hasFill()&&a.fillText(b[q],e,d),f.hasStroke()&&a.strokeText(b[q],e,d),d+=c;this.restoreTransform(a)}},getBoundingRect:function(){if(!this._rect){var a=this.style,h=a.textVerticalAlign,f=n.getBoundingRect(a.text+"",a.textFont||a.font,a.textAlign,h?"top":a.textBaseline);switch(h){case "middle":f.y-=f.height/2;break;case "bottom":f.y-=f.height}f.x+=a.x||0;f.y+=a.y||0;this._rect=f}return this._rect}};p.inherits(a,l);r.exports=a},function(r,p,a){r.exports=a(45).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,n,k){k&&a.moveTo(n.cx+n.r,n.cy);a.arc(n.cx,n.cy,n.r,0,2*Math.PI,!0)}})},function(r,p,a){r.exports=a(45).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(a,n){var k=n.cx,h=n.cy,f=Math.max(n.r0||0,0),e=Math.max(n.r,0),d=n.startAngle,b=n.endAngle,c=n.clockwise,q=Math.cos(d),m=Math.sin(d);a.moveTo(q*f+k,m*f+h);a.lineTo(q*e+k,m*e+h);a.arc(k,h,e,d,b,!c);a.lineTo(Math.cos(b)*f+k,Math.sin(b)*f+h);0!==f&&a.arc(k,h,f,b,d,c);a.closePath()}})},function(r,p,a){r.exports=a(45).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,n){var k=n.cx,h=n.cy,f=2*Math.PI;a.moveTo(k+n.r,h);a.arc(k,h,n.r,0,f,!1);a.moveTo(k+n.r0,h);a.arc(k,h,n.r0,0,f,!0)}})},function(r,p,a){var l=a(69);r.exports=a(45).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,k){l.buildPath(a,k,!0)}})},function(r,p,a){var l=a(70),n=a(71);r.exports={buildPath:function(a,h,f){var e=h.points,d=h.smooth;if(e&&2<=e.length){if(d&&"spline"!==d){d=n(e,d,f,h.smoothConstraint);a.moveTo(e[0][0],e[0][1]);var b=e.length;for(h=0;h<(f?b:b-1);h++){var c=d[2*h],q=d[2*h+1],m=e[(h+1)%b];a.bezierCurveTo(c[0],c[1],q[0],q[1],m[0],m[1])}}else for("spline"===d&&(e=l(e,f)),a.moveTo(e[0][0],e[0][1]),h=1,d=e.length;h<d;h++)a.lineTo(e[h][0],e[h][1]);f&&a.closePath()}}}},function(r,p,a){function l(a,h,f,e,d,b,c){a=.5*(f-a);e=.5*(e-h);return(2*(h-f)+a+e)*c+(-3*(h-f)-2*a-e)*b+a*d+h}var n=a(10);r.exports=function(a,h){for(var f=a.length,e=[],d=0,b=1;b<f;b++)d+=n.distance(a[b-1],a[b]);d/=2;d=d<f?f:d;for(b=0;b<d;b++){var c=b/(d-1)*(h?f:f-1),q=Math.floor(c),c=c-q,m,g=a[q%f],t;h?(m=a[(q-1+f)%f],t=a[(q+1)%f],q=a[(q+2)%f]):(m=a[0===q?q:q-1],t=a[q>f-2?f-1:q+1],q=a[q>f-3?f-1:q+2]);var w=c*c,k=c*w;e.push([l(m[0],g[0],t[0],q[0],c,w,k),l(m[1],g[1],t[1],q[1],c,w,k)])}return e}},function(r,p,a){var l=a(10),n=l.min,k=l.max,h=l.scale,f=l.distance,e=l.add;r.exports=function(a,b,c,q){var d=[],g=[],t=[],w=[],u,x,v,z;if(q){v=[Infinity,Infinity];z=[-Infinity,-Infinity];for(var A=0,y=a.length;A<y;A++)n(v,v,a[A]),k(z,z,a[A]);n(v,v,q[0]);k(z,z,q[1])}A=0;for(y=a.length;A<y;A++){var p=a[A];if(c)u=a[A?A-1:y-1],x=a[(A+1)%y];else if(0===A||A===y-1){d.push(l.clone(a[A]));continue}else u=a[A-1],x=a[A+1];l.sub(g,x,u);h(g,g,b);u=f(p,u);x=f(p,x);var r=u+x;0!==r&&(u/=r,x/=r);h(t,g,-u);h(w,g,x);u=e([],p,t);p=e([],p,w);q&&(k(u,u,v),n(u,u,z),k(p,p,v),n(p,p,z));d.push(u);d.push(p)}c&&d.push(d.shift());return d}},function(r,p,a){var l=a(69);r.exports=a(45).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,k){l.buildPath(a,k,!1)}})},function(r,p,a){var l=a(74);r.exports=a(45).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,k){var h=k.x,f=k.y,e=k.width,d=k.height;k.r?l.buildPath(a,k):a.rect(h,f,e,d);a.closePath()}})},function(r,p){r.exports={buildPath:function(a,l){var n=l.x,k=l.y,h=l.width,f=l.height,e=l.r,d,b,c,q;0>h&&(n+=h,h=-h);0>f&&(k+=f,f=-f);"number"===typeof e?d=b=c=q=e:e instanceof Array?1===e.length?d=b=c=q=e[0]:2===e.length?(d=c=e[0],b=q=e[1]):3===e.length?(d=e[0],b=q=e[1],c=e[2]):(d=e[0],b=e[1],c=e[2],q=e[3]):d=b=c=q=0;d+b>h&&(e=d+b,d*=h/e,b*=h/e);c+q>h&&(e=c+q,c*=h/e,q*=h/e);b+c>f&&(e=b+c,b*=f/e,c*=f/e);d+q>f&&(e=d+q,d*=f/e,q*=f/e);a.moveTo(n+d,k);a.lineTo(n+h-b,k);0!==b&&a.quadraticCurveTo(n+h,k,n+h,k+b);a.lineTo(n+h,k+f-c);0!==c&&a.quadraticCurveTo(n+h,k+f,n+h-c,k+f);a.lineTo(n+q,k+f);0!==q&&a.quadraticCurveTo(n,k+f,n,k+f-q);a.lineTo(n,k+d);0!==d&&a.quadraticCurveTo(n,k,n+d,k)}}},function(r,p,a){r.exports=a(45).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,n){var k=n.x1,h=n.y1,f=n.x2,e=n.y2,d=n.percent;0!==d&&(a.moveTo(k,h),1>d&&(f=k*(1-d)+f*d,e=h*(1-d)+e*d),a.lineTo(f,e))},pointAt:function(a){var l=this.shape;return[l.x1*(1-a)+l.x2*a,l.y1*(1-a)+l.y2*a]}})},function(r,p,a){function l(c,a,g){var m=c.cpy2;return null===c.cpx2||null===m?[(g?b:e)(c.x1,c.cpx1,c.cpx2,c.x2,a),(g?b:e)(c.y1,c.cpy1,c.cpy2,c.y2,a)]:[(g?d:f)(c.x1,c.cpx1,c.x2,a),(g?d:f)(c.y1,c.cpy1,c.y2,a)]}p=a(50);var n=a(10),k=p.quadraticSubdivide,h=p.cubicSubdivide,f=p.quadraticAt,e=p.cubicAt,d=p.quadraticDerivativeAt,b=p.cubicDerivativeAt,c=[];r.exports=a(45).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(b,a){var d=a.x1,e=a.y1,m=a.x2,q=a.y2,f=a.cpx1,v=a.cpy1,l=a.cpx2,n=a.cpy2,y=a.percent;0!==y&&(b.moveTo(d,e),null==l||null==n?(1>y&&(k(d,f,m,y,c),f=c[1],m=c[2],k(e,v,q,y,c),v=c[1],q=c[2]),b.quadraticCurveTo(f,v,m,q)):(1>y&&(h(d,f,l,m,y,c),f=c[1],l=c[2],m=c[3],h(e,v,n,q,y,c),v=c[1],n=c[2],q=c[3]),b.bezierCurveTo(f,v,l,n,m,q)))},pointAt:function(b){return l(this.shape,b,!1)},tangentAt:function(b){b=l(this.shape,b,!0);return n.normalize(b,b)}})},function(r,p,a){r.exports=a(45).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,n){var k=n.cx,h=n.cy,f=Math.max(n.r,0),e=n.startAngle,d=n.endAngle,b=n.clockwise;a.moveTo(Math.cos(e)*f+k,Math.sin(e)*f+h);a.arc(k,h,f,e,d,!b)}})},function(r,p,a){var l=a(45);r.exports=l.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,k=this.shape.paths,h=0;h<k.length;h++)a=a||k[h].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],k=this.getGlobalScale(),h=0;h<a.length;h++)a[h].path.setScale(k[0],k[1])},buildPath:function(a,k){for(var h=k.paths||[],f=0;f<h.length;f++)h[f].buildPath(a,h[f].shape,!0)},afterBrush:function(){for(var a=this.shape.paths,k=0;k<a.length;k++)a[k].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return l.prototype.getBoundingRect.call(this)}})},function(r,p,a){p=a(4);var l=a(61);a=function(a,k,h,f,e,d){this.x=null==a?0:a;this.y=null==k?0:k;this.x2=null==h?1:h;this.y2=null==f?0:f;this.type="linear";this.global=d||!1;l.call(this,e)};a.prototype={constructor:a};p.inherits(a,l);r.exports=a},function(r,p,a){p=a(4);var l=a(61);a=function(a,k,h,f,e){this.x=null==a?.5:a;this.y=null==k?.5:k;this.r=null==h?.5:h;this.type="radial";this.global=e||!1;l.call(this,f)};a.prototype={constructor:a};p.inherits(a,l);r.exports=a},function(r,p,a){var l=a(32),n=a(2),k=a(82),h=a(84),f=a(86),e=a(89),d=!n.canvasSupported,b={canvas:a(91)},c={},q={version:"3.1.2",init:function(b,a){var d=new m(l(),b,a);return c[d.id]=d},dispose:function(b){if(b)b.dispose();else{for(var a in c)c[a].dispose();c={}}return q},getInstance:function(b){return c[b]},registerPainter:function(c,a){b[c]=a}},m=function(c,a,m){m=m||{};this.dom=a;this.id=c;var g=this,q=new h;c=m.renderer;if(d){if(!b.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");c="vml"}else c&&b[c]||(c="canvas");a=new b[c](a,q,m);this.storage=q;this.painter=a;m=n.node?null:new e(a.getViewportRoot());this.handler=new k(q,a,m);this.animation=new f({stage:{update:function(){g._needsRefresh&&g.refreshImmediately();g._needsRefreshHover&&g.refreshHoverImmediately()}}});this.animation.start();var t=q.delFromMap,w=q.addToMap;q.delFromMap=function(b){var c=q.get(b);t.call(q,b);c&&c.removeSelfFromZr(g)};q.addToMap=function(b){w.call(q,b);b.addSelfToZr(g)}};m.prototype={constructor:m,getId:function(){return this.id},add:function(b){this.storage.addRoot(b);this._needsRefresh=!0},remove:function(b){this.storage.delRoot(b);this._needsRefresh=!0},configLayer:function(b,c){this.painter.configLayer(b,c);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},addHover:function(b,c){this.painter.addHover&&(this.painter.addHover(b,c),this.refreshHover())},removeHover:function(b){this.painter.removeHover&&(this.painter.removeHover(b),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(){this.painter.resize();this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(b,c,a){var d=l();return this.painter.pathToImage(d,b,c,a)},setCursorStyle:function(b){this.handler.setCursorStyle(b)},on:function(b,c,a){this.handler.on(b,c,a)},off:function(b,c){this.handler.off(b,c)},trigger:function(b,c){this.handler.trigger(b,c)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete c[this.id]}};r.exports=q},function(r,p,a){function l(){}var n=a(4),k=a(83),h=a(33);l.prototype.dispose=function(){};var f="click dblclick mousewheel mouseout mouseup mousedown mousemove".split(" "),e=function(a,b,c){h.call(this);this.storage=a;this.painter=b;this.proxy=c=c||new l;c.handler=this;k.call(this);n.each(f,function(b){c.on&&c.on(b,this[b],this)},this)};e.prototype={constructor:e,mousemove:function(a){var b=this.findHover(a.zrX,a.zrY,null),c=this._hovered,d=this.proxy;this._hovered=b;d.setCursor&&d.setCursor(b?b.cursor:"default");c&&b!==c&&c.__zr&&this.dispatchToElement(c,"mouseout",a);this.dispatchToElement(b,"mousemove",a);b&&b!==c&&this.dispatchToElement(b,"mouseover",a)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);this.trigger("globalout",{event:a})},resize:function(a){this._hovered=null},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){for(var d="on"+b,e={type:b,event:c,target:a,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta};a&&(a[d]&&(e.cancelBubble=a[d].call(a,e)),a.trigger(b,e),a=a.parent,!e.cancelBubble););e.cancelBubble||(this.trigger(b,e),this.painter&&this.painter.eachOtherLayer(function(c){"function"==typeof c[d]&&c[d].call(c,e);c.trigger&&c.trigger(b,e)}))},findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e=d.length-1;0<=e;e--){var g;if(g=!d[e].silent&&d[e]!==c&&!d[e].ignore)a:{var f=d[e];g=a;var h=b;if(f[f.rectHover?"rectContain":"contain"](g,h)){for(;f;){if(f.silent||f.clipPath&&!f.clipPath.contain(g,h)){g=!1;break a}f=f.parent}g=!0}else g=!1}if(g)return d[e]}}};n.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(a){e.prototype[a]=function(b){var c=this.findHover(b.zrX,b.zrY,null);if("mousedown"===a)this._upel=this._downel=c;else if("mosueup"===a)this._upel=c;else if("click"===a&&this._downel!==this._upel)return;this.dispatchToElement(c,a,b)}});n.mixin(e,h);n.mixin(e,k);r.exports=e},function(r,p){function a(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}a.prototype={constructor:a,_dragStart:function(a){var l=a.target;l&&l.draggable&&(this._draggingTarget=l,l.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(l,"dragstart",a.event))},_drag:function(a){var l=this._draggingTarget;if(l){var k=a.offsetX,h=a.offsetY,f=k-this._x,e=h-this._y;this._x=k;this._y=h;l.drift(f,e,a);this.dispatchToElement(l,"drag",a.event);k=this.findHover(k,h,l);h=this._dropTarget;this._dropTarget=k;l!==k&&(h&&k!==h&&this.dispatchToElement(h,"dragleave",a.event),k&&k!==h&&this.dispatchToElement(k,"dragenter",a.event))}},_dragEnd:function(a){var l=this._draggingTarget;l&&(l.dragging=!1);this.dispatchToElement(l,"dragend",a.event);this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",a.event);this._dropTarget=this._draggingTarget=null}};r.exports=a},function(r,p,a){function l(a,d){return a.zlevel===d.zlevel?a.z===d.z?a.z2-d.z2:a.z-d.z:a.zlevel-d.zlevel}var n=a(4),k=a(2),h=a(30),f=a(85);p=function(){this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0};p.prototype={constructor:p,traverse:function(a,d){for(var b=0;b<this._roots.length;b++)this._roots[b].traverse(a,d)},getDisplayList:function(a,d){a&&this.updateDisplayList(d||!1);return this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var d=this._roots,b=this._displayList,c=0,e=d.length;c<e;c++)this._updateAndAddDisplayable(d[c],null,a);b.length=this._displayListLen;k.canvasSupported&&f(b,l)},_updateAndAddDisplayable:function(a,d,b){if(!a.ignore||b){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var c=a.clipPath;c&&(c.parent=a,c.updateTransform(),d?(d=d.slice(),d.push(c)):d=[c]);if(a.isGroup){for(var c=a._children,e=0;e<c.length;e++){var m=c[e];a.__dirty&&(m.__dirty=!0);this._updateAndAddDisplayable(m,d,b)}a.__dirty=!1}else a.__clipPaths=d,this._displayList[this._displayListLen++]=a}},addRoot:function(a){this._elements[a.id]||(a instanceof h&&a.addChildrenToStorage(this),this.addToMap(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(var d=0;d<this._roots.length;d++)a=this._roots[d],a instanceof h&&a.delChildrenFromStorage(this);this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0}else if(a instanceof Array)for(var d=0,b=a.length;d<b;d++)this.delRoot(a[d]);else d="string"==typeof a?this._elements[a]:a,a=n.indexOf(this._roots,d),0<=a&&(this.delFromMap(d.id),this._roots.splice(a,1),d instanceof h&&d.delChildrenFromStorage(this))},addToMap:function(a){a instanceof h&&(a.__storage=this);a.dirty();this._elements[a.id]=a;return this},get:function(a){return this._elements[a]},delFromMap:function(a){var d=this._elements,b=d[a];b&&(delete d[a],b instanceof h&&(b.__storage=null));return this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:l};r.exports=p},function(r,p){function a(a,e,d,b){var c=e+1;if(c===d)return 1;if(0>b(a[c++],a[e])){for(;c<d&&0>b(a[c],a[c-1]);)c++;d=e;b=c;for(b--;d<b;){var q=a[d];a[d++]=a[b];a[b--]=q}}else for(;c<d&&0<=b(a[c],a[c-1]);)c++;return c-e}function l(a,e,d,b,c){for(b===e&&b++;b<d;b++){for(var q=a[b],m=e,g=b,f;m<g;)f=m+g>>>1,0>c(q,a[f])?g=f:m=f+1;g=b-m;switch(g){case 3:a[m+3]=a[m+2];case 2:a[m+2]=a[m+1];case 1:a[m+1]=a[m];break;default:for(;0<g;)a[m+g]=a[m+g-1],g--}a[m]=q}}function n(a,e,d,b,c,q){var m=0,g=1;if(0<q(a,e[d+c])){for(b-=c;g<b&&0<q(a,e[d+c+g]);)m=g,g=(g<<1)+1,0>=g&&(g=b);g>b&&(g=b);m+=c;g+=c}else{for(b=c+1;g<b&&0>=q(a,e[d+c-g]);)m=g,g=(g<<1)+1,0>=g&&(g=b);g>b&&(g=b);b=m;m=c-g;g=c-b}for(m++;m<g;)c=m+(g-m>>>1),0<q(a,e[d+c])?m=c+1:g=c;return g}function k(a,e,d,b,c,q){var m=0,g=1;if(0>q(a,e[d+c])){for(b=c+1;g<b&&0>q(a,e[d+c-g]);)m=g,g=(g<<1)+1,0>=g&&(g=b);g>b&&(g=b);b=m;m=c-g;g=c-b}else{for(b-=c;g<b&&0<=q(a,e[d+c+g]);)m=g,g=(g<<1)+1,0>=g&&(g=b);g>b&&(g=b);m+=c;g+=c}for(m++;m<g;)c=m+(g-m>>>1),0>q(a,e[d+c])?g=c:m=c+1;return g}function h(a,e){function d(d){var f=c[d],t=q[d],h=c[d+1],v=q[d+1];q[d]=t+v;d===m-3&&(c[d+1]=c[d+2],q[d+1]=q[d+2]);m--;d=k(a[h],a,f,t,0,e);f+=d;t-=d;if(0!==t&&(v=n(a[f+t-1],a,h,v,v-1,e),0!==v))if(t<=v){for(var l=f,f=t,t=v,v=0;v<f;v++)g[v]=a[l+v];d=0;a[l++]=a[h++];if(0===--t)for(v=0;v<f;v++)a[l+v]=g[d+v];else if(1===f){for(v=0;v<t;v++)a[l+v]=a[h+v];a[l+t]=g[d]}else{for(var A=b,y,p,r;;){p=y=0;r=!1;do if(0>e(a[h],g[d])){if(a[l++]=a[h++],p++,y=0,0===--t){r=!0;break}}else if(a[l++]=g[d++],y++,p=0,1===--f){r=!0;break}while((y|p)<A);if(r)break;do{y=k(a[h],g,d,f,0,e);if(0!==y){for(v=0;v<y;v++)a[l+v]=g[d+v];l+=y;d+=y;f-=y;if(1>=f){r=!0;break}}a[l++]=a[h++];if(0===--t){r=!0;break}p=n(g[d],a,h,t,0,e);if(0!==p){for(v=0;v<p;v++)a[l+v]=a[h+v];l+=p;h+=p;t-=p;if(0===t){r=!0;break}}a[l++]=g[d++];if(1===--f){r=!0;break}A--}while(7<=y||7<=p);if(r)break;0>A&&(A=0);A+=2}b=A;1>b&&(b=1);if(1===f){for(v=0;v<t;v++)a[l+v]=a[h+v];a[l+t]=g[d]}else{if(0===f)throw Error();for(v=0;v<f;v++)a[l+v]=g[d+v]}}}else{for(d=0;d<v;d++)g[d]=a[h+d];l=f+t-1;A=v-1;h=h+v-1;a[h--]=a[l--];if(0===--t)for(y=h-(v-1),d=0;d<v;d++)a[y+d]=g[d];else if(1===v){h-=t;p=h+1;y=l-t+1;for(d=t-1;0<=d;d--)a[p+d]=a[y+d];a[h]=g[A]}else{for(r=b;;){var F=0,K=0,D=!1;do if(0>e(g[A],a[l])){if(a[h--]=a[l--],F++,K=0,0===--t){D=!0;break}}else if(a[h--]=g[A--],K++,F=0,1===--v){D=!0;break}while((F|K)<r);if(D)break;do{F=t-k(g[A],a,f,t,t-1,e);if(0!==F){h-=F;l-=F;t-=F;p=h+1;y=l+1;for(d=F-1;0<=d;d--)a[p+d]=a[y+d];if(0===t){D=!0;break}}a[h--]=g[A--];if(1===--v){D=!0;break}K=v-n(a[l],g,0,v,v-1,e);if(0!==K){h-=K;A-=K;v-=K;p=h+1;y=A+1;for(d=0;d<K;d++)a[p+d]=g[y+d];if(1>=v){D=!0;break}}a[h--]=a[l--];if(0===--t){D=!0;break}r--}while(7<=F||7<=K);if(D)break;0>r&&(r=0);r+=2}b=r;1>b&&(b=1);if(1===v){h-=t;p=h+1;y=l-t+1;for(d=t-1;0<=d;d--)a[p+d]=a[y+d];a[h]=g[A]}else{if(0===v)throw Error();y=h-(v-1);for(d=0;d<v;d++)a[y+d]=g[d]}}}}var b=7,c,q,m=0,g=[];c=[];q=[];this.mergeRuns=function(){for(;1<m;){var b=m-2;if(1<=b&&q[b-1]<=q[b]+q[b+1]||2<=b&&q[b-2]<=q[b]+q[b-1])q[b-1]<q[b+1]&&b--;else if(q[b]>q[b+1])break;d(b)}};this.forceMergeRuns=function(){for(;1<m;){var b=m-2;0<b&&q[b-1]<q[b+1]&&b--;d(b)}};this.pushRun=function(b,a){c[m]=b;q[m]=a;m+=1}}r.exports=function(f,e,d,b){d||(d=0);b||(b=f.length);var c=b-d;if(!(2>c)){var q;if(32>c)q=a(f,d,b,e),l(f,d,b,d+q,e);else{var m=new h(f,e),g;q=c;for(g=0;32<=q;)g|=q&1,q>>=1;g=q+g;do{q=a(f,d,b,e);if(q<g){var t=c;t>g&&(t=g);l(f,d,d+t,d+q,e);q=t}m.pushRun(d,q);m.mergeRuns();c-=q;d+=q}while(0!==c);m.forceMergeRuns()}}}},function(r,p,a){var l=a(4),n=a(87).Dispatcher,k=a(88),h=a(36);p=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time=0;n.call(this)};p.prototype={constructor:p,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var e=0;e<a.length;e++)this.addClip(a[e])},removeClip:function(a){a=l.indexOf(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var e=a.getClips(),d=0;d<e.length;d++)this.removeClip(e[d]);a.animation=null},_update:function(){for(var a=(new Date).getTime(),e=a-this._time,d=this._clips,b=d.length,c=[],q=[],m=0;m<b;m++){var g=d[m],t=g.step(a);t&&(c.push(t),q.push(g))}for(m=0;m<b;)d[m]._needsRemove?(d[m]=d[b-1],d.pop(),b--):m++;b=c.length;for(m=0;m<b;m++)q[m].fire(c[m]);this._time=a;this.onframe(e);this.trigger("frame",e);this.stage.update&&this.stage.update()},start:function(){function a(){e._running&&(k(a),e._update())}var e=this;this._running=!0;this._time=(new Date).getTime();k(a)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(a,e){e=e||{};return new h(a,e.loop,e.getter,e.setter)}};l.mixin(p,n);r.exports=p},function(r,p,a){function l(a,h,f){a=a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0};f=f||{};f.zrX=h.clientX-a.left;f.zrY=h.clientY-a.top;return f}p=a(33);var n="undefined"!==typeof window&&!!window.addEventListener;r.exports={clientToLocal:l,normalizeEvent:function(a,h){h=h||window.event;if(null!=h.zrX)return h;var f=h.type;f&&0<=f.indexOf("touch")?(f="touchend"!=f?h.targetTouches[0]:h.changedTouches[0])&&l(a,f,h):(l(a,h,h),h.zrDelta=h.wheelDelta?h.wheelDelta/120:-(h.detail||0)/3);return h},addEventListener:function(a,h,f){n?a.addEventListener(h,f):a.attachEvent("on"+h,f)},removeEventListener:function(a,h,f){n?a.removeEventListener(h,f):a.detachEvent("on"+h,f)},stop:n?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},Dispatcher:p}},function(r,p){r.exports="undefined"!==typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)}},function(r,p,a){function l(a){return"mousewheel"===a&&b.browser.firefox?"DOMMouseScroll":a}function n(b,a,c){var d=b._gestureMgr;"start"===c&&d.clear();var g=d.recognize(a,b.handler.findHover(a.zrX,a.zrY,null),b.dom);"end"===c&&d.clear();g&&(c=g.type,a.gestureEvent=c,b.handler.dispatchToElement(g.target,c,g.event))}function k(b){b._touching=!0;clearTimeout(b._touchTimer);b._touchTimer=setTimeout(function(){b._touching=!1},700)}function h(b){function a(b,a){return function(){if(!a._touching)return b.apply(a,arguments)}}for(var c=0;c<w.length;c++){var d=w[c];b._handlers[d]=e.bind(u[d],b)}for(c=0;c<t.length;c++)d=t[c],b._handlers[d]=a(u[d],b)}function f(a){function g(b,c){e.each(b,function(b){q(a,l(b),c._handlers[b])},c)}d.call(this);this.dom=a;this._touching=!1;this._gestureMgr=new c;this._handlers={};h(this);b.touchEventsSupported&&g(w,this);g(t,this)}p=a(87);var e=a(4),d=a(33),b=a(2),c=a(90),q=p.addEventListener,m=p.removeEventListener,g=p.normalizeEvent,t="click dblclick mousewheel mouseout mouseup mousedown mousemove".split(" "),w=["touchstart","touchend","touchmove"],u={mousemove:function(b){b=g(this.dom,b);this.trigger("mousemove",b)},mouseout:function(b){b=g(this.dom,b);var a=b.toElement||b.relatedTarget;if(a!=this.dom)for(;a&&9!=a.nodeType;){if(a===this.dom)return;a=a.parentNode}this.trigger("mouseout",b)},touchstart:function(b){b=g(this.dom,b);this._lastTouchMoment=new Date;n(this,b,"start");u.mousemove.call(this,b);u.mousedown.call(this,b);k(this)},touchmove:function(b){b=g(this.dom,b);n(this,b,"change");u.mousemove.call(this,b);k(this)},touchend:function(b){b=g(this.dom,b);n(this,b,"end");u.mouseup.call(this,b);300>+new Date-this._lastTouchMoment&&u.click.call(this,b);k(this)}};e.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(b){u[b]=function(a){a=g(this.dom,a);this.trigger(b,a)}});a=f.prototype;a.dispose=function(){for(var b=t.concat(w),a=0;a<b.length;a++){var c=b[a];m(this.dom,l(c),this._handlers[c])}};a.setCursor=function(b){this.dom.style.cursor=b||"default"};e.mixin(f,d);r.exports=f},function(r,p,a){function l(a){var f=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(f*f+a*a)}var n=a(87);p=function(){this._track=[]};p.prototype={constructor:p,recognize:function(a,f,e){this._doTrack(a,f,e);return this._recognize(a)},clear:function(){this._track.length=0;return this},_doTrack:function(a,f,e){var d=a.touches;if(d){a={points:[],touches:[],target:f,event:a};f=0;for(var b=d.length;f<b;f++){var c=d[f],q=n.clientToLocal(e,c);a.points.push([q.zrX,q.zrY]);a.touches.push(c)}this._track.push(a)}},_recognize:function(a){for(var f in k)if(k.hasOwnProperty(f)){var e=k[f](this._track,a);if(e)return e}}};var k={pinch:function(a,f){var e=a.length;if(e){var d=(a[e-1]||{}).points;if((e=(a[e-2]||{}).points||d)&&1<e.length&&d&&1<d.length)return e=l(d)/l(e),!isFinite(e)&&(e=1),f.pinchScale=e,d=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],f.pinchX=d[0],f.pinchY=d[1],{type:"pinch",target:a[0].target,event:f}}}};r.exports=p},function(r,p,a){function l(b){b.__unusedCount++}function n(b){1==b.__unusedCount&&b.clear()}var k=a(41),h=a(4),f=a(40);p=a(9);var e=a(85),d=a(92),b=a(88),c=new p(0,0,0,0),q=new p(0,0,0,0);p=function(b,a,c){var g=!b.nodeName||"CANVAS"===b.nodeName.toUpperCase();c=c||{};this.dpr=c.devicePixelRatio||k.devicePixelRatio;this._singleCanvas=g;this.root=b;if(c=b.style)c["-webkit-tap-highlight-color"]="transparent",c["-webkit-user-select"]=c["user-select"]=c["-webkit-touch-callout"]="none",b.innerHTML="";this.storage=a;a=this._zlevelList=[];c=this._layers={};this._layerConfig={};if(g)g=b.height,this._width=b.width,this._height=g,b=new d(b,this,1),b.initContext(),c[0]=b,a.push(0);else{this._width=this._getWidth();this._height=this._getHeight();g=this._width;a=this._height;c=document.createElement("div");var e=c.style;e.position="relative";e.overflow="hidden";e.width=g+"px";e.height=a+"px";g=this._domRoot=c;b.appendChild(g)}this.pathToImage=this._createPathToImage();this._progressiveLayers=[];this._hoverElements=[]};p.prototype={constructor:p,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(b){var a=this.storage.getDisplayList(!0),c=this._zlevelList;this._paintList(a,b);for(b=0;b<c.length;b++)a=this._layers[c[b]],!a.isBuildin&&a.refresh&&a.refresh();this.refreshHover();this._progressiveLayers.length&&this._startProgessive();return this},addHover:function(b,a){if(!b.__hoverMir){var c=new b.constructor({style:b.style,shape:b.shape});c.__from=b;b.__hoverMir=c;c.setStyle(a);this._hoverElements.push(c)}},removeHover:function(b){var a=this._hoverElements,c=h.indexOf(a,b.__hoverMir);0<=c&&a.splice(c,1);b.__hoverMir=null},clearHover:function(b){b=this._hoverElements;for(var a=0;a<b.length;a++){var c=b[a].__from;c&&(c.__hoverMir=null)}b.length=0},refreshHover:function(){var b=this._hoverElements,a=b.length,c=this._hoverlayer;c&&c.clear();if(a){e(b,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var q=0;q<a;){var f=b[q],h=f.__from;h&&h.__zr?(q++,h.invisible||(f.transform=h.transform,f.invTransform=h.invTransform,f.__clipPaths=h.__clipPaths,this._doPaintEl(f,c,!0,d))):(b.splice(q,1),h.__hoverMir=null,a--)}c.ctx.restore()}},_startProgessive:function(){function a(){d===c._progressiveToken&&c.storage&&(c._doPaintList(c.storage.getDisplayList()),c._furtherProgressive?(c._progress++,b(a)):c._progressiveToken=-1)}var c=this;if(c._furtherProgressive){var d=c._progressiveToken=+new Date;c._progress++;b(a)}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;h.each(this._progressiveLayers,function(b){b.__dirty&&b.clear()})},_paintList:function(b,a){null==a&&(a=!1);this._updateLayerStatus(b);this._clearProgressive();this.eachBuildinLayer(l);this._doPaintList(b,a);this.eachBuildinLayer(n)},_doPaintList:function(b,a){function c(b){e.save();e.globalAlpha=1;e.shadowBlur=0;d.__dirty=!0;e.drawImage(b.dom,0,0,l,n);e.restore();d.ctx.restore()}for(var d,g,e,m,q=0,k,l=this._width,n=this._height,p,r=this._progress,K=0,D=b.length;K<D;K++){var N=b[K];p=this._singleCanvas?0:N.zlevel;var I=N.__frame;0>I&&k&&(c(k),k=null);g!==p&&(e&&e.restore(),m={},g=p,d=this.getLayer(g),d.isBuildin||f("ZLevel "+g+" has been used by unkown layer "+d.id),e=d.ctx,e.save(),d.__unusedCount=0,(d.__dirty||a)&&d.clear());if(d.__dirty||a){if(0<=I){if(!k){k=this._progressiveLayers[Math.min(q++,4)];k.ctx.save();k.renderScope={};if(k&&k.__progress>k.__maxProgress){K=k.__nextIdxNotProg-1;continue}p=k.__progress;k.__dirty||(r=p);k.__progress=r+1}I===r&&this._doPaintEl(N,k,!0,k.renderScope)}else this._doPaintEl(N,d,a,m);N.__dirty=!1}}k&&c(k);e&&e.restore();this._furtherProgressive=!1;h.each(this._progressiveLayers,function(b){b.__maxProgress>=b.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(b,a,d,e){var g=a.ctx;if(d=(a.__dirty||d)&&!b.invisible&&0!==b.style.opacity&&b.scale[0]&&b.scale[1]){if(d=b.culling){d=this._width;var m=this._height;c.copy(b.getBoundingRect());b.transform&&c.applyTransform(b.transform);q.width=d;q.height=m;d=!c.intersect(q)}d=!d}if(d){d=b.__clipPaths;if(!(m=e.prevClipLayer!==a))a:if(m=e.prevElClipPaths,d==m)m=!1;else if(d&&m&&d.length===m.length){for(var f=0;f<d.length;f++)if(d[f]!==m[f]){m=!0;break a}m=void 0}else m=!0;if(m&&(e.prevElClipPaths&&(e.prevClipLayer.ctx.restore(),e.prevClipLayer=e.prevElClipPaths=null,e.prevEl=null),d)){g.save();for(m=0;m<d.length;m++){var f=d[m],t;f.transform&&(t=f.transform,g.transform(t[0],t[1],t[2],t[3],t[4],t[5]));t=f.path;t.beginPath(g);f.buildPath(t,f.shape);g.clip();f.transform&&(t=f.invTransform,g.transform(t[0],t[1],t[2],t[3],t[4],t[5]))}e.prevClipLayer=a;e.prevElClipPaths=d}b.beforeBrush&&b.beforeBrush(g);b.brush(g,e.prevEl||null);e.prevEl=b;b.afterBrush&&b.afterBrush(g)}},getLayer:function(b){if(this._singleCanvas)return this._layers[0];var a=this._layers[b];a||(a=new d("zr_"+b,this,this.dpr),a.isBuildin=!0,this._layerConfig[b]&&h.merge(a,this._layerConfig[b],!0),this.insertLayer(b,a),a.initContext());return a},insertLayer:function(b,a){var c=this._layers,d=this._zlevelList,g=d.length,e=null,m=-1,q=this._domRoot;if(c[b])f("ZLevel "+b+" has been used already");else if(a&&(a.isBuildin||"function"===typeof a.resize&&"function"===typeof a.refresh)){if(0<g&&b>d[0]){for(m=0;m<g-1&&!(d[m]<b&&d[m+1]>b);m++);e=c[d[m]]}d.splice(m+1,0,b);e?(d=e.dom,d.nextSibling?q.insertBefore(a.dom,d.nextSibling):q.appendChild(a.dom)):q.firstChild?q.insertBefore(a.dom,q.firstChild):q.appendChild(a.dom);c[b]=a}else f("Layer of zlevel "+b+" is not valid")},eachLayer:function(b,a){var c=this._zlevelList,d,g;for(g=0;g<c.length;g++)d=c[g],b.call(a,this._layers[d],d)},eachBuildinLayer:function(b,a){var c=this._zlevelList,d,g,e;for(e=0;e<c.length;e++)g=c[e],d=this._layers[g],d.isBuildin&&b.call(a,d,g)},eachOtherLayer:function(b,a){var c=this._zlevelList,d,g,e;for(e=0;e<c.length;e++)g=c[e],d=this._layers[g],d.isBuildin||b.call(a,d,g)},getLayers:function(){return this._layers},_updateLayerStatus:function(b){var a=this._layers,c=this._progressiveLayers,e={},m={};this.eachBuildinLayer(function(b,a){e[a]=b.elCount;b.elCount=0;b.__dirty=!1});h.each(c,function(b,a){m[a]=b.elCount;b.elCount=0;b.__dirty=!1});for(var q=0,f,k,l=0,n=0,p=b.length;n<p;n++){var r=b[n],F=a[this._singleCanvas?0:r.zlevel],K=r.progressive;F&&(F.elCount++,F.__dirty=F.__dirty||r.__dirty);if(0<=K){k!==K&&(k=K,l++);K=r.__frame=l-1;if(!f){var D=Math.min(q,4);f=c[D];f||(f=c[D]=new d("progressive",this,this.dpr),f.initContext());f.__maxProgress=0}f.__dirty=f.__dirty||r.__dirty;f.elCount++;f.__maxProgress=Math.max(f.__maxProgress,K);f.__maxProgress>=f.__progress&&(F.__dirty=!0)}else r.__frame=-1,f&&(f.__nextIdxNotProg=n,q++,f=null)}f&&(q++,f.__nextIdxNotProg=n);this.eachBuildinLayer(function(b,a){e[a]!==b.elCount&&(b.__dirty=!0)});c.length=Math.min(q,5);h.each(c,function(b,a){m[a]!==b.elCount&&(r.__dirty=!0);b.__dirty&&(b.__progress=0)})},clear:function(){this.eachBuildinLayer(this._clearLayer);return this},_clearLayer:function(b){b.clear()},configLayer:function(b,a){if(a){var c=this._layerConfig;c[b]?h.merge(c[b],a,!0):c[b]=a;var d=this._layers[b];d&&h.merge(d,c[b],!0)}},delLayer:function(b){var a=this._layers,c=this._zlevelList,d=a[b];d&&(d.dom.parentNode.removeChild(d.dom),delete a[b],c.splice(h.indexOf(c,b),1))},resize:function(b,a){var c=this._domRoot;c.style.display="none";b=b||this._getWidth();a=a||this._getHeight();c.style.display="";if(this._width!=b||a!=this._height){c.style.width=b+"px";c.style.height=a+"px";for(var d in this._layers)this._layers[d].resize(b,a);this.refresh(!0)}this._width=b;this._height=a;return this},clearLayer:function(b){(b=this._layers[b])&&b.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(b){b=b||{};if(this._singleCanvas)return this._layers[0].dom;var a=new d("image",this,b.pixelRatio||this.dpr);a.initContext();a.clearColor=b.backgroundColor;a.clear();b=this.storage.getDisplayList(!0);for(var c={},e=0;e<b.length;e++)this._doPaintEl(b[e],a,!0,c);return a.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var b=this.root,a=document.defaultView.getComputedStyle(b);return(b.clientWidth||parseInt(a.width,10)||parseInt(b.style.width,10))-(parseInt(a.paddingLeft,10)||0)-(parseInt(a.paddingRight,10)||0)|0},_getHeight:function(){var b=this.root,a=document.defaultView.getComputedStyle(b);return(b.clientHeight||parseInt(a.height,10)||parseInt(b.style.height,10))-(parseInt(a.paddingTop,10)||0)-(parseInt(a.paddingBottom,10)||0)|0},_pathToImage:function(b,c,d,e,q){var g=document.createElement("canvas"),m=g.getContext("2d");g.width=d*q;g.height=e*q;m.clearRect(0,0,d*q,e*q);d=c.position;e=c.rotation;q=c.scale;c.position=[0,0,0];c.rotation=0;c.scale=[1,1];c&&c.brush(m);b=new (a(62))({id:b,style:{x:0,y:0,image:g}});null!=d&&(b.position=c.position=d);null!=e&&(b.rotation=c.rotation=e);null!=q&&(b.scale=c.scale=q);return b},_createPathToImage:function(){var b=this;return function(a,c,d,e){return b._pathToImage(a,c,d,e,b.dpr)}}};r.exports=p},function(r,p,a){function l(){return!1}function n(a,b,c,e){b=document.createElement(b);var d=c.getWidth();c=c.getHeight();var g=b.style;g.position="absolute";g.left=0;g.top=0;g.width=d+"px";g.height=c+"px";b.width=d*e;b.height=c*e;b.setAttribute("data-zr-dom-id",a);return b}var k=a(4),h=a(41),f=a(47),e=a(59);p=function(a,b,c){var d;c=c||h.devicePixelRatio;"string"===typeof a?d=n(a,"canvas",b,c):k.isObject(a)&&(d=a,a=d.id);this.id=a;this.dom=d;if(a=d.style)d.onselectstart=l,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";this.ctxBack=this.domBack=null;this.painter=b;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=c};p.prototype={constructor:p,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var a=this.dpr;1!=a&&this.ctx.scale(a,a)},createBackBuffer:function(){var a=this.dpr;this.domBack=n("back-"+this.id,"canvas",this.painter,a);this.ctxBack=this.domBack.getContext("2d");1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,g=this.domBack;e.width=a+"px";e.height=b+"px";d.width=a*c;d.height=b*c;1!=c&&this.ctx.scale(c,c);g&&(g.width=a*c,g.height=b*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(a){var b=this.dom,c=this.ctx,d=b.width,m=b.height,g=this.clearColor,t=this.motionBlur&&!a;a=this.lastFrameAlpha;var h=this.dpr;t&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(b,0,0,d/h,m/h));c.clearRect(0,0,d/h,m/h);if(g){var k;g.colorStops?(k=g.__canvasGradient||f.getGradient(c,g,{x:0,y:0,width:d/h,height:m/h}),g.__canvasGradient=k):g.image&&(k=e.prototype.getCanvasPattern.call(g,c));c.save();c.fillStyle=k||g;c.fillRect(0,0,d/h,m/h);c.restore()}t&&(b=this.domBack,c.save(),c.globalAlpha=a,c.drawImage(b,0,0,d/h,m/h),c.restore())}};r.exports=p},function(r,p,a){var l=a(43),n=a(4),k=Math.PI;r.exports=function(a,f){f=f||{};n.defaults(f,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var e=new l.Rect({style:{fill:f.maskColor},zlevel:f.zlevel,z:1E4}),d=new l.Arc({shape:{startAngle:-k/2,endAngle:-k/2+.1,r:10},style:{stroke:f.color,lineCap:"round",lineWidth:5},zlevel:f.zlevel,z:10001}),b=new l.Rect({style:{fill:"none",text:f.text,textPosition:"right",textDistance:10,textFill:f.textColor},zlevel:f.zlevel,z:10001});d.animateShape(!0).when(1E3,{endAngle:3*k/2}).start("circularInOut");d.animateShape(!0).when(1E3,{startAngle:3*k/2}).delay(300).start("circularInOut");var c=new l.Group;c.add(d);c.add(b);c.add(e);c.resize=function(){var c=a.getWidth()/2,m=a.getHeight()/2;d.setShape({cx:c,cy:m});var g=d.shape.r;b.setShape({x:c-g,y:m-g,width:2*g,height:2*g});e.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})};c.resize();return c}},function(r,p,a){var l=a(61);r.exports=function(a){a.eachRawSeries(function(k){var h=(k.visualColorAccessPath||"itemStyle.normal.color").split("."),f=k.getData(),e=k.get(h)||k.getColorFromPalette(k.get("name"));f.setVisual("color",e);a.isSeriesFiltered(k)||("function"!==typeof e||e instanceof l||f.each(function(a){f.setItemVisual(a,"color",e(k.getDataParams(a)))}),f.each(function(a){var b=f.getItemModel(a).get(h,!0);null!=b&&f.setItemVisual(a,"color",b)}))})}},function(r,p,a){function l(b){d(h,function(a){a[0]in b&&!(a[1]in b)&&(b[a[1]]=b[a[0]])})}var n=a(4),k=a(96),h=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],f="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),e="bar boxplot candlestick chord effectScatter funnel gauge lines graph heatmap line map parallel pie radar sankey scatter treemap".split(" "),d=n.each;r.exports=function(b){d(b.series,function(b){if(n.isObject(b)){var a=b.type;k(b);"pie"!==a&&"gauge"!==a||null==b.clockWise||(b.clockwise=b.clockWise);if("gauge"===a){for(var a=["pointer.color"],c=b,d=0;d<a.length&&(c=c&&c[a[d]],null!=c);d++);a=c;if(null!=a){for(var c=["itemStyle.normal.color"],d=b,f,h=0;h<c.length-1;h++)f=c[h],null==d[f]&&(d[f]={}),d=d[f];null==d[c[h]]&&(d[c[h]]=a)}}for(a=0;a<e.length;a++)if(e[a]===b.type){l(b);break}}});b.dataRange&&(b.visualMap=b.dataRange);d(f,function(a){if(a=b[a])n.isArray(a)||(a=[a]),d(a,function(b){l(b)})})}},function(r,p,a){function l(a){var f=a&&a.itemStyle;f&&n.each(k,function(e){var d=f.normal,b=f.emphasis;d&&d[e]&&(a[e]=a[e]||{},a[e].normal?n.merge(a[e].normal,d[e]):a[e].normal=d[e],d[e]=null);b&&b[e]&&(a[e]=a[e]||{},a[e].emphasis?n.merge(a[e].emphasis,b[e]):a[e].emphasis=b[e],b[e]=null)})}var n=a(4),k="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" ");r.exports=function(a){if(a){l(a);l(a.markPoint);l(a.markLine);var f=a.data;if(f){for(var e=0;e<f.length;e++)l(f[e]);if((e=a.markPoint)&&e.data)for(f=e.data,e=0;e<f.length;e++)l(f[e]);if((a=a.markLine)&&a.data)for(a=a.data,e=0;e<a.length;e++)n.isArray(a[e])?(l(a[e][0]),l(a[e][1])):l(a[e])}}}},function(r,p,a){(function(l){function n(b){d.isArray(b)||(b=[b]);return b}function k(b,a){var c=b.dimensions,e=new g(d.map(c,b.getDimensionInfo,b),b.hostModel);m(e,b);for(var q=e._storage={},f=b._storage,t=0;t<c.length;t++){var h=c[t],k=f[h];0<=d.indexOf(a,h)?q[h]=new k.constructor(f[h].length):q[h]=f[h]}return e}l="undefined"===typeof window?l:window;var h={"float":"undefined"===typeof l.Float64Array?Array:l.Float64Array,"int":"undefined"===typeof l.Int32Array?Array:l.Int32Array,ordinal:Array,number:Array,time:Array},f=a(12),e=a(98),d=a(4),b=a(5),c=d.isObject,q=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],m=function(b,a){d.each(q.concat(a.__wrappedMethods||[]),function(c){a.hasOwnProperty(c)&&(b[c]=a[c])});b.__wrappedMethods=a.__wrappedMethods},g=function(b,a){b=b||["x","y"];for(var c={},d=[],e=0;e<b.length;e++){var g,m;"string"===typeof b[e]?(g=b[e],m={name:g,stackable:!1,type:"number"}):(m=b[e],g=m.name,m.type=m.type||"number");d.push(g);c[g]=m}this.dimensions=d;this._dimensionInfos=c;this.hostModel=a;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[]};l=g.prototype;l.type="list";l.hasItemOption=!0;l.getDimension=function(b){isNaN(b)||(b=this.dimensions[b]||b);return b};l.getDimensionInfo=function(b){return d.clone(this._dimensionInfos[this.getDimension(b)])};l.initData=function(a,c,e){a=a||[];if(!d.isArray(a))throw Error("Invalid data.");this._rawData=a;var g=this._storage={},m=this.indices=[],q=this.dimensions,f=a.length,t=this._dimensionInfos,k=[],w={};c=c||[];for(var u=0;u<q.length;u++)g[q[u]]=new h[t[q[u]].type](f);var x=this;e||(x.hasItemOption=!1);e=e||function(a,c,d,e){d=b.getDataItemValue(a);b.isDataItemOption(a)&&(x.hasItemOption=!0);return b.converDataValue(d instanceof Array?d[e]:d,t[c])};for(u=0;u<a.length;u++){for(var f=a[u],l=0;l<q.length;l++){var n=q[l];g[n][u]=e(f,n,u,l)}m.push(u)}for(u=0;u<a.length;u++)!c[u]&&a[u]&&null!=a[u].name&&(c[u]=a[u].name),e=c[u]||"",g=a[u]&&a[u].id,!g&&e&&(w[e]=w[e]||0,g=e,0<w[e]&&(g+="__ec__"+w[e]),w[e]++),g&&(k[u]=g);this._nameList=c;this._idList=k};l.count=function(){return this.indices.length};l.get=function(b,a,c){var d=this._storage,e=this.indices[a];if(null==e)return NaN;d=d[b]&&d[b][e];if(c&&(c=this._dimensionInfos[b])&&c.stackable)for(c=this.stackedOn;c;){e=c.get(b,a);if(0<=d&&0<e||0>=d&&0>e)d+=e;c=c.stackedOn}return d};l.getValues=function(b,a,c){var e=[];d.isArray(b)||(c=a,a=b,b=this.dimensions);for(var g=0,m=b.length;g<m;g++)e.push(this.get(b[g],a,c));return e};l.hasValue=function(b){for(var a=this.dimensions,c=this._dimensionInfos,d=0,e=a.length;d<e;d++)if("ordinal"!==c[a[d]].type&&isNaN(this.get(a[d],b)))return!1;return!0};l.getDataExtent=function(b,a){b=this.getDimension(b);var c=this._storage[b],d=this.getDimensionInfo(b);a=d&&d.stackable&&a;if(d=(this._extent||(this._extent={}))[b+!!a])return d;if(c){for(var d=Infinity,e=-Infinity,g=0,m=this.count();g<m;g++)c=this.get(b,g,a),c<d&&(d=c),c>e&&(e=c);return this._extent[b+!!a]=[d,e]}return[Infinity,-Infinity]};l.getSum=function(b,a){var c=0;if(this._storage[b])for(var d=0,e=this.count();d<e;d++){var g=this.get(b,d,a);isNaN(g)||(c+=g)}return c};l.indexOf=function(b,a){var c=this._storage[b],d=this.indices;if(c)for(var e=0,g=d.length;e<g;e++)if(c[d[e]]===a)return e;return-1};l.indexOfName=function(b){for(var a=this.indices,c=this._nameList,d=0,e=a.length;d<e;d++)if(c[a[d]]===b)return d;return-1};l.indexOfRawIndex=function(b){for(var a=this.indices,c=0,d=a.length-1;c<=d;){var e=(c+d)/2|0;if(a[e]<b)c=e+1;else if(a[e]>b)d=e-1;else return e}return-1};l.indexOfNearest=function(b,a,c,d){var e=this._storage[b];null==d&&(d=Infinity);var g=-1;if(e)for(var e=Number.MAX_VALUE,m=0,q=this.count();m<q;m++){var f=a-this.get(b,m,c),t=Math.abs(f);f<=d&&(t<e||t===e&&0<f)&&(e=t,g=m)}return g};l.getRawIndex=function(b){b=this.indices[b];return null==b?-1:b};l.getRawDataItem=function(b){return this._rawData[this.getRawIndex(b)]};l.getName=function(b){return this._nameList[this.indices[b]]||""};l.getId=function(b){return this._idList[this.indices[b]]||this.getRawIndex(b)+""};l.each=function(b,a,c,e){"function"===typeof b&&(e=c,c=a,a=b,b=[]);b=d.map(n(b),this.getDimension,this);var g=[],m=b.length,q=this.indices;e=e||this;for(var f=0;f<q.length;f++)switch(m){case 0:a.call(e,f);break;case 1:a.call(e,this.get(b[0],f,c),f);break;case 2:a.call(e,this.get(b[0],f,c),this.get(b[1],f,c),f);break;default:for(var t=0;t<m;t++)g[t]=this.get(b[t],f,c);g[t]=f;a.apply(e,g)}};l.filterSelf=function(b,a,c,e){"function"===typeof b&&(e=c,c=a,a=b,b=[]);b=d.map(n(b),this.getDimension,this);var g=[],m=[],q=b.length,f=this.indices;e=e||this;for(var t=0;t<f.length;t++){var h;if(1===q)h=a.call(e,this.get(b[0],t,c),t);else{for(h=0;h<q;h++)m[h]=this.get(b[h],t,c);m[h]=t;h=a.apply(e,m)}h&&g.push(f[t])}this.indices=g;this._extent={};return this};l.mapArray=function(b,a,c,d){"function"===typeof b&&(d=c,c=a,a=b,b=[]);var e=[];this.each(b,function(){e.push(a&&a.apply(this,arguments))},c,d);return e};l.map=function(b,a,c,e){b=d.map(n(b),this.getDimension,this);var g=k(this,b),m=g.indices=this.indices,q=g._storage,f=[];this.each(b,function(){var c=arguments[arguments.length-1],d=a&&a.apply(this,arguments);if(null!=d){"number"===typeof d&&(f[0]=d,d=f);for(var e=0;e<d.length;e++){var g=q[b[e]],t=m[c];g&&(g[t]=d[e])}}},c,e);return g};l.downSample=function(b,a,c,d){var e=k(this,[b]),g=this._storage,m=e._storage,q=this.indices,f=e.indices=[],t=[],h=[];a=Math.floor(1/a);for(var w=m[b],l=this.count(),u=0;u<g[b].length;u++)m[b][u]=g[b][u];for(u=0;u<l;u+=a){a>l-u&&(a=l-u,t.length=a);for(g=0;g<a;g++)b=q[u+g],t[g]=w[b],h[g]=b;g=c(t);b=h[d(t,g)||0];w[b]=g;f.push(b)}return e};l.getItemModel=function(b){var a=this.hostModel;b=this.indices[b];return new f(this._rawData[b],a,a&&a.ecModel)};l.diff=function(b){var a=this._idList,c=b&&b._idList;return new e(b?b.indices:[],this.indices,function(b){return c[b]||b+""},function(b){return a[b]||b+""})};l.getVisual=function(b){var a=this._visual;return a&&a[b]};l.setVisual=function(b,a){if(c(b))for(var d in b)b.hasOwnProperty(d)&&this.setVisual(d,b[d]);else this._visual=this._visual||{},this._visual[b]=a};l.setLayout=function(b,a){if(c(b))for(var d in b)b.hasOwnProperty(d)&&this.setLayout(d,b[d]);else this._layout[b]=a};l.getLayout=function(b){return this._layout[b]};l.getItemLayout=function(b){return this._itemLayouts[b]};l.setItemLayout=function(b,a,c){this._itemLayouts[b]=c?d.extend(this._itemLayouts[b]||{},a):a};l.clearItemLayouts=function(){this._itemLayouts.length=0};l.getItemVisual=function(b,a,c){b=(b=this._itemVisuals[b])&&b[a];return null!=b||c?b:this.getVisual(a)};l.setItemVisual=function(b,a,d){var e=this._itemVisuals[b]||{};this._itemVisuals[b]=e;if(c(a))for(var g in a)a.hasOwnProperty(g)&&(e[g]=a[g]);else e[a]=d};l.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var t=function(b){b.seriesIndex=this.seriesIndex;b.dataIndex=this.dataIndex;b.dataType=this.dataType};l.setItemGraphicEl=function(b,a){var c=this.hostModel;a&&(a.dataIndex=b,a.dataType=this.dataType,a.seriesIndex=c&&c.seriesIndex,"group"===a.type&&a.traverse(t,a));this._graphicEls[b]=a};l.getItemGraphicEl=function(b){return this._graphicEls[b]};l.eachItemGraphicEl=function(b,a){d.each(this._graphicEls,function(c,d){c&&b&&b.call(a,c,d)})};l.cloneShallow=function(){var b=d.map(this.dimensions,this.getDimensionInfo,this),b=new g(b,this.hostModel);b._storage=this._storage;m(b,this);b.indices=this.indices.slice();this._extent&&(b._extent=d.extend({},this._extent));return b};l.wrapMethod=function(b,a){var c=this[b];"function"===typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(b),this[b]=function(){var b=c.apply(this,arguments);return a.apply(this,[b].concat(d.slice(arguments)))})};l.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];l.CHANGABLE_METHODS=["filterSelf"];r.exports=g}).call(p,function(){return this}())},function(r,p){function a(a){return a}function l(k,h,f,e){this._old=k;this._new=h;this._oldKeyGetter=f||a;this._newKeyGetter=e||a}function n(a,h,f,e){for(var d=0;d<a.length;d++){var b=e(a[d],d),c=h[b];null==c?(f.push(b),h[b]=d):(c.length||(h[b]=c=[c]),c.push(d))}}l.prototype={constructor:l,add:function(a){this._add=a;return this},update:function(a){this._update=a;return this},remove:function(a){this._remove=a;return this},execute:function(){var a=this._old,h=this._new,f=this._newKeyGetter,e={},d=[],b=[];n(a,{},d,this._oldKeyGetter);n(h,e,b,f);for(h=0;h<a.length;h++){var c=d[h],f=e[c];if(null!=f){var q=f.length;q?(1===q&&(e[c]=null),f=f.unshift()):e[c]=null;this._update&&this._update(f,h)}else this._remove&&this._remove(h)}for(h=0;h<b.length;h++)if(c=b[h],e.hasOwnProperty(c)&&(f=e[c],null!=f))if(f.length)for(a=0,q=f.length;a<q;a++)this._add&&this._add(f[a]);else this._add&&this._add(f)}};r.exports=l},function(r,p,a){r=a(4);p=a(1);var l=p.PRIORITY;a(100);a(103);p.registerVisual(r.curry(a(109),"line","circle","line"));p.registerLayout(r.curry(a(110),"line"));p.registerProcessor(l.PROCESSOR.STATISTIC,r.curry(a(111),"line"));a(112)},function(r,p,a){var l=a(101);p=a(28);r.exports=p.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,k){var h=a.coordinateSystem;if("polar"!==h&&"cartesian2d"!==h)throw Error("Line not support coordinateSystem besides cartesian and polar");return l(a.data,this,k)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:Infinity}})},function(r,p,a){function l(b){for(var a=0;a<b.length&&null==b[a];)a++;b=b[a];return null!=b&&!d.isArray(q(b))}function n(b){return"category"!==b&&"time"!==b}function k(b){return"category"===b?"ordinal":"time"===b?"time":"float"}function h(b,a){var c=[],e=b&&b.dimensions[b.categoryIndex],g;e&&(g=b.categoryAxesModels[e.name]);if(g&&(e=g.getCategories()))if(g=a.length,d.isArray(a[0])&&1<a[0].length)for(var c=[],m=0;m<g;m++)c[m]=e[a[m][b.categoryIndex||0]];else c=e.slice(0);return c}var f=a(97),e=a(102),d=a(4),b=a(5),c=a(26),q=b.getDataItemValue,m=b.converDataValue,g={cartesian2d:function(b,a,c){var d=c.getComponent("xAxis",a.get("xAxisIndex"));c=c.getComponent("yAxis",a.get("yAxisIndex"));if(!d)throw Error('xAxis "'+a.get("xAxisIndex")+'" not found');if(!c)throw Error('yAxis "'+a.get("yAxisIndex")+'" not found');var g=d.get("type"),m=c.get("type");a=[{name:"x",type:k(g),stackable:n(g)},{name:"y",type:k(m),stackable:n(m)}];g="category"===g;m="category"===m;e(a,b,["x","y","z"]);b={};g&&(b.x=d);m&&(b.y=c);return{dimensions:a,categoryIndex:g?0:m?1:-1,categoryAxesModels:b}},polar:function(b,a,c){var d=a.get("polarIndex")||0,g=function(b){return b.get("polarIndex")===d};a=c.findComponents({mainType:"angleAxis",filter:g})[0];c=c.findComponents({mainType:"radiusAxis",filter:g})[0];if(!a)throw Error("angleAxis option not found");if(!c)throw Error("radiusAxis option not found");var m=c.get("type"),q=a.get("type"),g=[{name:"radius",type:k(m),stackable:n(m)},{name:"angle",type:k(q),stackable:n(q)}],q="category"===q,m="category"===m;e(g,b,["radius","angle","value"]);b={};m&&(b.radius=c);q&&(b.angle=a);return{dimensions:g,categoryIndex:q?1:m?0:-1,categoryAxesModels:b}},geo:function(b,a,c){return{dimensions:e([{name:"lng"},{name:"lat"}],b,["lng","lat","value"])}}};r.exports=function(a,k,u){a=a||[];if(!d.isArray(a))throw Error("Invalid data.");var t=k.get("coordinateSystem"),w=g[t],t=c.get(t),n=w&&w(a,k,u),A=n&&n.dimensions;A||(A=t&&t.dimensions||["x","y"],A=e(A,a,A.concat(["value"])));var y=n?n.categoryIndex:-1,p=new f(A,k);k=h(n,a);var r={};u=0<=y&&l(a)?function(a,c,d,e){b.isDataItemOption(a)&&(p.hasItemOption=!0);return e===y?d:m(q(a),A[e])}:function(a,c,e,g){e=q(a);g=m(e&&e[g],A[g]);b.isDataItemOption(a)&&(p.hasItemOption=!0);(a=n&&n.categoryAxesModels)&&a[c]&&"string"===typeof g&&(r[c]=r[c]||a[c].getCategories(),g=d.indexOf(r[c],g),0>g&&!isNaN(g)&&(g=+g));return g};p.hasItemOption=!1;p.initData(a,k,u);return p}},function(r,p,a){function l(a,e,d,b){if(!e)return a;var c=n(e[0]),c=k.isArray(c)&&c.length||1;d=d||[];b=b||"extra";for(var q=0;q<c;q++)if(!a[q]){var m=d[q]||b+(q-d.length);a[q]=h(e,q)?{type:"ordinal",name:m}:m}return a}function n(a){return k.isArray(a)?a:k.isObject(a)?a.value:a}var k=a(4),h=l.guessOrdinal=function(a,e){for(var d=0,b=a.length;d<b;d++){var c=n(a[d]);if(!k.isArray(c))break;c=c[e];if(null!=c&&isFinite(c))break;else if(k.isString(c)&&"-"!==c)return!0}return!1};r.exports=l},function(r,p,a){function l(b,a){if(b.length===a.length){for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d[0]!==e[0]||d[1]!==e[1])return}return!0}}function n(b){return"number"===typeof b?b:b?.3:0}function k(b){var a=b.getGlobalExtent();if(b.onBand){b=b.getBandWidth()/2-1;var c=a[1]>a[0]?1:-1;a[0]+=c*b;a[1]-=c*b}return a}function h(b){return 0<=b?1:-1}function f(b,a){var c=b.getBaseAxis(),d=b.getOtherAxis(c),e=c.onZero?0:d.scale.getExtent()[0],g=d.dim,m="x"===g||"radius"===g?1:0;return a.mapArray([g],function(d,q){for(var f,t=a.stackedOn;t&&h(t.get(g,q))===h(d);){f=t;break}t=[];t[m]=a.get(c.dim,q);t[1-m]=f?f.get(g,q,!0):e;return b.dataToPoint(t)},!0)}function e(b,a){if(null!=a.dataIndex)return a.dataIndex;if(null!=a.name)return b.indexOfName(a.name)}function d(b,a,c){if("polar"===b.type){var d=b.getAngleAxis(),e=b.getRadiusAxis().getExtent(),g=d.getExtent(),m=Math.PI/180;b=new u.Sector({shape:{cx:b.cx,cy:b.cy,r0:e[0],r:e[1],startAngle:-g[0]*m,endAngle:-g[1]*m,clockwise:d.inverse}});a&&(b.shape.endAngle=-g[0]*m,u.initProps(b,{shape:{endAngle:-g[1]*m}},c));a=b}else{d=k(b.getAxis("x"));e=k(b.getAxis("y"));b=b.getBaseAxis().isHorizontal();var g=Math.min(d[0],d[1]),m=Math.min(e[0],e[1]),d=Math.max(d[0],d[1])-g,e=Math.max(e[0],e[1])-m,q=c.get("lineStyle.normal.width")||2,q=c.get("clipOverflow")?q/2:Math.max(d,e);b?(m-=q,e+=2*q):(g-=q,d+=2*q);g=new u.Rect({shape:{x:g,y:m,width:d,height:e}});a&&(g.shape[b?"width":"height"]=0,u.initProps(g,{shape:{width:d,height:e}},c));a=g}return a}function b(b,a,c){a=a.getBaseAxis();a="x"===a.dim||"radius"===a.dim?0:1;for(var d=[],e=0;e<b.length-1;e++){var g=b[e+1],m=b[e];d.push(m);var q=[];switch(c){case "end":q[a]=g[a];q[1-a]=m[1-a];d.push(q);break;case "middle":var f=[];q[a]=f[a]=(m[a]+g[a])/2;q[1-a]=m[1-a];f[1-a]=g[1-a];d.push(q);d.push(f);break;default:q[a]=m[a],q[1-a]=g[1-a],d.push(q)}}b[e]&&d.push(b[e]);return d}function c(b,a){return Math.max(Math.min(b,a[1]),a[0])}function q(b,a){var d=b.getVisual("visualMeta");if(d&&d.length){for(var e,g=d.length-1;0<=g;g--)if(2>d[g].dimension){e=d[g];break}if(e&&"cartesian2d"===a.type){var d=b.dimensions[e.dimension],m=b.getDataExtent(d),q=e.stops,f=[];q[0].interval&&q.sort(function(b,a){return b.interval[0]-a.interval[0]});e=q[0];var t=q[q.length-1];e=e.interval?c(e.interval[0],m):e.value;var t=t.interval?c(t.interval[1],m):t.value,h=t-e;if(0===h)return b.getItemVisual(0,"color");for(g=0;g<q.length;g++)q[g].interval?q[g].interval[1]!==q[g].interval[0]&&f.push({offset:(c(q[g].interval[0],m)-e)/h,color:q[g].color},{offset:(c(q[g].interval[1],m)-e)/h,color:q[g].color}):f.push({offset:(q[g].value-e)/h,color:q[g].color});m=new u.LinearGradient(0,0,0,0,f,!0);g=a.getAxis(d);e=Math.round(g.toGlobalCoord(g.dataToCoord(e)));t=Math.round(g.toGlobalCoord(g.dataToCoord(t)));m[d]=e;m[d+"2"]=t;return m}console.warn("Visual map on line style only support x or y dimension.")}}var m=a(4),g=a(104),t=a(105),w=a(107),u=a(43),x=a(108),v=a(42);r.exports=v.extend({type:"line",init:function(){var b=new u.Group,a=new g;this.group.add(a.group);this._symbolDraw=a;this._lineGroup=b},render:function(a,c,e){c=a.coordinateSystem;var g=this.group,t=a.getData(),h=a.getModel("lineStyle.normal"),k=a.getModel("areaStyle.normal"),w=t.mapArray(t.getItemLayout,!0),u="polar"===c.type,x=this._coordSys,v=this._symbolDraw,z=this._polyline,y=this._polygon,A=this._lineGroup,p=a.get("animation"),r=!k.isEmpty(),S=f(c,t),P=a.get("showSymbol"),R=P&&!u&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(t,c),O=this._data;O&&O.eachItemGraphicEl(function(b,a){b.__temp&&(g.remove(b),O.setItemGraphicEl(a,null))});P||v.remove();g.add(A);u=!u&&a.get("step");z&&x.type===c.type&&u===this._step?(r&&!y?y=this._newPolygon(w,S,c,p):y&&!r&&(A.remove(y),y=this._polygon=null),A.setClipPath(d(c,!1,a)),P&&v.updateData(t,R),t.eachItemGraphicEl(function(b){b.stopAnimation(!0)}),l(this._stackedOnPoints,S)&&l(this._points,w)||(p?this._updateAnimation(t,S,c,e,u):(z.setShape({points:w}),y&&y.setShape({points:w,stackedOnPoints:S})))):(P&&v.updateData(t,R),u&&(w=b(w,c,u),S=b(S,c,u)),z=this._newPolyline(w,c,p),r&&(y=this._newPolygon(w,S,c,p)),A.setClipPath(d(c,!0,a)));e=q(t,c)||t.getVisual("color");z.useStyle(m.defaults(h.getLineStyle(),{fill:"none",stroke:e,lineJoin:"bevel"}));h=a.get("smooth");h=n(a.get("smooth"));z.setShape({smooth:h,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")});y&&(z=t.stackedOn,x=0,y.useStyle(m.defaults(k.getAreaStyle(),{fill:e,opacity:.7,lineJoin:"bevel"})),z&&(x=n(z.hostModel.get("smooth"))),y.setShape({smooth:h,stackedOnSmooth:x,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}));this._data=t;this._coordSys=c;this._stackedOnPoints=S;this._points=w;this._step=u},highlight:function(b,a,c,d){var g=b.getData(),m=e(g,d);!(m instanceof Array)&&null!=m&&0<=m?(a=g.getItemGraphicEl(m),a||(c=g.getItemLayout(m),a=new t(g,m),a.position=c,a.setZ(b.get("zlevel"),b.get("z")),a.ignore=isNaN(c[0])||isNaN(c[1]),a.__temp=!0,g.setItemGraphicEl(m,a),a.stopSymbolAnimation(!0),this.group.add(a)),a.highlight()):v.prototype.highlight.call(this,b,a,c,d)},downplay:function(b,a,c,d){var g=b.getData(),m=e(g,d);if(null!=m&&0<=m){if(b=g.getItemGraphicEl(m))b.__temp?(g.setItemGraphicEl(m,null),this.group.remove(b)):b.downplay()}else v.prototype.downplay.call(this,b,a,c,d)},_newPolyline:function(b){var a=this._polyline;a&&this._lineGroup.remove(a);a=new x.Polyline({shape:{points:b},silent:!0,z2:10});this._lineGroup.add(a);return this._polyline=a},_newPolygon:function(b,a){var c=this._polygon;c&&this._lineGroup.remove(c);c=new x.Polygon({shape:{points:b,stackedOnPoints:a},silent:!0});this._lineGroup.add(c);return this._polygon=c},_getSymbolIgnoreFunc:function(b,a){var c=a.getAxesByScale("ordinal")[0];if(c&&c.isLabelIgnored)return m.bind(c.isLabelIgnored,c)},_updateAnimation:function(a,c,d,g,e){var m=this._polyline;g=this._polygon;var q=a.hostModel;c=w(this._data,a,this._stackedOnPoints,c,this._coordSys,d);var f=c.current,t=c.stackedOnCurrent,h=c.next,k=c.stackedOnNext;e&&(f=b(c.current,d,e),t=b(c.stackedOnCurrent,d,e),h=b(c.next,d,e),k=b(c.stackedOnNext,d,e));m.shape.__points=c.current;m.shape.points=f;u.updateProps(m,{shape:{points:h}},q);g&&(g.setShape({points:f,stackedOnPoints:t}),u.updateProps(g,{shape:{points:h,stackedOnPoints:k,__points:c.next}},q));var l=[];d=c.status;for(e=0;e<d.length;e++)"\x3d"===d[e].cmd&&(g=a.getItemGraphicEl(d[e].idx1))&&l.push({el:g,ptIdx:e});m.animators&&m.animators.length&&m.animators[0].during(function(){for(var b=0;b<l.length;b++)l[b].el.attr("position",m.shape.__points[l[b].ptIdx])})},remove:function(b){var a=this.group,c=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);c&&c.eachItemGraphicEl(function(b,d){b.__temp&&(a.remove(b),c.setItemGraphicEl(d,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(r,p,a){function l(a){this.group=new k.Group;this._symbolCtor=a||h}function n(a,e,d){var b=a.getItemLayout(e);return b&&!isNaN(b[0])&&!isNaN(b[1])&&!(d&&d(e))&&"none"!==a.getItemVisual(e,"symbol")}var k=a(43),h=a(105);p=l.prototype;p.updateData=function(a,e){var d=this.group,b=a.hostModel,c=this._data,q=this._symbolCtor,m={itemStyle:b.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:b.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:b.get("symbolRotate"),symbolOffset:b.get("symbolOffset"),hoverAnimation:b.get("hoverAnimation"),labelModel:b.getModel("label.normal"),hoverLabelModel:b.getModel("label.emphasis")};a.diff(c).add(function(b){var c=a.getItemLayout(b);if(n(a,b,e)){var g=new q(a,b,m);g.attr("position",c);a.setItemGraphicEl(b,g);d.add(g)}}).update(function(g,f){var t=c.getItemGraphicEl(f),h=a.getItemLayout(g);n(a,g,e)?(t?(t.updateData(a,g,m),k.updateProps(t,{position:h},b)):(t=new q(a,g),t.attr("position",h)),d.add(t),a.setItemGraphicEl(g,t)):d.remove(t)}).remove(function(b){var a=c.getItemGraphicEl(b);a&&a.fadeOut(function(){d.remove(a)})}).execute();this._data=a};p.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(e,d){var b=a.getItemLayout(d);e.attr("position",b)})};p.remove=function(a){var e=this.group,d=this._data;d&&(a?d.eachItemGraphicEl(function(b){b.fadeOut(function(){e.remove(b)})}):e.removeAll())};r.exports=l},function(r,p,a){function l(b){b instanceof Array||(b=[+b,+b]);return b}function n(b,a,c){e.Group.call(this);this.updateData(b,a,c)}function k(b,a){this.parent.drift(b,a)}var h=a(4),f=a(106),e=a(43),d=a(7);p=n.prototype;p._createSymbol=function(b,a,c){this.removeAll();var d=a.hostModel,g=a.getItemVisual(c,"color"),g=f.createSymbol(b,-.5,-.5,1,1,g);g.attr({z2:100,culling:!0,scale:[0,0]});g.drift=k;a=l(a.getItemVisual(c,"symbolSize"));e.initProps(g,{scale:a},d,c);this._symbolType=b;this.add(g)};p.stopSymbolAnimation=function(b){this.childAt(0).stopAnimation(b)};p.getScale=function(){return this.childAt(0).scale};p.highlight=function(){this.childAt(0).trigger("emphasis")};p.downplay=function(){this.childAt(0).trigger("normal")};p.setZ=function(b,a){var c=this.childAt(0);c.zlevel=b;c.z=a};p.setDraggable=function(b){var a=this.childAt(0);a.draggable=b;a.cursor=b?"move":"pointer"};p.updateData=function(b,a,c){this.silent=!1;var d=b.getItemVisual(a,"symbol")||"circle",g=b.hostModel,m=l(b.getItemVisual(a,"symbolSize"));d!==this._symbolType?this._createSymbol(d,b,a):(d=this.childAt(0),e.updateProps(d,{scale:m},g,a));this._updateCommon(b,a,m,c);this._seriesModel=g};var b=["itemStyle","normal"],c=["itemStyle","emphasis"],q=["label","normal"],m=["label","emphasis"];p._updateCommon=function(a,f,k,u){var g=this.childAt(0),t=a.hostModel,w=a.getItemVisual(f,"color");"image"!==g.type&&g.useStyle({strokeNoScale:!0});var n=(u=u||null)&&u.itemStyle,y=u&&u.hoverItemStyle,p=u&&u.symbolRotate,r=u&&u.symbolOffset,F=u&&u.labelModel,K=u&&u.hoverLabelModel,D=u&&u.hoverAnimation;!u||a.hasItemOption?(D=a.getItemModel(f),n=D.getModel(b).getItemStyle(["color"]),y=D.getModel(c).getItemStyle(),p=D.getShallow("symbolRotate"),r=D.getShallow("symbolOffset"),F=D.getModel(q),K=D.getModel(m),D=D.getShallow("hoverAnimation")):y=h.extend({},y);u=g.style;g.rotation=(p||0)*Math.PI/180||0;r&&g.attr("position",[d.parsePercent(r[0],k[0]),d.parsePercent(r[1],k[1])]);g.setColor(w);g.setStyle(n);k=a.getItemVisual(f,"opacity");null!=k&&(u.opacity=k);k=a.dimensions.slice();for(var N,I;k.length&&(N=k.pop(),I=a.getDimensionInfo(N).type,"ordinal"===I||"time"===I););null!=N&&F.getShallow("show")?(e.setText(u,F,w),u.text=h.retrieve(t.getFormattedLabel(f,"normal"),a.get(N,f))):u.text="";null!=N&&K.getShallow("show")?(e.setText(y,K,w),y.text=h.retrieve(t.getFormattedLabel(f,"emphasis"),a.get(N,f))):y.text="";var E=l(a.getItemVisual(f,"symbolSize"));g.off("mouseover").off("mouseout").off("emphasis").off("normal");e.setHoverStyle(g,y);D&&t.ifEnableAnimation()&&(a=function(){this.animateTo({scale:[Math.max(1.1*E[0],E[0]+3),Math.max(1.1*E[1],E[1]+E[1]/E[0]*3)]},400,"elasticOut")},f=function(){this.animateTo({scale:E},400,"elasticOut")},g.on("mouseover",a).on("mouseout",f).on("emphasis",a).on("normal",f))};p.fadeOut=function(b){var a=this.childAt(0);this.silent=!0;a.style.text="";e.updateProps(a,{scale:[0,0]},this._seriesModel,this.dataIndex,b)};h.inherits(n,e.Group);r.exports=n},function(r,p,a){var l=a(43),n=a(9);p=l.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,a){var c=a.cx,d=a.cy,e=a.width/2,m=a.height/2;b.moveTo(c,d-m);b.lineTo(c+e,d+m);b.lineTo(c-e,d+m);b.closePath()}});a=l.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(b,a){var c=a.cx,d=a.cy,e=a.width/2,m=a.height/2;b.moveTo(c,d-m);b.lineTo(c+e,d);b.lineTo(c,d+m);b.lineTo(c-e,d);b.closePath()}});var k=l.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,a){var c=a.x,d=a.y,e=a.width/5*3,m=Math.max(e,a.height),q=e/2,e=q*q/(m-q),m=d-m+q+e,f=Math.asin(e/q),h=Math.cos(f)*q,k=Math.sin(f),l=Math.cos(f);b.arc(c,m,q,Math.PI-f,2*Math.PI+f);f=.6*q;q*=.7;b.bezierCurveTo(c+h-k*f,m+e+l*f,c,d-q,c,d);b.bezierCurveTo(c,d-q,c-h+k*f,m+e+l*f,c-h,m+e);b.closePath()}}),h=l.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(b,a){var c=a.height,d=a.x,e=a.y,m=a.width/3*2;b.moveTo(d,e);b.lineTo(d+m,e+c);b.lineTo(d,e+c/4*3);b.lineTo(d-m,e+c);b.lineTo(d,e);b.closePath()}});p={line:l.Line,rect:l.Rect,roundRect:l.Rect,square:l.Rect,circle:l.Circle,diamond:a,pin:k,arrow:h,triangle:p};var f={line:function(b,a,c,d,e){e.x1=b;e.y1=a+d/2;e.x2=b+c;e.y2=a+d/2},rect:function(b,a,c,d,e){e.x=b;e.y=a;e.width=c;e.height=d},roundRect:function(b,a,c,d,e){e.x=b;e.y=a;e.width=c;e.height=d;e.r=Math.min(c,d)/4},square:function(b,a,c,d,e){c=Math.min(c,d);e.x=b;e.y=a;e.width=c;e.height=c},circle:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.r=Math.min(c,d)/2},diamond:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.width=c;e.height=d},pin:function(b,a,c,d,e){e.x=b+c/2;e.y=a+d/2;e.width=c;e.height=d},arrow:function(b,a,c,d,e){e.x=b+c/2;e.y=a+d/2;e.width=c;e.height=d},triangle:function(b,a,c,d,e){e.cx=b+c/2;e.cy=a+d/2;e.width=c;e.height=d}},e={},d;for(d in p)e[d]=new p[d];var b=l.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var b=this.style;"pin"===this.shape.symbolType&&"inside"===b.textPosition&&(b.textPosition=["50%","40%"],b.textAlign="center",b.textVerticalAlign="middle")},buildPath:function(b,a,c){var d=a.symbolType,g=e[d];"none"!==a.symbolType&&(g||(d="rect",g=e[d]),f[d](a.x,a.y,a.width,a.height,g.shape),g.buildPath(b,g.shape,c))}}),c=function(b){if("image"!==this.type){var a=this.style,c=this.shape;c&&"line"===c.symbolType?a.stroke=b:this.__isEmptyBrush?(a.stroke=b,a.fill="#fff"):(a.fill&&(a.fill=b),a.stroke&&(a.stroke=b));this.dirty(!1)}};r.exports={createSymbol:function(a,d,e,f,h,k){var g=0===a.indexOf("empty");g&&(a=a.substr(5,1).toLowerCase()+a.substr(6));a=0===a.indexOf("image://")?new l.Image({style:{image:a.slice(8),x:d,y:e,width:f,height:h}}):0===a.indexOf("path://")?l.makePath(a.slice(7),{},new n(d,e,f,h)):new b({shape:{symbolType:a,x:d,y:e,width:f,height:h}});a.__isEmptyBrush=g;a.setColor=c;a.setColor(k);return a}}},function(r,p){function a(a){return 0<=a?1:-1}function l(k,h,f){for(var e=k.getBaseAxis(),d=k.getOtherAxis(e),b=e.onZero?0:d.scale.getExtent()[0],d=d.dim,c="x"===d||"radius"===d?1:0,q,m=h.stackedOn,g=h.get(d,f);m&&a(m.get(d,f))===a(g);){q=m;break}m=[];m[c]=h.get(e.dim,f);m[1-c]=q?q.get(d,f,!0):b;return k.dataToPoint(m)}function n(a,h){var f=[];h.diff(a).add(function(a){f.push({cmd:"+",idx:a})}).update(function(a,d){f.push({cmd:"\x3d",idx:d,idx1:a})}).remove(function(a){f.push({cmd:"-",idx:a})}).execute();return f}r.exports=function(a,h,f,e,d,b){for(var c=n(a,h),q=[],m=[],g=[],t=[],k=[],u=[],x=[],v=b.dimensions,z=0;z<c.length;z++){var p=c[z],y=!0;switch(p.cmd){case "\x3d":var r=a.getItemLayout(p.idx),J=h.getItemLayout(p.idx1);if(isNaN(r[0])||isNaN(r[1]))r=J.slice();q.push(r);m.push(J);g.push(f[p.idx]);t.push(e[p.idx1]);x.push(h.getRawIndex(p.idx1));break;case "+":r=p.idx;q.push(d.dataToPoint([h.get(v[0],r,!0),h.get(v[1],r,!0)]));m.push(h.getItemLayout(r).slice());g.push(l(d,h,r));t.push(e[r]);x.push(h.getRawIndex(r));break;case "-":r=p.idx,J=a.getRawIndex(r),J!==r?(q.push(a.getItemLayout(r)),m.push(b.dataToPoint([a.get(v[0],r,!0),a.get(v[1],r,!0)])),g.push(f[r]),t.push(l(b,a,r)),x.push(J)):y=!1}y&&(k.push(p),u.push(u.length))}u.sort(function(b,a){return x[b]-x[a]});a=[];h=[];f=[];e=[];d=[];for(z=0;z<u.length;z++)r=u[z],a[z]=q[r],h[z]=m[r],f[z]=g[r],e[z]=t[r],d[z]=k[r];return{current:a,next:h,stackedOnCurrent:f,stackedOnNext:e,status:d}}},function(r,p,a){function l(b){return isNaN(b[0])||isNaN(b[1])}function n(a,t,k,u,x,n,z,p,y,r,J){for(var g=0,w=k,v=0;v<u;v++){var A=t[w];if(w>=x||0>w)break;if(l(A)){if(J){w+=n;continue}break}if(w===k)a[0<n?"moveTo":"lineTo"](A[0],A[1]),b(q,A);else if(0<y){var B=w+n,E=t[B];if(J)for(;E&&l(t[B]);)B+=n,E=t[B];var L=.5,g=t[g],E=t[B];!E||l(E)?b(m,A):(l(E)&&!J&&(E=A),h.sub(c,E,g),"x"===r||"y"===r?(L="x"===r?0:1,B=Math.abs(A[L]-g[L]),E=Math.abs(A[L]-E[L])):(B=h.dist(A,g),E=h.dist(A,E)),L=E/(E+B),d(m,A,c,-y*(1-L)));f(q,q,p);e(q,q,z);f(m,m,p);e(m,m,z);a.bezierCurveTo(q[0],q[1],m[0],m[1],A[0],A[1]);d(q,A,c,y*L)}else a.lineTo(A[0],A[1]);g=w;w+=n}return v}function k(b,a){var c=[Infinity,Infinity],d=[-Infinity,-Infinity];if(a)for(var e=0;e<b.length;e++){var g=b[e];g[0]<c[0]&&(c[0]=g[0]);g[1]<c[1]&&(c[1]=g[1]);g[0]>d[0]&&(d[0]=g[0]);g[1]>d[1]&&(d[1]=g[1])}return{min:a?c:d,max:a?d:c}}p=a(45);var h=a(10),f=h.min,e=h.max,d=h.scaleAndAdd,b=h.copy,c=[],q=[],m=[];r.exports={Polyline:p.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(b,a){var c=a.points,d=0,e=c.length,g=k(c,a.smoothConstraint);if(a.connectNulls){for(;0<e&&l(c[e-1]);e--);for(;d<e&&l(c[d]);d++);}for(;d<e;)d+=n(b,c,d,e,e,1,g.min,g.max,a.smooth,a.smoothMonotone,a.connectNulls)+1}}),Polygon:p.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(b,a){var c=a.points,d=a.stackedOnPoints,e=0,g=c.length,m=a.smoothMonotone,q=k(c,a.smoothConstraint),f=k(d,a.smoothConstraint);if(a.connectNulls){for(;0<g&&l(c[g-1]);g--);for(;e<g&&l(c[e]);e++);}for(;e<g;){var h=n(b,c,e,g,g,1,q.min,q.max,a.smooth,m,a.connectNulls);n(b,d,e+h-1,h,g,-1,f.min,f.max,a.stackedOnSmooth,m,a.connectNulls);e+=h+1;b.closePath()}}})}},function(r,p){r.exports=function(a,l,n,k,h){k.eachRawSeriesByType(a,function(a){var e=a.getData(),d=a.get("symbol")||l,b=a.get("symbolSize");e.setVisual({legendSymbol:n||d,symbol:d,symbolSize:b});k.isSeriesFiltered(a)||("function"===typeof b&&e.each(function(c){var d=a.getRawValue(c),m=a.getDataParams(c);e.setItemVisual(c,"symbolSize",b(d,m))}),e.each(function(b){var a=e.getItemModel(b),c=a.getShallow("symbol",!0),a=a.getShallow("symbolSize",!0);null!=c&&e.setItemVisual(b,"symbol",c);null!=a&&e.setItemVisual(b,"symbolSize",a)}))})}},function(r,p){r.exports=function(a,l){l.eachSeriesByType(a,function(a){var k=a.getData(),h=a.coordinateSystem;h&&(a=h.dimensions,"singleAxis"===h.type?k.each(a[0],function(a,e){k.setItemLayout(e,isNaN(a)?[NaN,NaN]:h.dataToPoint(a))}):k.each(a,function(a,e,d){k.setItemLayout(d,isNaN(a)||isNaN(e)?[NaN,NaN]:h.dataToPoint([a,e]))},!0))})}},function(r,p){var a={average:function(a){for(var k=0,h=0,f=0;f<a.length;f++)isNaN(a[f])||(k+=a[f],h++);return 0===h?NaN:k/h},sum:function(a){for(var k=0,h=0;h<a.length;h++)k+=a[h]||0;return k},max:function(a){for(var k=-Infinity,h=0;h<a.length;h++)a[h]>k&&(k=a[h]);return k},min:function(a){for(var k=Infinity,h=0;h<a.length;h++)a[h]<k&&(k=a[h]);return k},nearest:function(a){return a[0]}},l=function(a,k){return Math.round(a.length/2)};r.exports=function(n,k,h){k.eachSeriesByType(n,function(f){var e=f.getData(),d=f.get("sampling"),b=f.coordinateSystem;if("cartesian2d"===b.type&&d){var c=b.getBaseAxis(),b=b.getOtherAxis(c),c=c.getExtent(),c=c[1]-c[0],c=Math.round(e.count()/c);if(1<c){var q;"string"===typeof d?q=a[d]:"function"===typeof d&&(q=d);q&&(e=e.downSample(b.dim,1/c,q,l),f.setData(e))}}},this)}},function(r,p,a){var l=a(43),n=a(4);a(113);a(130);a(1).extendComponentView({type:"grid",render:function(a,h){this.group.removeAll();a.get("show")&&this.group.add(new l.Rect({shape:a.coordinateSystem.getRect(),style:n.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0}))}})},function(r,p,a){function l(b,a,c){return c.getComponent("grid",b.get("gridIndex"))===a}function n(b,a,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(b,a,c);this._model=b}function k(b,a){var c=b.getExtent(),d=c[0]+c[1];b.toGlobalCoord="x"===b.dim?function(b){return b+a}:function(b){return d-b+a};b.toLocalCoord="x"===b.dim?function(b){return b-a}:function(b){return d-b+a}}var h=a(21),f=a(114),e=a(4),d=a(120),b=a(122),c=e.each,q=f.ifAxisCrossZero,m=f.niceScaleExtent;a(125);p=n.prototype;p.type="grid";p.getRect=function(){return this._rect};p.update=function(b,a){function d(b){b=e[b];for(var a in b){var c=b[a];if(c&&("category"===c.type||!q(c)))return!0}return!1}var e=this._axesMap;this._updateScale(b,this._model);c(e.x,function(b){m(b,b.model)});c(e.y,function(b){m(b,b.model)});c(e.x,function(b){d("y")&&(b.onZero=!1)});c(e.y,function(b){d("x")&&(b.onZero=!1)});this.resize(this._model,a)};p.resize=function(b,a){function d(){c(g,function(b){var a=b.isHorizontal(),c=a?[0,e.width]:[0,e.height],d=b.inverse?1:0;b.setExtent(c[d],c[1-d]);k(b,a?e.x:e.y)})}var e=h.getLayoutRect(b.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()});this._rect=e;var g=this._axesList;d();b.get("containLabel")&&(c(g,function(b){if(!b.model.get("axisLabel.inside")){var a;a=b.model;var c=a.getFormattedLabels(),d,g=1,m=c.length;40<m&&(g=Math.ceil(m/40));for(var q=0;q<m;q+=g)if(!b.isLabelIgnored(q)){var f=a.getTextRect(c[q]);d?d.union(f):d=f}if(a=d)c=b.isHorizontal()?"height":"width",d=b.model.get("axisLabel.margin"),e[c]-=a[c]+d,"top"===b.position?e.y+=a.height+d:"left"===b.position&&(e.x+=a.width+d)}}),d())};p.getAxis=function(b,a){var c=this._axesMap[b];if(null!=c){if(null==a)for(var d in c)return c[d];return c[a]}};p.getCartesian=function(b,a){if(null!=b&&null!=a)return this._coordsMap["x"+b+"y"+a];for(var c=0,d=this._coordsList;c<d.length;c++)if(d[c].getAxis("x").index===b||d[c].getAxis("y").index===a)return d[c]};p._initCartesian=function(a,e,m){function g(c){return function(d,g){if(l(d,a,e)){var m=d.get("position");"x"===c?"top"!==m&&"bottom"!==m&&(m="bottom",q[m]&&(m="top"===m?"bottom":"top")):"left"!==m&&"right"!==m&&(m="left",q[m]&&(m="left"===m?"right":"left"));q[m]=!0;m=new b(c,f.createScaleByModel(d),[0,0],d.get("type"),m);m.onBand="category"===m.type&&d.get("boundaryGap");m.inverse=d.get("inverse");m.onZero=d.get("axisLine.onZero");d.axis=m;m.model=d;m.grid=this;m.index=g;this._axesList.push(m);h[c][g]=m;t[c]++}}}var q={left:!1,right:!1,top:!1,bottom:!1},h={x:{},y:{}},t={x:0,y:0};e.eachComponent("xAxis",g("x"),this);e.eachComponent("yAxis",g("y"),this);t.x&&t.y?(this._axesMap=h,c(h.x,function(b,a){c(h.y,function(c,e){var g="x"+a+"y"+e,m=new d(g);m.grid=this;this._coordsMap[g]=m;this._coordsList.push(m);m.addAxis(b);m.addAxis(c)},this)},this)):(this._axesMap={},this._axesList=[])};p._updateScale=function(b,a){function d(b,a,d){c(d.coordDimToDataDim(a.dim),function(c){a.scale.unionExtent(b.getDataExtent(c,"ordinal"!==a.scale.type))})}e.each(this._axesList,function(b){b.scale.setExtent(Infinity,-Infinity)});b.eachSeries(function(c){if("cartesian2d"===c.get("coordinateSystem")){var e=c.get("xAxisIndex"),g=c.get("yAxisIndex"),m=b.getComponent("xAxis",e),q=b.getComponent("yAxis",g);l(m,a,b)&&l(q,a,b)&&(m=this.getCartesian(e,g),e=c.getData(),g=m.getAxis("x"),m=m.getAxis("y"),"list"===e.type&&(d(e,g,c),d(e,m,c)))}},this)};n.create=function(b,a){var c=[];b.eachComponent("grid",function(d,e){var g=new n(d,b,a);g.name="grid_"+e;g.resize(d,a);d.coordinateSystem=g;c.push(g)});b.eachSeries(function(a){if("cartesian2d"===a.get("coordinateSystem")){var d=a.get("xAxisIndex"),e=a.get("yAxisIndex"),g=b.getComponent("xAxis",d),m=b.getComponent("yAxis",e);if(g.get("gridIndex")!==m.get("gridIndex"))throw Error("xAxis and yAxis must use the same grid");g=c[g.get("gridIndex")];a.coordinateSystem=g.getCartesian(d,e)}});return c};n.dimensions=d.prototype.dimensions;a(26).register("cartesian2d",n);r.exports=n},function(r,p,a){var l=a(115),n=a(117);a(118);a(119);var k=a(116),h=a(7),f=a(4),e=a(8),d={getScaleExtent:function(b,a){var c=b.scale,d=c.getExtent(),e=d[1]-d[0];if("ordinal"===c.type)return isFinite(e)?d:[0,0];var c=a.getMin?a.getMin():a.get("min"),t=a.getMax?a.getMax():a.get("max"),k=a.getNeedCrossZero?a.getNeedCrossZero():!a.get("scale"),l=a.get("boundaryGap");f.isArray(l)||(l=[l||0,l||0]);l[0]=h.parsePercent(l[0],1);l[1]=h.parsePercent(l[1],1);var n=!0,v=!0;null==c&&(c=d[0]-l[0]*e,n=!1);null==t&&(t=d[1]+l[1]*e,v=!1);"dataMin"===c&&(c=d[0]);"dataMax"===t&&(t=d[1]);k&&(0<c&&0<t&&!n&&(c=0),0>c&&0>t&&!v&&(t=0));return[c,t]},niceScaleExtent:function(b,a){var c=b.scale,e=d.getScaleExtent(b,a),g=null!=(a.getMin?a.getMin():a.get("min")),f=null!=(a.getMax?a.getMax():a.get("max")),h=a.get("splitNumber");c.setExtent(e[0],e[1]);c.niceExtent(h,g,f);e=a.get("minInterval");!isFinite(e)||g||f||"interval"!==c.type||(g=c.getInterval(),g=Math.max(Math.abs(g),e)/g,e=c.getExtent(),c.setExtent(g*e[0],e[1]*g),c.niceExtent(h));g=a.get("interval");null!=g&&c.setInterval&&c.setInterval(g)},createScaleByModel:function(b,a){if(a=a||b.get("type"))switch(a){case "category":return new l(b.getCategories(),[Infinity,-Infinity]);case "value":return new n;default:return(k.getClass(a)||n).create(b)}},ifAxisCrossZero:function(b){var a=b.scale.getExtent();b=a[0];a=a[1];return!(0<b&&0<a||0>b&&0>a)},getAxisLabelInterval:function(b,a,d,m){var c,f=0,q=0,h=1;40<a.length&&(h=Math.floor(a.length/40));for(var k=0;k<b.length;k+=h){var l=b[k],n=e.getBoundingRect(a[k],d,"center","top");n[m?"x":"y"]+=l;n[m?"width":"height"]*=1.3;c?c.intersect(n)?(q++,f=Math.max(f,q)):(c.union(n),q=0):c=n.clone()}return 0===f&&1<h?h:(f+1)*h-1},getFormattedLabels:function(b,a){var c=b.scale,d=c.getTicksLabels(),e=c.getTicks();return"string"===typeof a?(a=function(b){return function(a){return b.replace("{value}",a)}}(a),f.map(d,a)):"function"===typeof a?f.map(e,function(d,e){return a("category"===b.type?c.getLabel(d):d,e)},this):d}};r.exports=d},function(r,p,a){var l=a(4);p=a(116);var n=p.prototype,k=p.extend({type:"ordinal",init:function(a,f){this._data=a;this._extent=f||[0,a.length-1]},parse:function(a){return"string"===typeof a?l.indexOf(this._data,a):Math.round(a)},contain:function(a){a=this.parse(a);return n.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return n.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(n.scale.call(this,a))},getTicks:function(){for(var a=[],f=this._extent,e=f[0];e<=f[1];)a.push(e),e++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:l.noop,niceExtent:l.noop});k.create=function(){return new k};r.exports=k},function(r,p,a){function l(){this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}p=a(13);a=l.prototype;a.parse=function(a){return a};a.contain=function(a){var k=this._extent;return a>=k[0]&&a<=k[1]};a.normalize=function(a){var k=this._extent;return k[1]===k[0]?.5:(a-k[0])/(k[1]-k[0])};a.scale=function(a){var k=this._extent;return a*(k[1]-k[0])+k[0]};a.unionExtent=function(a){var k=this._extent;a[0]<k[0]&&(k[0]=a[0]);a[1]>k[1]&&(k[1]=a[1])};a.getExtent=function(){return this._extent.slice()};a.setExtent=function(a,k){var h=this._extent;isNaN(a)||(h[0]=a);isNaN(k)||(h[1]=k)};a.getTicksLabels=function(){for(var a=[],k=this.getTicks(),h=0;h<k.length;h++)a.push(this.getLabel(k[h]));return a};p.enableClassExtend(l);p.enableClassManagement(l,{registerWhenExtend:!0});r.exports=l},function(r,p,a){var l=a(7),n=a(6);p=a(116);var k=Math.floor,h=Math.ceil,f=p.extend({type:"interval",_interval:0,setExtent:function(a,d){var b=this._extent;isNaN(a)||(b[0]=parseFloat(a));isNaN(d)||(b[1]=parseFloat(d))},unionExtent:function(a){var d=this._extent;a[0]<d[0]&&(d[0]=a[0]);a[1]>d[1]&&(d[1]=a[1]);f.prototype.setExtent.call(this,d[0],d[1])},getInterval:function(){this._interval||this.niceTicks();return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var a=this._interval,d=this._extent,b=[];if(a){var c=this._niceExtent;d[0]<c[0]&&b.push(d[0]);for(var f=c[0];f<=c[1];)if(b.push(f),f=l.round(f+a),1E4<b.length)return[];d[1]>c[1]&&b.push(d[1])}return b},getTicksLabels:function(){for(var a=[],d=this.getTicks(),b=0;b<d.length;b++)a.push(this.getLabel(d[b]));return a},getLabel:function(a){return n.addCommas(a)},niceTicks:function(a){a=a||5;var d=this._extent,b=d[1]-d[0];isFinite(b)&&(0>b&&(b=-b,d.reverse()),a=l.nice(b/a,!0),d=[l.round(h(d[0]/a)*a),l.round(k(d[1]/a)*a)],this._interval=a,this._niceExtent=d)},niceExtent:function(a,d,b){var c=this._extent;if(c[0]===c[1])if(0!==c[0]){var e=c[0];b||(c[1]+=e/2);c[0]-=e/2}else c[1]=1;isFinite(c[1]-c[0])||(c[0]=0,c[1]=1);this.niceTicks(a);a=this._interval;d||(c[0]=l.round(k(c[0]/a)*a));b||(c[1]=l.round(h(c[1]/a)*a))}});f.create=function(){return new f};r.exports=f},function(r,p,a){p=a(4);var l=a(7),n=a(6);a=a(117);var k=a.prototype,h=Math.ceil,f=Math.floor,e=a.extend({type:"time",getLabel:function(b){return n.formatTime(this._stepLvl[0],new Date(b))},niceExtent:function(b,a,d){var c=this._extent;c[0]===c[1]&&(c[0]-=864E5,c[1]+=864E5);if(-Infinity===c[1]&&Infinity===c[0]){var e=new Date;c[1]=new Date(e.getFullYear(),e.getMonth(),e.getDate());c[0]=c[1]-864E5}this.niceTicks(b);b=this._interval;a||(c[0]=l.round(f(c[0]/b)*b));d||(c[1]=l.round(h(c[1]/b)*b))},niceTicks:function(b){b=b||10;for(var a=this._extent,e=a[1]-a[0],m=d.length,g=0,k=m;g<k;){var w=g+k>>>1;d[w][2]<e/b?g=w+1:k=w}m=d[Math.min(g,m-1)];g=m[2];"year"===m[0]&&(b=l.nice(e/g/b,!0),g*=b);a=[h(a[0]/g)*g,f(a[1]/g)*g];this._stepLvl=m;this._interval=g;this._niceExtent=a},parse:function(b){return+l.parseDate(b)}});p.each(["contain","normalize"],function(b){e.prototype[b]=function(a){return k[b].call(this,this.parse(a))}});var d=[["hh:mm:ss",1,1E3],["hh:mm:ss",5,5E3],["hh:mm:ss",10,1E4],["hh:mm:ss",15,15E3],["hh:mm:ss",30,3E4],["hh:mm\nMM-dd",1,6E4],["hh:mm\nMM-dd",5,3E5],["hh:mm\nMM-dd",10,6E5],["hh:mm\nMM-dd",15,9E5],["hh:mm\nMM-dd",30,18E5],["hh:mm\nMM-dd",1,36E5],["hh:mm\nMM-dd",2,72E5],["hh:mm\nMM-dd",6,216E5],["hh:mm\nMM-dd",12,432E5],["MM-dd\nyyyy",1,864E5],["week",7,6048E5],["month",1,26784E5],["quarter",3,8208E6],["half-year",6,16416E6],["year",1,32832E6]];e.create=function(){return new e};r.exports=e},function(r,p,a){var l=a(4);p=a(116);var n=a(7);a=a(117);var k=p.prototype,h=a.prototype,f=Math.floor,e=Math.ceil,d=Math.pow,b=Math.log,c=p.extend({type:"log",getTicks:function(){return l.map(h.getTicks.call(this),function(b){return n.round(d(10,b))})},getLabel:h.getLabel,scale:function(b){b=k.scale.call(this,b);return d(10,b)},setExtent:function(a,c){a=b(a)/b(10);c=b(c)/b(10);h.setExtent.call(this,a,c)},getExtent:function(){var b=k.getExtent.call(this);b[0]=d(10,b[0]);b[1]=d(10,b[1]);return b},unionExtent:function(a){a[0]=b(a[0])/b(10);a[1]=b(a[1])/b(10);k.unionExtent.call(this,a)},niceTicks:function(a){a=a||10;var c=this._extent,g=c[1]-c[0];if(!(Infinity===g||0>=g)){var q=d(10,f(b(g/a)/Math.LN10));.5>=a/g*q&&(q*=10);a=[n.round(e(c[0]/q)*q),n.round(f(c[1]/q)*q)];this._interval=q;this._niceExtent=a}},niceExtent:h.niceExtent});l.each(["contain","normalize"],function(a){c.prototype[a]=function(c){c=b(c)/b(10);return k[a].call(this,c)}});c.create=function(){return new c};r.exports=c},function(r,p,a){function l(a){n.call(this,a)}p=a(4);var n=a(121);l.prototype={constructor:l,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var h=this.getAxis("x"),f=this.getAxis("y");return h.contain(h.toLocalCoord(a[0]))&&f.contain(f.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoints:function(a,h){return a.mapArray(["x","y"],function(a,e){return this.dataToPoint([a,e])},h,this)},dataToPoint:function(a,h){var f=this.getAxis("x"),e=this.getAxis("y");return[f.toGlobalCoord(f.dataToCoord(a[0],h)),e.toGlobalCoord(e.dataToCoord(a[1],h))]},pointToData:function(a,h){var f=this.getAxis("x"),e=this.getAxis("y");return[f.coordToData(f.toLocalCoord(a[0]),h),e.coordToData(e.toLocalCoord(a[1]),h)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}};p.inherits(l,n);r.exports=l},function(r,p,a){function l(a){return this._axes[a]}var n=a(4);p=function(a){this._axes={};this._dimList=[];this.name=a||""};p.prototype={constructor:p,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return n.map(this._dimList,l,this)},getAxesByScale:function(a){a=a.toLowerCase();return n.filter(this.getAxes(),function(h){return h.scale.type===a})},addAxis:function(a){var h=a.dim;this._axes[h]=a;this._dimList.push(h)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,h){for(var f=this._dimList,e=a instanceof Array?[]:{},d=0;d<f.length;d++){var b=f[d];e[b]=this._axes[b][h](a[b])}return e}};r.exports=p},function(r,p,a){p=a(4);var l=a(123),n=a(124);a=function(a,h,f,e,d){l.call(this,a,h,f);this.type=e||"value";this.position=d||"bottom"};a.prototype={constructor:a,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(){var a=this.getExtent();a[0]=this.toGlobalCoord(a[0]);a[1]=this.toGlobalCoord(a[1]);return a},getLabelInterval:function(){var a=this._labelInterval;a||(a=this._labelInterval=n(this));return a},isLabelIgnored:function(a){if("category"===this.type){var h=this.getLabelInterval();return"function"===typeof h&&!h(a,this.scale.getLabel(a))||a%(h+1)}},toLocalCoord:null,toGlobalCoord:null};p.inherits(a,l);r.exports=a},function(r,p,a){function l(a,d){var b=(a[1]-a[0])/d/2;a[0]+=b;a[1]-=b}var n=a(7),k=n.linearMap,h=a(4),f=[0,1];p=function(a,d,b){this.dim=a;this.scale=d;this._extent=b||[0,0];this.onBand=this.inverse=!1};p.prototype={constructor:p,contain:function(a){var d=this._extent,b=Math.max(d[0],d[1]);return a>=Math.min(d[0],d[1])&&a<=b},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return n.getPixelPrecision(a||this.scale.getExtent(),this._extent)},setExtent:function(a,d){var b=this._extent;b[0]=a;b[1]=d},dataToCoord:function(a,d){var b=this._extent,c=this.scale;a=c.normalize(a);this.onBand&&"ordinal"===c.type&&(b=b.slice(),l(b,c.count()));return k(a,f,b,d)},coordToData:function(a,d){var b=this._extent,c=this.scale;this.onBand&&"ordinal"===c.type&&(b=b.slice(),l(b,c.count()));b=k(a,b,f,d);return this.scale.scale(b)},getTicksCoords:function(a){if(this.onBand&&!a){a=this.getBands();for(var d=[],b=0;b<a.length;b++)d.push(a[b][0]);a[b-1]&&d.push(a[b-1][1]);return d}return h.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return h.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var a=this.getExtent(),d=[],b=this.scale.count(),c=a[0],a=a[1]-c,f=0;f<b;f++)d.push([a*f/b+c,a*(f+1)/b+c]);return d},getBandWidth:function(){var a=this._extent,d=this.scale.getExtent(),d=d[1]-d[0]+(this.onBand?1:0);0===d&&(d=1);return Math.abs(Math.abs(a[1]-a[0]))/d}};r.exports=p},function(r,p,a){var l=a(4),n=a(114);r.exports=function(a){var h=a.model,f=h.getModel("axisLabel"),e=f.get("interval");return"category"!==a.type||"auto"!==e?"auto"===e?0:e:n.getAxisLabelInterval(l.map(a.scale.getTicks(),a.dataToCoord,a),h.getFormattedLabels(),f.getModel("textStyle").getFont(),a.isHorizontal())}},function(r,p,a){a(126);p=a(19);r.exports=p.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(r,p,a){function l(a,e){return e.type||(e.data?"category":"value")}var n=a(19),k=a(4);p=a(127);var h=n.extend({type:"cartesian2dAxis",axis:null,init:function(){h.superApply(this,"init",arguments);this._resetRange()},mergeOption:function(){h.superApply(this,"mergeOption",arguments);this._resetRange()},restoreData:function(){h.superApply(this,"restoreData",arguments);this._resetRange()},setRange:function(a,e){this.option.rangeStart=a;this.option.rangeEnd=e},getMin:function(){var a=this.option;return null!=a.rangeStart?a.rangeStart:a.min},getMax:function(){var a=this.option;return null!=a.rangeEnd?a.rangeEnd:a.max},getNeedCrossZero:function(){var a=this.option;return null!=a.rangeStart||null!=a.rangeEnd?!1:!a.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});k.merge(h.prototype,a(129));a={gridIndex:0,offset:0};p("x",h,l,a);p("y",h,l,a);r.exports=h},function(r,p,a){var l=a(128),n=a(4),k=a(19),h=a(21),f=["value","category","time","log"];r.exports=function(a,d,b,c){n.each(f,function(e){d.extend({type:a+"Axis."+e,mergeDefaultAndTheme:function(c,d){var g=this.layoutMode,m=g?h.getLayoutParams(c):{},f=d.getTheme();n.merge(c,f.get(e+"Axis"));n.merge(c,this.getDefaultOption());c.type=b(a,c);g&&h.mergeLayoutParam(c,m,g)},defaultOption:n.mergeAll([{},l[e+"Axis"],c],!0)})});k.registerSubTypeDefaulter(a+"Axis",n.curry(b,a))}},function(r,p,a){a=a(4);var l={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};p=a.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},l);var l=a.merge({boundaryGap:[0,0],splitNumber:5},l),n=a.defaults({scale:!0,min:"dataMin",max:"dataMax"},l);a=a.defaults({},l);a.scale=!0;r.exports={categoryAxis:p,valueAxis:l,timeAxis:n,logAxis:a}},function(r,p,a){function l(a){return n.isObject(a)&&null!=a.value?a.value:a}var n=a(4),k=a(114);r.exports={getFormattedLabels:function(){return k.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&n.map(this.get("data"),l)}}},function(r,p,a){a(126);a(131)},function(r,p,a){function l(a,b){function c(a,b){var c=d.getAxis(a);return c.toGlobalCoord(c.dataToCoord(0))}var d=a.coordinateSystem,e=b.axis,f={},q=e.position,h=e.onZero?"onZero":q,k=e.dim,l=d.getRect(),l=[l.x,l.x+l.width,l.y,l.y+l.height],n=b.get("offset")||0,n={x:{top:l[2]-n,bottom:l[3]+n},y:{left:l[0]-n,right:l[1]+n}};n.x.onZero=Math.max(Math.min(c("y"),n.x.bottom),n.x.top);n.y.onZero=Math.max(Math.min(c("x"),n.y.right),n.y.left);f.position=["y"===k?n.y[h]:l[0],"x"===k?n.x[h]:l[3]];f.rotation=Math.PI/2*("x"===k?0:1);f.labelDirection=f.tickDirection=f.nameDirection={top:-1,bottom:1,left:-1,right:1}[q];e.onZero&&(f.labelOffset=n[k][q]-n[k].onZero);b.getModel("axisTick").get("inside")&&(f.tickDirection=-f.tickDirection);b.getModel("axisLabel").get("inside")&&(f.labelDirection=-f.labelDirection);q=b.getModel("axisLabel").get("rotate");f.labelRotation="top"===h?-q:q;f.labelInterval=e.getLabelInterval();f.z2=1;return f}var n=a(4),k=a(43),h=a(132),f=h.ifIgnoreOnTick,e=h.getInterval,d=["axisLine","axisLabel","axisTick","axisName"],b=["splitArea","splitLine"];r=a(1).extendComponentView({type:"axis",render:function(a,e){this.group.removeAll();var c=this._axisGroup;this._axisGroup=new k.Group;this.group.add(this._axisGroup);if(a.get("show")){var g=e.getComponent("grid",a.get("gridIndex")),f=l(g,a),q=new h(a,f);n.each(d,q.add,q);this._axisGroup.add(q.getGroup());n.each(b,function(b){if(a.get(b+".show"))this["_"+b](a,g,f.labelInterval)},this);k.groupTransition(c,this._axisGroup,a)}},_splitLine:function(a,b,d){var c=a.axis,m=a.getModel("splitLine"),q=m.getModel("lineStyle");a=q.get("color");d=e(m,d);a=n.isArray(a)?a:[a];b=b.coordinateSystem.getRect();for(var m=c.isHorizontal(),h=0,l=c.getTicksCoords(),v=c.scale.getTicks(),z=[],p=[],q=q.getLineStyle(),y=0;y<l.length;y++)if(!f(c,y,d)){var r=c.toGlobalCoord(l[y]);m?(z[0]=r,z[1]=b.y,p[0]=r,p[1]=b.y+b.height):(z[0]=b.x,z[1]=r,p[0]=b.x+b.width,p[1]=r);r=h++%a.length;this._axisGroup.add(new k.Line(k.subPixelOptimizeLine({anid:"line_"+v[y],shape:{x1:z[0],y1:z[1],x2:p[0],y2:p[1]},style:n.defaults({stroke:a[r]},q),silent:!0})))}},_splitArea:function(a,b,d){var c=a.axis,m=a.getModel("splitArea"),q=m.getModel("areaStyle");a=q.get("color");b=b.coordinateSystem.getRect();var h=c.getTicksCoords(),l=c.scale.getTicks(),v=c.toGlobalCoord(h[0]),z=c.toGlobalCoord(h[0]),p=0;d=e(m,d);q=q.getAreaStyle();a=n.isArray(a)?a:[a];for(m=1;m<h.length;m++)if(!f(c,m,d)){var y=c.toGlobalCoord(h[m]),r;c.isHorizontal()?(z=b.y,r=y-v,y=b.height):(v=b.x,r=b.width,y-=z);var J=p++%a.length;this._axisGroup.add(new k.Rect({anid:"area_"+l[m],shape:{x:v,y:z,width:r,height:y},style:n.defaults({fill:a[J]},q),silent:!0}));v+=r;z+=y}}});r.extend({type:"xAxis"});r.extend({type:"yAxis"})},function(r,p,a){function l(a){var b={componentType:a.mainType};b[a.mainType+"Index"]=a.componentIndex;return b}function n(a,b,d){a=c(b-a.rotation);q(a)?(b=0<d?"top":"bottom",d="center"):q(a-t)?(b=0<d?"bottom":"top",d="center"):(b="middle",d=0<a&&a<t?0<d?"right":"left":0<d?"left":"right");return{rotation:a,textAlign:d,verticalAlign:b}}function k(a,b,d,e){a=c(d-a.rotation);e=e[0]>e[1];e="start"===b&&!e||"start"!==b&&e;q(a-t/2)?(b=e?"bottom":"top",e="center"):q(a-1.5*t)?(b=e?"top":"bottom",e="center"):(b="middle",e=a<1.5*t&&a>t/2?e?"left":"right":e?"right":"left");return{rotation:a,textAlign:e,verticalAlign:b}}function h(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}var f=a(4),e=a(6),d=a(43),b=a(12);p=a(7);var c=p.remRadian,q=p.isRadianAroundZero,m=a(10).applyTransform,g=f.retrieve,t=Math.PI;a=function(a,b){this.opt=b;this.axisModel=a;f.defaults(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new d.Group;var c=new d.Group({position:b.position.slice(),rotation:b.rotation});c.updateTransform();this._transform=c.transform;this._dumbGroup=c};a.prototype={constructor:a,hasBuilder:function(a){return!!w[a]},add:function(a){w[a].call(this)},getGroup:function(){return this.group}};var w={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),e=this._transform,g=[c[0],0],c=[c[1],0];e&&(m(g,g,e),m(c,c,e));this.group.add(new d.Line(d.subPixelOptimizeLine({anid:"line",shape:{x1:g[0],y1:g[1],x2:c[0],y2:c[1]},style:f.extend({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var a=this.axisModel;if(a.get("axisTick.show"))for(var b=a.axis,c=a.getModel("axisTick"),e=this.opt,g=c.getModel("lineStyle"),q=c.get("length"),h=x(c,e.labelInterval),c=b.getTicksCoords(c.get("alignWithLabel")),t=b.scale.getTicks(),k=[],l=[],w=this._transform,n=0;n<c.length;n++)if(!u(b,n,h)){var p=c[n];k[0]=p;k[1]=0;l[0]=p;l[1]=e.tickDirection*q;w&&(m(k,k,w),m(l,l,w));this.group.add(new d.Line(d.subPixelOptimizeLine({anid:"tick_"+t[n],shape:{x1:k[0],y1:k[1],x2:l[0],y2:l[1]},style:f.defaults(g.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function a(a,b){var c=a&&a.getBoundingRect().clone(),d=b&&b.getBoundingRect().clone();if(c&&d)return c.applyTransform(a.getLocalTransform()),d.applyTransform(b.getLocalTransform()),c.intersect(d)}var c=this.opt,e=this.axisModel;if(g(c.axisLabelShow,e.get("axisLabel.show"))){for(var m=e.axis,f=e.getModel("axisLabel"),q=f.getModel("textStyle"),k=f.get("margin"),w=m.scale.getTicks(),x=e.getFormattedLabels(),f=g(c.labelRotation,f.get("rotate"))||0,f=f*t/180,p=n(c,f,c.labelDirection),r=e.get("data"),f=[],E=h(e),L=e.get("triggerEvent"),G=0;G<w.length;G++)if(!u(m,G,c.labelInterval)){var H=q;r&&r[G]&&r[G].textStyle&&(H=new b(r[G].textStyle,q,e.ecModel));var C=H.getTextColor()||e.get("axisLine.lineStyle.color"),M=[m.dataToCoord(w[G]),c.labelOffset+c.labelDirection*k],S=m.scale.getLabel(w[G]),H=new d.Text({anid:"label_"+w[G],style:{text:x[G],textAlign:H.get("align",!0)||p.textAlign,textVerticalAlign:H.get("baseline",!0)||p.verticalAlign,textFont:H.getFont(),fill:"function"===typeof C?C(S):C},position:M,rotation:p.rotation,silent:E,z2:10});L&&(H.eventData=l(e),H.eventData.targetType="axisLabel",H.eventData.value=S);this._dumbGroup.add(H);H.updateTransform();f.push(H);this.group.add(H);H.decomposeTransform()}if("category"!==m.type){if(e.getMin?e.getMin():e.get("min"))c=f[0],a(c,f[1])&&(c.ignore=!0);if(e.getMax?e.getMax():e.get("max"))e=f[f.length-1],a(f[f.length-2],e)&&(e.ignore=!0)}}},axisName:function(){var a=this.opt,b=this.axisModel,c=g(a.axisName,b.get("name"));if(c){var m=b.get("nameLocation"),q=a.nameDirection,w=b.getModel("nameTextStyle"),u=b.get("nameGap")||0,x=this.axisModel.axis.getExtent(),p=x[0]>x[1]?-1:1,u=["start"===m?x[0]-p*u:"end"===m?x[1]+p*u:(x[0]+x[1])/2,"middle"===m?a.labelOffset+q*u:0],p=b.get("nameRotate");null!=p&&(p=p*t/180);var r;"middle"===m?m=n(a,null!=p?p:a.rotation,q):(m=k(a,m,p||0,x),r=a.axisNameAvailableWidth,null!=r&&(r=Math.abs(r/Math.sin(m.rotation)),!isFinite(r)&&(r=null)));a=w.getFont();q=b.get("nameTruncate",!0)||{};x=q.ellipsis;r=g(q.maxWidth,r);r=null!=x&&null!=r?e.truncateText(c,r,a,x,{minChar:2,placeholder:q.placeholder}):c;q=b.get("tooltip",!0);x=b.mainType;p={componentType:x,name:c,$vars:["name"]};p[x+"Index"]=b.componentIndex;w=new d.Text({anid:"name",__fullText:c,__truncatedText:r,style:{text:r,textFont:a,fill:w.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:m.textAlign,textVerticalAlign:m.verticalAlign},position:u,rotation:m.rotation,silent:h(b),z2:1,tooltip:q&&q.show?f.extend({content:c,formatter:function(){return c},formatterParams:p},q):null});b.get("triggerEvent")&&(w.eventData=l(b),w.eventData.targetType="axisName",w.eventData.name=c);this._dumbGroup.add(w);w.updateTransform();this.group.add(w);w.decomposeTransform()}}},u=a.ifIgnoreOnTick=function(a,b,c){var d;a=a.scale;return"ordinal"===a.type&&("function"===typeof c?(d=a.getTicks()[b],!c(d,a.getLabel(d))):b%(c+1))},x=a.getInterval=function(a,b){var c=a.get("interval");if(null==c||"auto"==c)c=b;return c};r.exports=a},function(r,p,a){r=a(4);a(113);a(134);a(135);p=a(137);var l=a(1);l.registerLayout(r.curry(p,"bar"));l.registerVisual(function(a){a.eachSeriesByType("bar",function(a){a.getData().setVisual("legendSymbol","roundRect")})});a(112)},function(r,p,a){p=a(28);var l=a(101);r.exports=p.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(a,k){if("cartesian2d"!==a.coordinateSystem)throw Error("Bar only support cartesian2d coordinateSystem");return l(a.data,this,k)},getMarkerPosition:function(a){var k=this.coordinateSystem;if(k){a=k.dataToPoint(a,!0);var h=this.getData(),f=h.getLayout("offset"),h=h.getLayout("size"),k=k.getBaseAxis().isHorizontal()?0:1;a[k]+=f+h/2;return a}return[NaN,NaN]},brushSelector:"rect",defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(r,p,a){function l(a,f){var e=0<a.width?1:-1,d=0<a.height?1:-1;f=Math.min(f,Math.abs(a.width),Math.abs(a.height));a.x+=e*f/2;a.y+=d*f/2;a.width-=e*f;a.height-=d*f}var n=a(4),k=a(43);n.extend(a(12).prototype,a(136));r.exports=a(1).extendChartView({type:"bar",render:function(a,f,e){"cartesian2d"===a.get("coordinateSystem")&&this._renderOnCartesian(a,f,e);return this.group},_renderOnCartesian:function(a,f,e){function d(b,d){var e=c.getItemLayout(b),f=c.getItemModel(b).get(h)||0;l(e,f);f=new k.Rect({shape:n.extend({},e)});if(g){var q=m?"height":"width",t={};f.shape[q]=0;t[q]=e[q];k[d?"updateProps":"initProps"](f,{shape:t},a,b)}return f}var b=this.group,c=a.getData(),q=this._data,m=a.coordinateSystem.getBaseAxis().isHorizontal(),g=a.get("animation"),h=["itemStyle","normal","barBorderWidth"];c.diff(q).add(function(a){if(c.hasValue(a)){var e=d(a);c.setItemGraphicEl(a,e);b.add(e)}}).update(function(e,g){var m=q.getItemGraphicEl(g);if(c.hasValue(e)){m||(m=d(e,!0));var f=c.getItemLayout(e),t=c.getItemModel(e).get(h)||0;l(f,t);k.updateProps(m,{shape:f},a,e);c.setItemGraphicEl(e,m);b.add(m)}else b.remove(m)}).remove(function(c){var d=q.getItemGraphicEl(c);d&&(d.style.text="",k.updateProps(d,{shape:{width:0}},a,c,function(){b.remove(d)}))}).execute();this._updateStyle(a,c,m);this._data=c},_updateStyle:function(a,f,e){f.eachItemGraphicEl(function(d,b){var c=f.getItemModel(b),q=f.getItemVisual(b,"color"),m=f.getItemVisual(b,"opacity"),g=f.getItemLayout(b),h=c.getModel("itemStyle.normal"),l=c.getModel("itemStyle.emphasis").getBarItemStyle();d.setShape("r",h.get("barBorderRadius")||0);d.useStyle(n.defaults({fill:q,opacity:m},h.getBarItemStyle()));m=e?0<g.height?"bottom":"top":0<g.width?"left":"right";g=c.getModel("label.normal");c=c.getModel("label.emphasis");h=d.style;if(g.get("show")){var u=n.retrieve(a.getFormattedLabel(b,"normal"),a.getRawValue(b));k.setText(h,g,q);h.text=u;"outside"===h.textPosition&&(h.textPosition=m)}else h.text="";c.get("show")?(g=n.retrieve(a.getFormattedLabel(b,"emphasis"),a.getRawValue(b)),k.setText(l,c,q),l.text=g,"outside"===l.textPosition&&(l.textPosition=m)):l.text="";k.setHoverStyle(d,l)})},remove:function(a,f){var e=this.group;a.get("animation")?this._data&&this._data.eachItemGraphicEl(function(d){d.style.text="";k.updateProps(d,{shape:{width:0}},a,d.dataIndex,function(){e.remove(d)})}):e.removeAll()}})},function(r,p,a){var l=a(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);r.exports={getBarItemStyle:function(a){a=l.call(this,a);if(this.getBorderLineDash){var k=this.getBorderLineDash();k&&(a.lineDash=k)}return a}}},function(r,p,a){function l(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function n(a,e){var d={};k.each(a,function(a,b){var c=a.getData(),e=a.coordinateSystem.getBaseAxis(),f=e.getExtent(),q="category"===e.type?e.getBandWidth():Math.abs(f[1]-f[0])/c.count(),c=d[e.dim+e.index]||{bandWidth:q,remainedWidth:q,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=c.stacks;d[e.dim+e.index]=c;e=l(a);f[e]||c.autoWidthCount++;f[e]=f[e]||{width:0,maxWidth:0};var k=h(a.get("barWidth"),q),q=h(a.get("barMaxWidth"),q),n=a.get("barGap"),v=a.get("barCategoryGap");k&&!f[e].width&&(k=Math.min(c.remainedWidth,k),f[e].width=k,c.remainedWidth-=k);q&&(f[e].maxWidth=q);null!=n&&(c.gap=n);null!=v&&(c.categoryGap=v)});var b={};k.each(d,function(a,d){b[d]={};var c=a.stacks,e=h(a.categoryGap,a.bandWidth),f=h(a.gap,1),q=a.remainedWidth,l=a.autoWidthCount,n=(q-e)/(l+(l-1)*f),n=Math.max(n,0);k.each(c,function(a,b){var c=a.maxWidth;!a.width&&c&&c<n&&(c=Math.min(c,q),q-=c,a.width=c,l--)});var n=(q-e)/(l+(l-1)*f),n=Math.max(n,0),v=0,p;k.each(c,function(a,b){a.width||(a.width=n);p=a;v+=a.width*(1+f)});p&&(v-=p.width*f);var r=-v/2;k.each(c,function(a,c){b[d][c]=b[d][c]||{offset:r,width:a.width};r+=a.width*(1+f)})});return b}var k=a(4),h=a(7).parsePercent;r.exports=function(a,e,d){var b=n(k.filter(e.getSeriesByType(a),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),c={};e.eachSeriesByType(a,function(a){var d=a.getData(),e=a.coordinateSystem,f=e.getBaseAxis(),q=l(a),h=b[f.dim+f.index][q],k=h.offset,n=h.width,p=e.getOtherAxis(f),r=a.get("barMinHeight")||0,y=f.onZero?p.toGlobalCoord(p.dataToCoord(0)):p.getGlobalExtent()[0],B=e.dataToPoints(d,!0);c[q]=c[q]||[];d.setLayout({offset:k,size:n});d.each(p.dim,function(a,b){if(!isNaN(a)){c[q][b]||(c[q][b]={p:y,n:y});var e=0<=a?"p":"n",g=B[b],m=c[q][b][e],f,h,t;p.isHorizontal()?(f=m,h=g[1]+k,t=g[0]-m,g=n,Math.abs(t)<r&&(t=(0>t?-1:1)*r),c[q][b][e]+=t):(f=g[0]+k,h=m,t=n,g=g[1]-m,Math.abs(g)<r&&(g=(0>=g?-1:1)*r),c[q][b][e]+=g);d.setItemLayout(b,{x:f,y:h,width:t,height:g})}},!0)},this)}},function(r,p,a){r=a(4);p=a(1);a(139);a(141);a(142)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);p.registerVisual(r.curry(a(143),"pie"));p.registerLayout(r.curry(a(144),"pie"));p.registerProcessor(r.curry(a(146),"pie"))},function(r,p,a){var l=a(97);p=a(4);var n=a(5),k=a(102),h=a(140),f=a(1).extendSeriesModel({type:"series.pie",init:function(a){f.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this.updateSelectedMap(a.data);this._defaultLabelLine(a)},mergeOption:function(a){f.superCall(this,"mergeOption",a);this.updateSelectedMap(this.option.data)},getInitialData:function(a,d){var b=k(["value"],a.data),b=new l(b,this);b.initData(a.data);return b},getDataParams:function(a){var d=this._data,b=f.superCall(this,"getDataParams",a),c=d.getSum("value");b.percent=c?+(d.get("value",a)/c*100).toFixed(2):0;b.$vars.push("percent");return b},_defaultLabelLine:function(a){n.defaultEmphasis(a.labelLine,["show"]);var d=a.labelLine.normal,b=a.labelLine.emphasis;d.show=d.show&&a.label.normal.show;b.show=b.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});p.mixin(f,h);r.exports=f},function(r,p,a){var l=a(4);r.exports={updateSelectedMap:function(a){this._selectTargetMap=l.reduce(a||[],function(a,h){a[h.name]=h;return a},{})},select:function(a){var k=this._selectTargetMap;a=k[a];"single"===this.get("selectedMode")&&l.each(k,function(a){a.selected=!1});a&&(a.selected=!0)},unSelect:function(a){(a=this._selectTargetMap[a])&&(a.selected=!1)},toggleSelected:function(a){var k=this._selectTargetMap[a];if(null!=k)return this[k.selected?"unSelect":"select"](a),k.selected},isSelected:function(a){return(a=this._selectTargetMap[a])&&a.selected}}},function(r,p,a){function l(a,b,c,e){var d=b.getData(),g=d.getName(this.dataIndex),f=b.get("selectedOffset");e.dispatchAction({type:"pieToggleSelect",from:a,name:g,seriesId:b.id});d.each(function(a){n(d.getItemGraphicEl(a),d.getItemLayout(a),b.isSelected(d.getName(a)),f,c)})}function n(a,b,c,e,m){b=(b.startAngle+b.endAngle)/2;c=c?e:0;c=[Math.cos(b)*c,Math.sin(b)*c];m?a.animate().when(200,{position:c}).start("bounceOut"):a.attr("position",c)}function k(a,b){function c(){g.ignore=g.hoverIgnore;h.ignore=h.hoverIgnore}function d(){g.ignore=g.normalIgnore;h.ignore=h.normalIgnore}f.Group.call(this);var e=new f.Sector({z2:2}),g=new f.Polyline,h=new f.Text;this.add(e);this.add(g);this.add(h);this.updateData(a,b,!0);this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function h(a,b,c,f,m){f=f.getModel("textStyle");m="inside"===m||"inner"===m;return{fill:f.getTextColor()||(m?"#fff":a.getItemVisual(b,"color")),opacity:a.getItemVisual(b,"opacity"),textFont:f.getFont(),text:e.retrieve(a.hostModel.getFormattedLabel(b,c),a.getName(b))}}var f=a(43),e=a(4);p=k.prototype;p.updateData=function(a,b,c){function d(){g.stopAnimation(!0);g.animateTo({shape:{r:l.r+10}},300,"elasticOut")}function m(){g.stopAnimation(!0);g.animateTo({shape:{r:l.r}},300,"elasticOut")}var g=this.childAt(0),h=a.hostModel,k=a.getItemModel(b),l=a.getItemLayout(b),x=e.extend({},l);x.label=null;c?(g.setShape(x),g.shape.endAngle=l.startAngle,f.updateProps(g,{shape:{endAngle:l.endAngle}},h,b)):f.updateProps(g,{shape:x},h,b);c=k.getModel("itemStyle");x=a.getItemVisual(b,"color");g.useStyle(e.defaults({lineJoin:"bevel",fill:x},c.getModel("normal").getItemStyle()));g.hoverStyle=c.getModel("emphasis").getItemStyle();n(this,a.getItemLayout(b),k.get("selected"),h.get("selectedOffset"),h.get("animation"));g.off("mouseover").off("mouseout").off("emphasis").off("normal");if(k.get("hoverAnimation")&&h.ifEnableAnimation())g.on("mouseover",d).on("mouseout",m).on("emphasis",d).on("normal",m);this._updateLabel(a,b);f.setHoverStyle(this)};p._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,g=a.getItemModel(b),k=a.getItemLayout(b).label,l=a.getItemVisual(b,"color");f.updateProps(c,{shape:{points:k.linePoints||[[k.x,k.y],[k.x,k.y],[k.x,k.y]]}},e,b);f.updateProps(d,{style:{x:k.x,y:k.y}},e,b);d.attr({style:{textVerticalAlign:k.verticalAlign,textAlign:k.textAlign,textFont:k.font},rotation:k.rotation,origin:[k.x,k.y],z2:10});var e=g.getModel("label.normal"),k=g.getModel("label.emphasis"),n=g.getModel("labelLine.normal"),g=g.getModel("labelLine.emphasis"),x=e.get("position")||k.get("position");d.setStyle(h(a,b,"normal",e,x));d.ignore=d.normalIgnore=!e.get("show");d.hoverIgnore=!k.get("show");c.ignore=c.normalIgnore=!n.get("show");c.hoverIgnore=!g.get("show");c.setStyle({stroke:l,opacity:a.getItemVisual(b,"opacity")});c.setStyle(n.getModel("lineStyle").getLineStyle());d.hoverStyle=h(a,b,"emphasis",k,x);c.hoverStyle=g.getModel("lineStyle").getLineStyle();(d=n.get("smooth"))&&!0===d&&(d=.4);c.setShape({smooth:d})};e.inherits(k,f.Group);a=a(42).extend({type:"pie",init:function(){this._sectorGroup=new f.Group},render:function(a,b,c,f){if(!f||f.from!==this.uid){var d=a.getData(),g=this._data,q=this.group;b=b.get("animation");var h=!g,n=e.curry(l,this.uid,a,b,c),x=a.get("selectedMode");d.diff(g).add(function(a){var b=new k(d,a);h&&b.eachChild(function(a){a.stopAnimation(!0)});x&&b.on("click",n);d.setItemGraphicEl(a,b);q.add(b)}).update(function(a,b){var c=g.getItemGraphicEl(b);c.updateData(d,a);c.off("click");x&&c.on("click",n);q.add(c);d.setItemGraphicEl(a,c)}).remove(function(a){a=g.getItemGraphicEl(a);q.remove(a)}).execute();b&&h&&0<d.count()&&(b=d.getItemLayout(0),c=Math.max(c.getWidth(),c.getHeight())/2,f=e.bind(q.removeClipPath,q),q.setClipPath(this._createClipPath(b.cx,b.cy,c,b.startAngle,b.clockwise,f,a)));this._data=d}},_createClipPath:function(a,b,c,e,m,g,h){a=new f.Sector({shape:{cx:a,cy:b,r0:0,r:c,startAngle:e,endAngle:e,clockwise:m}});f.initProps(a,{shape:{endAngle:e+(m?1:-1)*Math.PI*2}},h,g);return a}});r.exports=a},function(r,p,a){var l=a(1),n=a(4);r.exports=function(a,h){n.each(h,function(f){f.update="updateView";l.registerAction(f,function(e,d){var b={};d.eachComponent({mainType:"series",subType:a,query:e},function(a){if(a[f.method])a[f.method](e.name);var c=a.getData();c.each(function(d){d=c.getName(d);b[d]=a.isSelected(d)||!1})});return{name:e.name,selected:b}})})}},function(r,p){r.exports=function(a,l){var n={};l.eachRawSeriesByType(a,function(a){var h=a.getRawData(),f={};if(!l.isSeriesFiltered(a)){var e=a.getData();e.each(function(a){var b=e.getRawIndex(a);f[b]=a});h.each(function(d){var b=h.getItemModel(d),c=f[d],q=e.getItemVisual(c,"color",!0);q?h.setItemVisual(d,"color",q):(b=b.get("itemStyle.normal.color")||a.getColorFromPalette(h.getName(d),n),h.setItemVisual(d,"color",b),e.setItemVisual(c,"color",b))})}})}},function(r,p,a){var l=a(7),n=l.parsePercent,k=a(145),h=a(4),f=2*Math.PI,e=Math.PI/180;r.exports=function(a,b,c,q){b.eachSeriesByType(a,function(a){var b=a.get("center"),d=a.get("radius");h.isArray(d)||(d=[0,d]);h.isArray(b)||(b=[b,b]);var m=c.getWidth(),q=c.getHeight(),x=Math.min(m,q),v=n(b[0],m),p=n(b[1],q),r=n(d[0],x/2),y=n(d[1],x/2),B=a.getData(),J=-a.get("startAngle")*e,F=a.get("minAngle")*e,K=B.getSum("value"),D=Math.PI/(K||B.count())*2,N=a.get("clockwise"),I=a.get("roseType"),E=B.getDataExtent("value");E[0]=0;var L=f,G=0,H=J,C=N?1:-1;B.each("value",function(a,b){var c;c="area"!==I?0===K?D:a*D:f/(B.count()||1);c<F?(c=F,L-=F):G+=a;var d=H+C*c;B.setItemLayout(b,{angle:c,startAngle:H,endAngle:d,clockwise:N,cx:v,cy:p,r0:r,r:I?l.linearMap(a,E,[r,y]):y});H=d},!0);if(L<f)if(.001>=L){var M=f/B.count();B.each(function(a){var b=B.getItemLayout(a);b.startAngle=J+C*a*M;b.endAngle=J+C*(a+1)*M})}else D=L/G,H=J,B.each("value",function(a,b){var c=B.getItemLayout(b),d=c.angle===F?F:a*D;c.startAngle=H;c.endAngle=H+C*d;H+=d});k(a,y,m,q)})}},function(r,p,a){function l(a,f,e,d,b,c,q){function m(b,c,d,e){for(e=b;e<c;e++)if(a[e].y+=d,e>b&&e+1<c&&a[e+1].y>a[e].y+a[e].height){g(e,d/2);return}g(c-1,d/2)}function g(b,c){for(var d=b;0<=d&&!(a[d].y-=c,0<d&&a[d].y>a[d-1].y+a[d-1].height);d--);}function h(a,b,c,d,e,g){for(var m=b?Number.MAX_VALUE:0,f=0,q=a.length;f<q;f++)if("center"!==a[f].position){var h=Math.abs(a[f].y-d),k=a[f].len,t=a[f].len2,h=h<e+k?Math.sqrt((e+k+t)*(e+k+t)-h*h):Math.abs(a[f].x-c);b&&h>=m&&(h=m-10);!b&&h<=m&&(h=m+10);a[f].x=c+h*g;m=h}}a.sort(function(a,b){return a.y-b.y});var k=0;c=a.length;for(var l=[],n=[],v=0;v<c;v++)k=a[v].y-k,0>k&&m(v,c,-k,b),k=a[v].y+a[v].height;0>q-k&&g(c-1,k-q);for(v=0;v<c;v++)a[v].y>=e?n.push(a[v]):l.push(a[v]);h(l,!1,f,e,d,b);h(n,!0,f,e,d,b)}function n(a,f,e,d,b,c){for(var q=[],m=[],g=0;g<a.length;g++)a[g].x<f?q.push(a[g]):m.push(a[g]);l(m,f,e,d,1,b,c);l(q,f,e,d,-1,b,c);for(g=0;g<a.length;g++)if(e=a[g].linePoints)d=e[1][0]-e[2][0],e[2][0]=a[g].x<f?a[g].x+3:a[g].x-3,e[1][1]=e[2][1]=a[g].y,e[1][0]=e[2][0]+d}var k=a(8);r.exports=function(a,f,e,d){var b=a.getData(),c=[],q,m,g=!1;b.each(function(d){var e=b.getItemLayout(d),h=b.getItemModel(d),t=h.getModel("label.normal"),l=t.get("position")||h.get("label.emphasis.position"),n=h.getModel("labelLine.normal"),h=n.get("length"),n=n.get("length2"),p=(e.startAngle+e.endAngle)/2,r=Math.cos(p),B=Math.sin(p),J,F,K,D;q=e.cx;m=e.cy;var N="inside"===l||"inner"===l;if("center"===l)J=e.cx,F=e.cy,D="center";else{D=(N?(e.r+e.r0)/2*r:e.r*r)+q;var I=(N?(e.r+e.r0)/2*B:e.r*B)+m;J=D+3*r;F=I+3*B;if(!N){K=D+r*(h+f-e.r);var B=I+B*(h+f-e.r),E=K+(0>r?-1:1)*n;J=E+(0>r?-5:5);F=B;K=[[D,I],[K,B],[E,B]]}D=N?"center":0<r?"left":"right"}I=t.getModel("textStyle").getFont();t=t.get("rotate")?0>r?-p+Math.PI:-p:0;d=a.getFormattedLabel(d,"normal")||b.getName(d);d=k.getBoundingRect(d,I,D,"top");g=!!t;e.label={x:J,y:F,position:l,height:d.height,len:h,len2:n,linePoints:K,textAlign:D,verticalAlign:"middle",font:I,rotation:t};N||c.push(e.label)});!g&&a.get("avoidLabelOverlap")&&n(c,q,m,f,e,d)}},function(r,p){r.exports=function(a,l){var n=l.findComponents({mainType:"legend"});n&&n.length&&l.eachSeriesByType(a,function(a){var h=a.getData();h.filterSelf(function(a){a=h.getName(a);for(var e=0;e<n.length;e++)if(!n[e].isSelected(a))return!1;return!0},this)},this)}},function(r,p,a){r=a(4);p=a(1);a(148);a(149);p.registerVisual(r.curry(a(109),"scatter","circle",null));p.registerLayout(r.curry(a(110),"scatter"));a(112)},function(r,p,a){var l=a(101);p=a(28);r.exports=p.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(a,k){return l(a.data,this,k)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{normal:{opacity:.8}}}})},function(r,p,a){var l=a(104),n=a(150);a(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new l;this._largeSymbolDraw=new n},render:function(a,h,f){h=a.getData();f=this._largeSymbolDraw;var e=this._normalSymbolDraw,d=this.group;this._symbolDraw=a=a.get("large")&&h.count()>a.get("largeThreshold")?f:e;a.updateData(h);d.add(a.group);d.remove(a===f?e.group:f.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,h){this._symbolDraw&&this._symbolDraw.remove(h,!0)}})},function(r,p,a){function l(){this.group=new n.Group;this._symbolEl=new h({})}var n=a(43),k=a(106),h=n.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,e){for(var d=e.points,b=e.sizes,c=this.symbolProxy,f=c.shape,m=0;m<d.length;m++){var g=d[m],h=b[m];4>h[0]?a.rect(g[0]-h[0]/2,g[1]-h[1]/2,h[0],h[1]):(f.x=g[0]-h[0]/2,f.y=g[1]-h[1]/2,f.width=h[0],f.height=h[1],c.buildPath(a,f,!0))}},findDataIndex:function(a,e){for(var d=this.shape,b=d.points,d=d.sizes,c=b.length-1;0<=c;c--){var f=b[c],m=d[c],g=f[0]-m[0]/2,f=f[1]-m[1]/2;if(a>=g&&e>=f&&a<=g+m[0]&&e<=f+m[1])return c}return-1}});p=l.prototype;p.updateData=function(a){this.group.removeAll();var e=this._symbolEl,d=a.hostModel;e.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){b=a.getItemVisual(b,"symbolSize");b instanceof Array||(b=[b,b]);return b})});e.symbolProxy=k.createSymbol(a.getVisual("symbol"),0,0,0,0);e.setColor=e.symbolProxy.setColor;e.useStyle(d.getModel("itemStyle.normal").getItemStyle(["color"]));var b=a.getVisual("color");b&&e.setColor(b);e.seriesIndex=d.seriesIndex;e.on("mousemove",function(a){e.dataIndex=null;a=e.findDataIndex(a.offsetX,a.offsetY);0<a&&(e.dataIndex=a)});this.group.add(e)};p.updateLayout=function(a){a=a.getData();this._symbolEl.setShape({points:a.mapArray(a.getItemLayout)})};p.remove=function(){this.group.removeAll()};r.exports=l},function(r,p,a){r=a(4);p=a(1);a(152);a(157);a(158);p.registerVisual(r.curry(a(143),"radar"));p.registerVisual(r.curry(a(109),"radar","circle",null));p.registerLayout(a(159));p.registerProcessor(r.curry(a(146),"radar"));p.registerPreprocessor(a(160))},function(r,p,a){a(153);a(155);a(156)},function(r,p,a){function l(a,b,c){this._model=a;this.dimensions=[];this._indicatorAxes=n.map(a.getIndicatorModels(),function(a,b){var c="indicator_"+b,d=new k(c,new h);d.name=a.get("name");d.model=a;a.axis=d;this.dimensions.push(c);return d},this);this.resize(a,c)}var n=a(4),k=a(154),h=a(117),f=a(7),e=a(114);l.prototype.getIndicatorAxes=function(){return this._indicatorAxes};l.prototype.dataToPoint=function(a,b){return this.coordToPoint(this._indicatorAxes[b].dataToCoord(a),b)};l.prototype.coordToPoint=function(a,b){var c=this._indicatorAxes[b].angle;return[this.cx+a*Math.cos(c),this.cy-a*Math.sin(c)]};l.prototype.pointToData=function(a){var b=a[0]-this.cx,c=a[1]-this.cy;a=Math.sqrt(b*b+c*c);for(var b=Math.atan2(-(c/a),b/a),c=Infinity,d,e=-1,g=0;g<this._indicatorAxes.length;g++){var f=this._indicatorAxes[g],h=Math.abs(b-f.angle);h<c&&(d=f,e=g,c=h)}return[e,+(d&&d.coodToData(a))]};l.prototype.resize=function(a,b){var c=a.get("center"),d=b.getWidth(),e=b.getHeight(),g=Math.min(d,e)/2;this.cx=f.parsePercent(c[0],d);this.cy=f.parsePercent(c[1],e);this.startAngle=a.get("startAngle")*Math.PI/180;this.r=f.parsePercent(a.get("radius"),g);n.each(this._indicatorAxes,function(a,b){a.setExtent(0,this.r);var c=this.startAngle+b*Math.PI*2/this._indicatorAxes.length,c=Math.atan2(Math.sin(c),Math.cos(c));a.angle=c},this)};l.prototype.update=function(a,b){function c(a){var b=Math.pow(10,Math.floor(Math.log(a)/Math.LN10));a/=b;return(2===a?5:2*a)*b}var d=this._indicatorAxes,m=this._model;n.each(d,function(a){a.scale.setExtent(Infinity,-Infinity)});a.eachSeriesByType("radar",function(b,c){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===m){var e=b.getData();n.each(d,function(a){a.scale.unionExtent(e.getDataExtent(a.dim))})}},this);var g=m.get("splitNumber");n.each(d,function(a,b){var d=e.getScaleExtent(a,a.model);e.niceScaleExtent(a,a.model);var m=a.model,q=a.scale,h=m.get("min"),k=m.get("max"),m=q.getInterval();if(null!=h&&null!=k)q.setInterval((k-h)/g);else if(null!=h){do k=h+m*g,q.setExtent(+h,k),q.setInterval(m),m=c(m);while(k<d[1]&&isFinite(k)&&isFinite(d[1]))}else if(null!=k){do h=k-m*g,q.setExtent(h,+k),q.setInterval(m),m=c(m);while(h>d[0]&&isFinite(h)&&isFinite(d[0]))}else q.getTicks().length-1>g&&(m=c(m)),d=Math.round((d[0]+d[1])/2/m)*m,h=Math.round(g/2),q.setExtent(f.round(d-h*m),f.round(d+(g-h)*m)),q.setInterval(m)})};l.dimensions=[];l.create=function(a,b){var c=[];a.eachComponent("radar",function(d){var e=new l(d,a,b);c.push(e);d.coordinateSystem=e});a.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("radarIndex")||0])});return c};a(26).register("radar",l);r.exports=l},function(r,p,a){function l(a,h,f){n.call(this,a,h,f);this.type="value";this.angle=0;this.name=""}p=a(4);var n=a(123);p.inherits(l,n);r.exports=l},function(r,p,a){p=a(128).valueAxis;var l=a(12),n=a(4),k=a(129);a=a(1).extendComponentModel({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),f=this.get("splitNumber"),e=this.get("scale"),d=this.get("axisLine"),b=this.get("axisTick"),c=this.get("axisLabel"),q=this.get("name.textStyle"),m=this.get("name.show"),g=this.get("name.formatter"),t=this.get("nameGap"),w=n.map(this.get("indicator")||[],function(h){null!=h.max&&0<h.max?h.min=0:null!=h.min&&0>h.min&&(h.max=0);h=n.merge(n.clone(h),{boundaryGap:a,splitNumber:f,scale:e,axisLine:d,axisTick:b,axisLabel:c,name:h.text,nameLocation:"end",nameGap:t,nameTextStyle:q},!1);m||(h.name="");"string"===typeof g?h.name=g.replace("{value}",h.name):"function"===typeof g&&(h.name=g(h.name,h));return n.extend(new l(h,null,this.ecModel),k)},this);this.getIndicatorModels=function(){return w}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:n.merge({lineStyle:{color:"#bbb"}},p.axisLine),axisLabel:n.defaults({show:!1},p.axisLabel),axisTick:n.defaults({show:!1},p.axisTick),splitLine:n.defaults({show:!0},p.splitLine),splitArea:n.defaults({show:!0},p.splitArea),indicator:[]}});r.exports=a},function(r,p,a){var l=a(132),n=a(4),k=a(43),h=["axisLine","axisLabel","axisTick","axisName"];r.exports=a(1).extendComponentView({type:"radar",render:function(a,e,d){this.group.removeAll();this._buildAxes(a);this._buildSplitLineAndArea(a)},_buildAxes:function(a){var e=a.coordinateSystem;a=e.getIndicatorAxes();a=n.map(a,function(a){return new l(a.model,{position:[e.cx,e.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});n.each(a,function(a){n.each(h,a.add,a);this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(a){function e(a,b,c){b=c%b.length;a[b]=a[b]||[];return b}var d=a.coordinateSystem,b=a.get("splitNumber"),c=d.getIndicatorAxes();if(c.length){var f=a.get("shape"),m=a.getModel("splitLine"),g=a.getModel("splitArea");a=m.getModel("lineStyle");var h=g.getModel("areaStyle"),m=m.get("show"),g=g.get("show"),l=a.get("color"),u=h.get("color"),l=n.isArray(l)?l:[l],u=n.isArray(u)?u:[u],x=[],v=[];if("circle"===f)for(var b=c[0].getTicksCoords(),c=d.cx,p=d.cy,f=0;f<b.length;f++){if(m){var r=e(x,l,f);x[r].push(new k.Circle({shape:{cx:c,cy:p,r:b[f]}}))}g&&f<b.length-1&&(r=e(v,u,f),v[r].push(new k.Ring({shape:{cx:c,cy:p,r0:b[f],r:b[f+1]}})))}else for(var p=n.map(c,function(a,b){var c=a.getTicksCoords();return n.map(c,function(a){return d.coordToPoint(a,b)})}),y=[],f=0;f<=b;f++){for(var B=[],r=0;r<c.length;r++)B.push(p[r][f]);B.push(B[0].slice());m&&(r=e(x,l,f),x[r].push(new k.Polyline({shape:{points:B}})));g&&y&&(r=e(v,u,f-1),v[r].push(new k.Polygon({shape:{points:B.concat(y)}})));y=B.slice().reverse()}var J=a.getLineStyle(),F=h.getAreaStyle();n.each(v,function(a,b){this.group.add(k.mergePath(a,{style:n.defaults({stroke:"none",fill:u[b%u.length]},F),silent:!0}))},this);n.each(x,function(a,b){this.group.add(k.mergePath(a,{style:n.defaults({fill:"none",stroke:l[b%l.length]},J),silent:!0}))},this)}}})},function(r,p,a){p=a(28);var l=a(97),n=a(102),k=a(4),h=p.extend({type:"series.radar",dependencies:["radar"],init:function(a){h.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(a,e){var d=a.data||[],b=n([],d,[],"indicator_"),b=new l(b,this);b.initData(d);return b},formatTooltip:function(a){var e=this.getRawValue(a),d=this.coordinateSystem.getIndicatorAxes();return(""==this._data.getName(a)?this.name:this._data.getName(a))+"\x3cbr/\x3e"+k.map(d,function(a,c){return a.name+" : "+e[c]}).join("\x3cbr /\x3e")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});r.exports=h},function(r,p,a){function l(a){k.isArray(a)||(a=[+a,+a]);return a}var n=a(43),k=a(4),h=a(106);r.exports=a(1).extendChartView({type:"radar",render:function(a,e,d){function b(b,c,d,e,g,m){d.removeAll();for(var f=0;f<c.length-1;f++){var q;q=e;var k=g,t=q.getItemVisual(k,"symbol")||"circle",w=q.getItemVisual(k,"color");"none"===t?q=void 0:(t=h.createSymbol(t,-.5,-.5,1,1,w),t.attr({style:{strokeNoScale:!0},z2:100,scale:l(q.getItemVisual(k,"symbolSize"))}),q=t);q&&(q.__dimIdx=f,b[f]?(q.attr("position",b[f]),n[m?"initProps":"updateProps"](q,{position:c[f]},a,g)):q.attr("position",c[f]),d.add(q))}}function c(a){return k.map(a,function(a){return[f.cx,f.cy]})}var f=a.coordinateSystem,m=this.group,g=a.getData(),t=this._data;g.diff(t).add(function(d){var e=g.getItemLayout(d);if(e){var m=new n.Polygon,f=new n.Polyline,q={shape:{points:e}};m.shape.points=c(e);f.shape.points=c(e);n.initProps(m,q,a,d);n.initProps(f,q,a,d);var q=new n.Group,h=new n.Group;q.add(f);q.add(m);q.add(h);b(f.shape.points,e,h,g,d,!0);g.setItemGraphicEl(d,q)}}).update(function(c,d){var e=t.getItemGraphicEl(d),m=e.childAt(0),f=e.childAt(1),q=e.childAt(2),h={shape:{points:g.getItemLayout(c)}};h.shape.points&&(b(m.shape.points,h.shape.points,q,g,c,!1),n.updateProps(m,h,a),n.updateProps(f,h,a),g.setItemGraphicEl(c,e))}).remove(function(a){m.remove(t.getItemGraphicEl(a))}).execute();g.eachItemGraphicEl(function(b,c){function d(){h.attr("ignore",p)}function e(){h.attr("ignore",u)}var f=g.getItemModel(c),q=b.childAt(0),h=b.childAt(1),t=b.childAt(2),l=g.getItemVisual(c,"color");m.add(b);q.useStyle(k.defaults(f.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:l}));q.hoverStyle=f.getModel("lineStyle.emphasis").getLineStyle();var q=f.getModel("areaStyle.normal"),w=f.getModel("areaStyle.emphasis"),u=q.isEmpty()&&q.parentModel.isEmpty(),p=w.isEmpty()&&w.parentModel.isEmpty(),p=p&&u;h.ignore=u;h.useStyle(k.defaults(q.getAreaStyle(),{fill:l,opacity:.7}));h.hoverStyle=w.getAreaStyle();var r=f.getModel("itemStyle.normal").getItemStyle(["color"]),I=f.getModel("itemStyle.emphasis").getItemStyle(),E=f.getModel("label.normal"),L=f.getModel("label.emphasis");t.eachChild(function(b){b.setStyle(r);b.hoverStyle=k.clone(I);var d=g.get(g.dimensions[b.__dimIdx],c);n.setText(b.style,E,l);b.setStyle({text:E.get("show")?k.retrieve(a.getFormattedLabel(c,"normal",null,b.__dimIdx),d):""});n.setText(b.hoverStyle,L,l);b.hoverStyle.text=L.get("show")?k.retrieve(a.getFormattedLabel(c,"emphasis",null,b.__dimIdx),d):""});b.off("mouseover").off("mouseout").off("normal").off("emphasis");b.on("emphasis",d).on("mouseover",d).on("normal",e).on("mouseout",e);n.setHoverStyle(b)});this._data=g},remove:function(){this.group.removeAll();this._data=null}})},function(r,p){r.exports=function(a){a.eachSeriesByType("radar",function(a){function l(a,b){h[b]=h[b]||[];h[b][e]=f.dataToPoint(a,e)}var k=a.getData(),h=[],f=a.coordinateSystem;if(f){for(var e=0;e<f.getIndicatorAxes().length;e++)k.each(k.dimensions[e],l);k.each(function(a){h[a][0]&&h[a].push(h[a][0].slice());k.setItemLayout(a,h[a])})}})}},function(r,p,a){var l=a(4);r.exports=function(a){var k=a.polar;if(k){l.isArray(k)||(k=[k]);var h=[];l.each(k,function(f,e){f.indicator?(f.type&&!f.shape&&(f.shape=f.type),a.radar=a.radar||[],l.isArray(a.radar)||(a.radar=[a.radar]),a.radar.push(f)):h.push(f)});a.polar=h}l.each(a.series,function(a){"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})}},function(r,p,a){r=a(1);p=r.PRIORITY;a(162);a(172);a(176);a(163);r.registerLayout(a(178));r.registerVisual(a(179));r.registerProcessor(p.PROCESSOR.STATISTIC,a(180));r.registerPreprocessor(a(181));a(142)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(r,p,a){var l=a(97);p=a(28);var n=a(4),k=a(102),h=a(6),f=h.encodeHTML,e=h.addCommas,h=a(140),d=a(163),b=p.extend({type:"series.map",layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(a){this.option=a=this._fillOption(a,a.map);b.superApply(this,"init",arguments);this.updateSelectedMap(a.data)},getInitialData:function(a){var b=k(["value"],a.data||[]),b=new l(b,this);b.initData(a.data);return b},mergeOption:function(a){a.data&&(a=this._fillOption(a,this.option.map));b.superCall(this,"mergeOption",a);this.updateSelectedMap(this.option.data)},_fillOption:function(a,b){a=n.extend({},a);a.data=d.getFilledRegions(a.data,b);return a},getRawValue:function(a){return this._data.get("value",a)},getRegionModel:function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},formatTooltip:function(a){var b=this.getData(),c=e(this.getRawValue(a));a=b.getName(a);for(var b=this.seriesGroup,d=[],h=0;h<b.length;h++){var k=b[h].originalData.indexOfName(a);isNaN(b[h].originalData.get("value",k))||d.push(f(b[h].name))}return d.join(", ")+"\x3cbr /\x3e"+a+" : "+c},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});n.mixin(b,h);r.exports=b},function(r,p,a){function l(a,b){var c=this.getBoundingRect(),d;d=a.get("layoutCenter");var m=a.get("layoutSize"),f=b.getWidth(),q=b.getHeight(),k=a.get("aspectScale")||.75,c=c.width/c.height*k,k=!1;d&&m&&(d=[e.parsePercent(d[0],f),e.parsePercent(d[1],q)],m=e.parsePercent(m,Math.min(f,q)),isNaN(d[0])||isNaN(d[1])||isNaN(m)?console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):k=!0);k?(f={},1<c?(f.width=m,f.height=m/c):(f.height=m,f.width=m*c),f.y=d[1]-f.height/2,f.x=d[0]-f.width/2):(d=a.getBoxLayoutParams(),d.aspect=c,f=h.getLayoutRect(d,{width:f,height:q}));this.setViewRect(f.x,f.y,f.width,f.height);this.setCenter(a.get("center"));this.setZoom(a.get("zoom"))}function n(a,b){f.each(b.get("geoCoord"),function(b,c){a.addGeoCoord(c,b)})}var k=a(164),h=a(21),f=a(4),e=a(7),d={},b=function(a){console.error("Map "+a+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")},c={dimensions:k.prototype.dimensions,create:function(a,c){var e=[];a.eachComponent("geo",function(a,g){var m=a.get("map"),f=d[m];f||b(m);m=new k(m+g,m,f&&f.geoJson,f&&f.specialAreas,a.get("nameMap"));m.zoomLimit=a.get("scaleLimit");e.push(m);n(m,a);a.coordinateSystem=m;m.model=a;m.resize=l;m.resize(a,c)});a.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var b=a.get("geoIndex")||0;a.coordinateSystem=e[b]}});var m={};a.eachSeriesByType("map",function(a){var b=a.get("map");m[b]=m[b]||[];m[b].push(a)});f.each(m,function(a,g){var m=d[g];m||b(a[0].get("map"));var q=f.map(a,function(a){return a.get("nameMap")}),h=new k(g,g,m&&m.geoJson,m&&m.specialAreas,f.mergeAll(q));h.zoomLimit=f.retrieve.apply(null,f.map(a,function(a){return a.get("scaleLimit")}));e.push(h);h.resize=l;h.resize(a[0],c);f.each(a,function(a){a.coordinateSystem=h;n(h,a)})});return e},registerMap:function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson);"string"===typeof b&&(b="undefined"!==typeof JSON&&JSON.parse?JSON.parse(b):(new Function("return ("+b+");"))());d[a]={geoJson:b,specialAreas:c}},getMap:function(a){return d[a]},getFilledRegions:function(a,d){var e=(a||[]).slice(),m=c.getMap(d),f=m&&m.geoJson;if(!f)return b(d),a;for(var m={},f=f.features,q=0;q<e.length;q++)m[e[q].name]=e[q];for(q=0;q<f.length;q++){var h=f[q].properties.name;m[h]||e.push({name:h})}return e}};p=a(1);p.registerMap=c.registerMap;p.getMap=c.getMap;p.loadMap=function(){};p.registerCoordinateSystem("geo",c);r.exports=c},function(r,p,a){function l(a,b,c,e,m){f.call(this,a);this.map=b;this._nameCoordMap={};this.loadGeoJson(c,e,m)}var n=a(165),k=a(4),h=a(9),f=a(168),e=[a(169),a(170),a(171)];l.prototype={constructor:l,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return!0;return!1},loadGeoJson:function(a,b,c){try{this.regions=a?n(a):[]}catch(t){throw"Invalid geoJson format\n"+t;}b=b||{};c=c||{};a=this.regions;for(var d={},m=0;m<a.length;m++){var g=a[m].name,g=c[g]||g;a[m].name=g;d[g]=a[m];this.addGeoCoord(g,a[m].center);(g=b[g])&&a[m].transformTo(g.left,g.top,g.width,g.height)}this._regionsMap=d;this._rect=null;k.each(e,function(a){a(this)},this)},transformTo:function(a,b,c,e){var d=this.getBoundingRect(),d=d.clone();d.y=-d.y-d.height;var g=this._viewTransform;g.transform=d.calculateTransform(new h(a,b,c,e));g.decomposeTransform();a=g.scale;a[1]=-a[1];g.updateTransform();this._updateTransform()},getRegion:function(a){return this._regionsMap[a]},getRegionByCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return b[c]},addGeoCoord:function(a,b){this._nameCoordMap[a]=b},getGeoCoord:function(a){return this._nameCoordMap[a]},getBoundingRect:function(){if(this._rect)return this._rect;for(var a,b=this.regions,c=0;c<b.length;c++){var e=b[c].getBoundingRect();a=a||e.clone();a.union(e)}return this._rect=a||new h(0,0,0,0)},dataToPoints:function(a){var b=[];return a.mapArray(["lng","lat"],function(a,d){b[0]=a;b[1]=d;return this.dataToPoint(b)},this)},dataToPoint:function(a){"string"===typeof a&&(a=this.getGeoCoord(a));if(a)return f.prototype.dataToPoint.call(this,a)}};k.mixin(l,f);r.exports=l},function(r,p,a){function l(a){if(!a.UTF8Encoding)return a;for(var e=a.features,d=0;d<e.length;d++)for(var b=e[d].geometry,c=b.coordinates,f=b.encodeOffsets,m=0;m<c.length;m++){var g=c[m];if("Polygon"===b.type)c[m]=n(g,f[m]);else if("MultiPolygon"===b.type)for(var h=0;h<g.length;h++)g[h]=n(g[h],f[m][h])}a.UTF8Encoding=!1;return a}function n(a,e){for(var d=[],b=e[0],c=e[1],f=0;f<a.length;f+=2){var m=a.charCodeAt(f)-64,g=a.charCodeAt(f+1)-64,m=m>>1^-(m&1),g=g>>1^-(g&1),m=m+b,g=g+c,b=m,c=g;d.push([m/1024,g/1024])}return d}var k=a(4),h=a(166);r.exports=function(a){l(a);return k.map(k.filter(a.features,function(a){return a.geometry&&a.properties}),function(a){var d=a.properties;a=a.geometry;var b=a.coordinates;if("MultiPolygon"===a.type){a=b;for(var b=[],c=0;c<a.length;c++)for(var e=0;e<a[c].length;e++)b.push(a[c][e])}return new h(d.name,b,d.cp)})}},function(r,p,a){function l(a,d,b){this.name=a;this.contours=d;b?b=[b[0],b[1]]:(a=this.getBoundingRect(),b=[a.x+a.width/2,a.y+a.height/2]);this.center=b}var n=a(167),k=a(9),h=a(51),f=a(10);l.prototype={constructor:l,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var d=Number.MAX_VALUE,a=[d,d],d=[-d,-d],b=[],c=[],q=this.contours,m=0;m<q.length;m++)h.fromPoints(q[m],b,c),f.min(a,a,b),f.max(d,d,c);0===m&&(a[0]=a[1]=d[0]=d[1]=0);return this._rect=new k(a[0],a[1],d[0]-a[0],d[1]-a[1])},contain:function(a){var d=this.getBoundingRect(),b=this.contours;if(d.contain(a[0],a[1]))for(var d=0,c=b.length;d<c;d++)if(n.contain(b[d],a[0],a[1]))return!0;return!1},transformTo:function(a,d,b,c){var e=this.getBoundingRect(),m=e.width/e.height;b?c||(c=b/m):b=m*c;a=new k(a,d,b,c);e=e.calculateTransform(a);d=this.contours;for(b=0;b<d.length;b++)for(c=0;c<d[b].length;c++)f.applyTransform(d[b][c],d[b][c],e);e=this._rect;e.copy(a);this.center=[e.x+e.width/2,e.y+e.height/2]}};r.exports=l},function(r,p,a){var l=a(58);r.exports={contain:function(a,k,h){var f=0,e=a[0];if(!e)return!1;for(var d=1;d<a.length;d++)var b=a[d],f=f+l(e[0],e[1],b[0],b[1],k,h),e=b;a=a[0];1E-8>Math.abs(e[0]-a[0])&&1E-8>Math.abs(e[1]-a[1])||(f+=l(e[0],e[1],a[0],a[1],k,h));return 0!==f}}},function(r,p,a){function l(){f.call(this)}function n(a){this.name=a;f.call(this);this._roamTransform=new l;this._viewTransform=new l;this._center;this._zoom}var k=a(10),h=a(11),f=a(34);p=a(4);var e=a(9),d=k.applyTransform;p.mixin(l,f);n.prototype={constructor:n,type:"view",dimensions:["x","y"],setBoundingRect:function(a,c,d,m){return this._rect=new e(a,c,d,m)},getBoundingRect:function(){return this._rect},setViewRect:function(a,c,d,m){this.transformTo(a,c,d,m);this._viewRect=new e(a,c,d,m)},transformTo:function(a,c,d,m){var b=this.getBoundingRect(),f=this._viewTransform;f.transform=b.calculateTransform(new e(a,c,d,m));f.decomposeTransform();this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a)));this._zoom=a;this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var a=this._viewTransform.getLocalTransform(),c=this._roamTransform,d=this.getDefaultCenter(),e=this.getCenter(),g=this.getZoom(),e=k.applyTransform([],e,a),d=k.applyTransform([],d,a);c.origin=e;c.position=[d[0]-e[0],d[1]-e[1]];c.scale=[g,g];this._updateTransform()},_updateTransform:function(){var a=this._roamTransform,c=this._viewTransform;c.parent=a;a.updateTransform();c.updateTransform();c.transform&&h.copy(this.transform||(this.transform=[]),c.transform);this.transform?(this.invTransform=this.invTransform||[],h.invert(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();a.applyTransform(this.transform);return a},dataToPoint:function(a){var b=this.transform;return b?d([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?d([],a,b):[a[0],a[1]]}};p.mixin(n,f);r.exports=n},function(r,p,a){var l=a(166),n=[126,25],k=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(p=0;p<k.length;p++)for(a=0;a<k[p].length;a++)k[p][a][0]/=10.5,k[p][a][1]/=-14,k[p][a][0]+=n[0],k[p][a][1]+=n[1];r.exports=function(a){"china"===a.map&&a.regions.push(new l("\u5357\u6d77\u8bf8\u5c9b",k,n))}},function(r,p,a){var l=a(4),n={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};r.exports=function(a){l.each(a.regions,function(a){var f=n[a.name];f&&(a=a.center,a[0]+=f[0]/10.5,a[1]+=-f[1]/14)})}},function(r,p,a){var l=a(4),n={Russia:[100,60],"United States of America":[-99,38]};r.exports=function(a){l.each(a.regions,function(a){var f=n[a.name];f&&(a=a.center,a[0]=f[0],a[1]=f[1])})}},function(r,p,a){var l=a(43),n=a(173);a(1).extendChartView({type:"map",render:function(a,h,f,e){if(!e||"mapToggleSelect"!==e.type||e.from!==this.uid){var d=this.group;d.removeAll();if(e&&"geoRoam"===e.type&&"series"===e.component&&e.name===a.name)(b=this._mapDraw)&&d.add(b.group);else if(a.needsDrawMap){var b=this._mapDraw||new n(f,!0);d.add(b.group);b.draw(a,h,f,this,e);this._mapDraw=b}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&h.getComponent("legend")&&this._renderSymbols(a,h,f)}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},_renderSymbols:function(a,h,f){var e=a.originalData,d=this.group;e.each("value",function(b,c){if(!isNaN(b)){var f=e.getItemLayout(c);if(f&&f.point){var m=f.point,f=f.offset,g=new l.Circle({style:{fill:a.getData().getVisual("color")},shape:{cx:m[0]+9*f,cy:m[1],r:3},silent:!0,z2:10});if(!f){var m=a.mainSeries.getData(),h=e.getName(c),f=m.indexOfName(h),k=e.getItemModel(c),n=k.getModel("label.normal"),x=k.getModel("label.emphasis"),v=n.getModel("textStyle"),p=x.getModel("textStyle"),m=m.getItemGraphicEl(f);g.setStyle({textPosition:"bottom"});f=function(){g.setStyle({text:x.get("show")?h:"",textFill:p.getTextColor(),textFont:p.getFont()})};k=function(){g.setStyle({text:n.get("show")?h:"",textFill:v.getTextColor(),textFont:v.getFont()})};m.on("mouseover",f).on("mouseout",k).on("emphasis",f).on("normal",k);k()}d.add(g)}}})}})},function(r,p,a){function l(a,c){var b=a.getItemStyle(),d=a.get("areaColor");d&&(b.fill=d);return b}function n(a,c,d,e){c.off("click");a.get("selectedMode")&&c.on("click",function(b){for(b=b.target;!b.__region;)b=b.parent;b&&(b={type:("geo"===a.mainType?"geo":"map")+"ToggleSelect",name:b.__region.name,from:e.uid},b[a.mainType+"Id"]=a.id,d.dispatchAction(b),k(a,c))})}function k(a,c){c.eachChild(function(b){b.__region&&b.trigger(a.isSelected(b.__region.name)?"emphasis":"normal")})}function h(a,c){var b=new e.Group;this._controller=new f(a.getZr(),c?b:null,null);this.group=b;this._updateGroup=c}var f=a(174),e=a(43),d=a(4);h.prototype={constructor:h,draw:function(a,c,f,m,g){var b=a.getData&&a.getData(),q=a.coordinateSystem,h=this.group,x=q.scale,v={position:q.position,scale:x};!h.childAt(0)||g?h.attr(v):e.updateProps(h,v,a);h.removeAll();var p=["itemStyle","normal"],r=["itemStyle","emphasis"],y=["label","normal"],B=["label","emphasis"];d.each(q.regions,function(c){var g=new e.Group,m=new e.CompoundPath({shape:{paths:[]}});g.add(m);var f=a.getRegionModel(c.name)||a,q=f.getModel(p),k=f.getModel(r),t=l(q,x),k=l(k,x),n=f.getModel(y),w=f.getModel(B),u;b&&(u=b.indexOfName(c.name),f=b.getItemVisual(u,"color",!0))&&(t.fill=f);f=n.getModel("textStyle");q=w.getModel("textStyle");d.each(c.contours,function(a){a=new e.Polygon({shape:{points:a}});m.shape.paths.push(a)});m.setStyle(t);m.style.strokeNoScale=!0;m.culling=!0;var t=n.get("show"),n=w.get("show"),w=b&&isNaN(b.get("value",u)),v=b&&b.getItemLayout(u);if(!b||w&&(t||n)||v&&v.showLabel)v=b?u:c.name,w=a.getFormattedLabel(v,"normal"),v=a.getFormattedLabel(v,"emphasis"),f=new e.Text({style:{text:t?w||c.name:"",fill:f.getTextColor(),textFont:f.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:n?v||c.name:"",fill:q.getTextColor(),textFont:q.getFont()},position:c.center.slice(),scale:[1/x[0],1/x[1]],z2:10,silent:!0}),g.add(f);b?b.setItemGraphicEl(u,g):(f=a.getRegionModel(c.name),m.eventData={componentType:"geo",geoIndex:a.componentIndex,name:c.name,region:f&&f.option||{}});g.__region=c;e.setHoverStyle(g,k);h.add(g)});this._updateController(a,c,f);n(a,h,f,m);k(a,h)},remove:function(){this.group.removeAll();this._controller.dispose()},_updateController:function(a,c,e){function b(){var b={type:"geoRoam",componentType:f};b[f+"Id"]=a.id;return b}var g=a.coordinateSystem;c=this._controller;c.zoomLimit=a.get("scaleLimit");c.zoom=g.getZoom();c.enable(a.get("roam")||!1);var f=a.mainType;c.off("pan").on("pan",function(a,c){e.dispatchAction(d.extend(b(),{dx:a,dy:c}))});c.off("zoom").on("zoom",function(a,c,g){e.dispatchAction(d.extend(b(),{zoom:a,originX:c,originY:g}));if(this._updateGroup){a=this.group;var m=a.scale;a.traverse(function(a){"text"===a.type&&a.attr("scale",[1/m[0],1/m[1]])})}},this);c.rectProvider=function(){return g.getViewRectAfterRoam()}}};r.exports=h},function(r,p,a){function l(a){if(!a.target||!a.target.draggable){var b=a.offsetX;a=a.offsetY;var c=this.rectProvider&&this.rectProvider();c&&c.contain(b,a)&&(this._x=b,this._y=a,this._dragging=!0)}}function n(a){if(this._dragging&&(q.stop(a.event),"pinch"!==a.gestureEvent&&!m.isTaken(this._zr,"globalPan"))){var b=a.offsetX,c=a.offsetY,d=b-this._x,e=c-this._y;this._x=b;this._y=c;if(b=this.target)c=b.position,c[0]+=d,c[1]+=e,b.dirty();q.stop(a.event);this.trigger("pan",d,e)}}function k(a){this._dragging=!1}function h(a){e.call(this,a,0<a.wheelDelta?1.1:1/1.1,a.offsetX,a.offsetY)}function f(a){m.isTaken(this._zr,"globalPan")||e.call(this,a,1<a.pinchScale?1.1:1/1.1,a.pinchX,a.pinchY)}function e(a,b,c,d){var e=this.rectProvider&&this.rectProvider();if(e&&e.contain(c,d)){q.stop(a.event);a=this.target;var g=this.zoomLimit;if(a){var e=a.position,m=a.scale,f=this.zoom=this.zoom||1,f=f*b;g&&(f=Math.max(Math.min(g.max||Infinity,f),g.min||0));g=f/this.zoom;this.zoom=f;e[0]-=(c-e[0])*(g-1);e[1]-=(d-e[1])*(g-1);m[0]*=g;m[1]*=g;a.dirty()}this.trigger("zoom",b,c,d)}}function d(a,d,e){this.target=d;this.rectProvider=e;this._zr=a;d=c.bind;var g=d(l,this),m=d(n,this),q=d(k,this),t=d(h,this),w=d(f,this);b.call(this);this.enable=function(b){this.disable();null==b&&(b=!0);if(!0===b||"move"===b||"pan"===b)a.on("mousedown",g),a.on("mousemove",m),a.on("mouseup",q);if(!0===b||"scale"===b||"zoom"===b)a.on("mousewheel",t),a.on("pinch",w)};this.dispose=this.disable=function(){a.off("mousedown",g);a.off("mousemove",m);a.off("mouseup",q);a.off("mousewheel",t);a.off("pinch",w)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}var b=a(33),c=a(4),q=a(87),m=a(175);c.mixin(d,b);r.exports=d},function(r,p,a){a(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});r.exports={take:function(a,n,k){(a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={}))[n]=k},release:function(a,n,k){a=a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={});a[n]===k&&(a[n]=null)},isTaken:function(a,n){return!!(a["\x00_ec_interaction_mutex"]||(a["\x00_ec_interaction_mutex"]={}))[n]}}},function(r,p,a){var l=a(4),n=a(177);a(1).registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,h){var f=a.componentType||"series";h.eachComponent({mainType:f,query:a},function(e){var d=e.coordinateSystem;if("geo"===d.type){var b=n.updateCenterAndZoom(d,a,e.get("scaleLimit"));e.setCenter&&e.setCenter(b.center);e.setZoom&&e.setZoom(b.zoom);"series"===f&&l.each(e.seriesGroup,function(a){a.setCenter(b.center);a.setZoom(b.zoom)})}})})},function(r,p){r.exports={updateCenterAndZoom:function(a,l,n){var k=a.getZoom(),h=a.getCenter(),f=l.zoom,e=a.dataToPoint(h);null!=l.dx&&null!=l.dy&&(e[0]-=l.dx,e[1]-=l.dy,h=a.pointToData(e),a.setCenter(h));null!=f&&(n&&(f=Math.max(Math.min(k*f,n.max||Infinity),n.min||0)/k),a.scale[0]*=f,a.scale[1]*=f,n=a.position,h=(l.originY-n[1])*(f-1),n[0]-=(l.originX-n[0])*(f-1),n[1]-=h,a.updateTransform(),h=a.pointToData(e),a.setCenter(h),a.setZoom(f*k));return{center:a.getCenter(),zoom:a.getZoom()}}}},function(r,p,a){var l=a(4);r.exports=function(a){var k={};a.eachSeriesByType("map",function(h){var f=h.get("map");if(!k[f]){var e={};l.each(h.seriesGroup,function(b){var c=b.coordinateSystem,d=b.originalData;b.get("showLegendSymbol")&&a.getComponent("legend")&&d.each("value",function(a,b){var g=d.getName(b),m=c.getRegion(g);if(m&&!isNaN(a)){var f=e[g]||0,m=c.dataToPoint(m.center);e[g]=f+1;d.setItemLayout(b,{point:m,offset:f})}})});var d=h.getData();d.each(function(a){var b=d.getName(a),f=d.getItemLayout(a)||{};f.showLabel=!e[b];d.setItemLayout(a,f)});k[f]=!0}})}},function(r,p){r.exports=function(a){a.eachSeriesByType("map",function(a){var l=a.get("color"),k=a.getModel("itemStyle.normal"),h=k.get("areaColor"),l=k.get("color")||l[a.seriesIndex%l.length];a.getData().setVisual({areaColor:h,color:l})})}},function(r,p,a){function l(a,h){for(var f={},e=["value"],d=0;d<a.length;d++)a[d].each(e,function(b,c){var e=a[d].getName(c);f[e]=f[e]||[];isNaN(b)||f[e].push(b)});return a[0].map(e,function(b,c){for(var d=a[0].getName(c),e=0,g=Infinity,k=-Infinity,l=f[d].length,n=0;n<l;n++)g=Math.min(g,f[d][n]),k=Math.max(k,f[d][n]),e+=f[d][n];d="min"===h?g:"max"===h?k:"average"===h?e/l:e;return 0===l?NaN:d})}var n=a(4);r.exports=function(a){var h={};a.eachSeriesByType("map",function(a){var e=a.get("map");h[e]=h[e]||[];h[e].push(a)});n.each(h,function(a,e){for(var d=l(n.map(a,function(a){return a.getData()}),a[0].get("mapValueCalculation")),b=0;b<a.length;b++)a[b].originalData=a[b].getData();for(b=0;b<a.length;b++)a[b].seriesGroup=a,a[b].needsDrawMap=0===b,a[b].setData(d.cloneShallow()),a[b].mainSeries=a[0]})}},function(r,p,a){var l=a(4);r.exports=function(a){var k=[];l.each(a.series,function(a){"map"===a.type&&k.push(a)});l.each(k,function(a){a.map=a.map||a.mapType;l.defaults(a,a.mapLocation)})}},function(r,p,a){r=a(1);a(183);a(186);a(190);r.registerVisual(a(191));r.registerLayout(a(193))},function(r,p,a){function l(a,b){var c=0;f.each(a.children,function(a){l(a,b);a=a.value;f.isArray(a)&&(a=a[0]);c+=a});var d=a.value;0<=b&&(f.isArray(d)?d=d[0]:a.value=Array(b));if(null==d||isNaN(d))d=c;0>d&&(d=0);0<=b?a.value[0]=d:a.value=d}function n(a,b){var c=b.get("color");if(c){a=a||[];var d;f.each(a,function(a){a=new e(a);var b=a.get("color");if(a.get("itemStyle.normal.color")||b&&"none"!==b)d=!0});d||((a[0]||(a[0]={})).color=c.slice());return a}}var k=a(28),h=a(184),f=a(4),e=a(12);p=a(6);var d=p.encodeHTML,b=p.addCommas;r.exports=k.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:Infinity,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,b){var c=a.data||[],d=a.name;null==d&&(d=a.name);d={name:d,children:a.data};c=(c[0]||{}).value;l(d,f.isArray(c)?c.length:-1);c=a.levels||[];c=a.levels=n(c,b);return h.createTree(d,this,c).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var c=this.getData(),e=this.getRawValue(a),e=f.isArray(e)?b(e[0]):b(e);a=c.getName(a);return d(a)+": "+e},getDataParams:function(a){for(var b=k.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a),d=b.treePathInfo=[];c;){var e=c.dataIndex;d.push({name:c.name,dataIndex:e,value:this.getRawValue(e)});c=c.parentNode}d.reverse();return b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{};f.extend(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap={},this._idIndexMapCount=0);var c=b[a];null==c&&(b[a]=c=this._idIndexMapCount++);return c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getData().tree.root;if(!a||a!==b&&!b.contains(a))this._viewRoot=b}})},function(r,p,a){function l(a,c){this._nodes=[];this.hostModel=a;this.levelModels=n.map(c||[],function(b){return new k(b,a,a.ecModel)})}var n=a(4),k=a(12),h=a(97),f=a(185),e=a(102),d=function(a,c){this.name=a||"";this.height=this.depth=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=c};d.prototype={constructor:d,isRemoved:function(){return 0>this.dataIndex},eachNode:function(a,c,d){"function"===typeof a&&(d=c,c=a,a=null);a=a||{};n.isString(a)&&(a={order:a});var b=a.order||"preorder",e=this[a.attr||"children"],f;"preorder"===b&&(f=c.call(d,this));for(var h=0;!f&&h<e.length;h++)e[h].eachNode(a,c,d);"postorder"===b&&c.call(d,this)},updateDepthAndHeight:function(a){var b=0;this.depth=a;for(var d=0;d<this.children.length;d++){var e=this.children[d];e.updateDepthAndHeight(a+1);e.height>b&&(b=e.height)}this.height=b+1},getNodeById:function(a){if(this.getId()===a)return this;for(var b=0,d=this.children,e=d.length;b<e;b++){var g=d[b].getNodeById(a);if(g)return g}},contains:function(a){if(a===this)return!0;for(var b=0,d=this.children,e=d.length;b<e;b++){var g=d[b].contains(a);if(g)return g}},getAncestors:function(a){var b=[];for(a=a?this:this.parentNode;a;)b.push(a),a=a.parentNode;b.reverse();return b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,c){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,a,c)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){if(!(0>this.dataIndex)){var b=this.hostTree,d=b.data.getItemModel(this.dataIndex),e=this.getLevelModel();return d.getModel(a,(e||b.hostModel).getModel(a))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(a,c){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,a,c)},getVisual:function(a,c){return this.hostTree.data.getItemVisual(this.dataIndex,a,c)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};l.prototype={constructor:l,type:"tree",eachNode:function(a,c,d){this.root.eachNode(a,c,d)},getNodeByDataIndex:function(a){a=this.data.getRawIndex(a);return this._nodes[a]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var a=this.data,c=this._nodes,d=0,e=c.length;d<e;d++)c[d].dataIndex=-1;d=0;for(e=a.count();d<e;d++)c[a.getRawIndex(d)].dataIndex=d},clearLayouts:function(){this.data.clearItemLayouts()}};l.createTree=function(a,c,q){function b(a,c){k.push(a);var e=new d(a.name,g);c?e.parentNode!==c&&(c.children.push(e),e.parentNode=c):g.root=e;g._nodes.push(e);var m=a.children;if(m)for(var f=0;f<m.length;f++)b(m[f],e)}var g=new l(c,q),k=[];b(a);g.root.updateDepthAndHeight(0);a=e([{name:"value"}],k);c=new h(a,c);c.initData(k);f({mainData:c,struct:g,structAttr:"tree"});g.update();return g};r.exports=l},function(r,p,a){function l(a,b){if(this["\x00__link_mainData"]===this){var c=d.extend({},this["\x00__link_datas"]);c[this.dataType]=b;f(b,c,a)}else e(b,this.dataType,this["\x00__link_mainData"],a);return b}function n(a,b){a.struct&&a.struct.update(this);return b}function k(a,d){b(d["\x00__link_datas"],function(b,c){b!==d&&e(b.cloneShallow(),c,d,a)});return d}function h(a){var b=this["\x00__link_mainData"];return null==a||null==b?b:b["\x00__link_datas"][a]}function f(a,d,m){a["\x00__link_datas"]={};b(d,function(b,c){e(b,c,a,m)})}function e(a,b,d,e){d["\x00__link_datas"][b]=a;a["\x00__link_mainData"]=d;a.dataType=b;e.struct&&(a[e.structAttr]=e.struct,e.struct[e.datasAttr[b]]=a);a.getLinkedData=h}var d=a(4),b=d.each;r.exports=function(a){var c=a.mainData,e=a.datas;e||(e={main:c},a.datasAttr={main:"data"});a.datas=a.mainData=null;f(c,e,a);b(e,function(e){b(c.TRANSFERABLE_METHODS,function(b){e.wrapMethod(b,d.curry(l,a))})});c.wrapMethod("cloneShallow",d.curry(k,a));b(c.CHANGABLE_METHODS,function(b){c.wrapMethod(b,d.curry(n,a))});d.assert(e[c.dataType]===c)}},function(r,p,a){function l(){return{nodeGroup:[],background:[],content:[]}}function n(a,b,c,d,e,g,f,m,q,l){function n(b){D.dataIndex=f.dataIndex;D.seriesIndex=a.seriesIndex;var c=y.borderWidth,d=Math.max(z-2*c,0),e=Math.max(A-2*c,0);D.culling=!0;D.setShape({x:c,y:c,width:d,height:e});var g=f.getVisual("color",!0);u(D,function(){var b={fill:g},c=f.getModel("itemStyle.emphasis").getItemStyle(),m=f.getModel(),q=m.get("name");if(y.isLeafRoot)var k=a.get("drillDownIcon",!0),q=k?k+" "+q:test;p(q,b,m,x,g,d,e);p(q,c,m,v,g,d,e);D.setStyle(b);h.setHoverStyle(D,c)});b.add(D)}function u(a,b){B?!a.invisible&&g.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function p(a,b,c,d,e,g,m){c=c.getModel(d);d=c.getModel("textStyle");h.setText(b,c,e);b.textAlign=d.get("align");b.textVerticalAlign=d.get("baseline");e=d.getTextRect(a);!c.getShallow("show")||e.height>m?b.text="":b.text=e.width>g?d.get("ellipsis")?d.truncateText(a,g,null,{minChar:2}):"":a}function r(a,g,m,h){var q=null!=F&&c[a][F],l=e[a];q?(c[a][F]=null,g=q,(l[J]={}).old="nodeGroup"===a?g.position.slice():k.extend({},g.shape)):B||(q=10*m+h,q=new g({z:(q-1)/q}),q.__tmDepth=m,q.__tmStorageName=a,l=l[J]={},!(h=f.parentNode)||d&&"drillDown"!==d.direction||(m=g=0,h=e.background[h.getRawIndex()],!d&&h&&h.old&&(g=h.old.width,m=h.old.height),l.old="nodeGroup"===a?[0,m]:{x:g,y:m,width:0,height:0}),l.fadein="nodeGroup"!==a);return b[a][J]=q}if(f){var y=f.getLayout();if(y&&y.isInView){var z=y.width,A=y.height,B=y.invisible,J=f.getRawIndex(),F=m&&m.getRawIndex();if(m=r("nodeGroup",t)){q.add(m);m.attr("position",[y.x||0,y.y||0]);m.__tmNodeWidth=z;m.__tmNodeHeight=A;if(y.isAboveViewRoot)return m;var K=r("background",w,l,1);K&&(K.setShape({x:0,y:0,width:z,height:A}),u(K,function(){K.setStyle("fill",f.getVisual("borderColor",!0))}),m.add(K));q=f.viewChildren;if(!q||!q.length){var D=r("content",w,l,2);D&&n(m)}return m}}}}var k=a(4),h=a(43),f=a(98),e=a(187),d=a(188),b=a(174),c=a(9),q=a(11),m=a(189),g=k.bind,t=h.Group,w=h.Rect,u=k.each,x=["label","normal"],v=["label","emphasis"];r.exports=a(1).extendChartView({type:"treemap",init:function(a,b){this._storage=l();this._state="ready"},render:function(a,b,c,d){var g=b.findComponents({mainType:"series",subType:"treemap",query:d});if(!(0>k.indexOf(g,a))){this.seriesModel=a;this.api=c;this.ecModel=b;b=e.retrieveTargetInfo(d,a);var g=d&&d.type,m=a.layoutInfo,f=!this._oldTree,h=this._storage;d="treemapRootToNode"===g&&b&&h?{rootNodeGroup:h.nodeGroup[b.node.getRawIndex()],direction:d.direction}:null;m=this._giveContainerGroup(m);h=this._doRender(m,a,d);f||g&&"treemapZoomToNode"!==g&&"treemapRootToNode"!==g?h.renderFinally():this._doAnimation(m,h,a,d);this._resetController(c);this._renderBreadcrumb(a,c,b)}},_giveContainerGroup:function(a){var b=this._containerGroup;b||(b=this._containerGroup=new t,this._initEvents(b),this.group.add(b));b.attr("position",[a.x,a.y]);return b},_doRender:function(a,b,c){function d(a,b,c,e,g){function m(a){return a.getId()}function h(m,f){var h=null!=m?a[m]:null,q=null!=f?b[f]:null,k=x(h,q,c,g);k&&d(h&&h.viewChildren||[],q&&q.viewChildren||[],k,e,g+1)}e?(b=a,u(a,function(a,b){!a.isRemoved()&&h(b,b)})):(new f(b,a,m,m)).add(h).update(h).remove(k.curry(h,null)).execute()}var e=b.getData().tree,g=this._oldTree,m=l(),h=l(),q=this._storage,t=[],x=k.curry(n,b,h,q,c,m,t);d(e.root?[e.root]:[],g&&g.root?[g.root]:[],a,e===g||!g,0);var w=function(a){var b=l();a&&u(a,function(a,c){var d=b[c];u(a,function(a){a&&(d.push(a),a.__tmWillDelete=1)})});return b}(q);this._oldTree=e;this._storage=h;return{lastsForAnimation:m,willDeleteEls:w,renderFinally:function(){u(w,function(a){u(a,function(a){a.parent&&a.parent.remove(a)})});u(t,function(a){a.invisible=!0;a.dirty()})}}},_doAnimation:function(a,b,c,d){if(c.get("animation")){var e=c.get("animationDurationUpdate"),f=c.get("animationEasing"),h=m.createWrap();u(b.willDeleteEls,function(a,b){u(a,function(a,c){if(!a.invisible){var g=a.parent;if(d&&"drillDown"===d.direction)g=g===d.rootNodeGroup?{shape:{x:0,y:0,width:g.__tmNodeWidth,height:g.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var m=0,q=0;g.__tmWillDelete||(m=g.__tmNodeWidth/2,q=g.__tmNodeHeight/2);g="nodeGroup"===b?{position:[m,q],style:{opacity:0}}:{shape:{x:m,y:q,width:0,height:0},style:{opacity:0}}}g&&h.add(a,g,e,f)}})});u(this._storage,function(a,c){u(a,function(a,d){var g=b.lastsForAnimation[c][d],m={};g&&("nodeGroup"===c?g.old&&(m.position=a.position.slice(),a.attr("position",g.old)):(g.old&&(m.shape=k.extend({},a.shape),a.setShape(g.old)),g.fadein?(a.setStyle("opacity",0),m.style={opacity:1}):1!==a.style.opacity&&(m.style={opacity:1})),h.add(a,m,e,f))})},this);this._state="animating";h.done(g(function(){this._state="ready";b.renderFinally()},this)).start()}},_resetController:function(a){var d=this._controller;d||(d=this._controller=new b(a.getZr()),d.enable(this.seriesModel.get("roam")),d.on("pan",g(this._onPan,this)),d.on("zoom",g(this._onZoom,this)));var e=new c(0,0,a.getWidth(),a.getHeight());d.rectProvider=function(){return e}},_clearController:function(){var a=this._controller;a&&a.off("pan").off("zoom")},_onPan:function(a,b){this._mayClick=!1;if("animating"!==this._state&&(3<Math.abs(a)||3<Math.abs(b))){var c=this.seriesModel.getData().tree.root;c&&(c=c.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+a,y:c.y+b,width:c.width,height:c.height}})}},_onZoom:function(a,b,d){this._mayClick=!1;if("animating"!==this._state){var e=this.seriesModel.getData().tree.root;if(e&&(e=e.getLayout())){var e=new c(e.x,e.y,e.width,e.height),g=this.seriesModel.layoutInfo;b-=g.x;d-=g.y;g=q.create();q.translate(g,g,[-b,-d]);q.scale(g,g,[a,a]);q.translate(g,g,[b,d]);e.applyTransform(g);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}})}}},_initEvents:function(a){a.on("mousedown",function(a){"ready"===this._state&&(this._mayClick=!0)},this);a.on("mouseup",function(a){if(this._mayClick&&(this._mayClick=!1,"ready"===this._state)){var b=this.seriesModel.get("nodeClick",!0);if(b&&(a=this.findTarget(a.offsetX,a.offsetY))){var c=a.node;c.getLayout().isLeafRoot?this._rootToNode(a):"zoomToNode"===b?this._zoomToNode(a):"link"===b&&(a=c.hostTree.data.getItemModel(c.dataIndex),b=a.get("link",!0),a=a.get("target",!0)||"blank",b&&window.open(b,a))}}},this)},_renderBreadcrumb:function(a,b,c){function m(b){"animating"!==this._state&&(e.aboveViewRoot(a.getViewRoot(),b)?this._rootToNode({node:b}):this._zoomToNode({node:b}))}c||(c=this.findTarget(b.getWidth()/2,b.getHeight()/2))||(c={node:a.getData().tree.root});(this._breadcrumb||(this._breadcrumb=new d(this.group,g(m,this)))).render(a,b,c.node)},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=l();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c;this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var g=e.transformCoordToLocal(a,b),e=e.shape;if(e.x<=g[0]&&g[0]<=e.x+e.width&&e.y<=g[1]&&g[1]<=e.y+e.height)c={node:d,offsetX:g[0],offsetY:g[1]};else return!1}},this);return c}})},function(r,p,a){var l=a(4),n={retrieveTargetInfo:function(a,h){if(a&&("treemapZoomToNode"===a.type||"treemapRootToNode"===a.type)){var f=h.getData().tree.root,e=a.targetNode;if(e&&f.contains(e))return{node:e};var d=a.targetNodeId;if(null!=d&&(e=f.getNodeById(d)))return{node:e}}},getPathToRoot:function(a){for(var h=[];a;)(a=a.parentNode)&&h.push(a);return h.reverse()},aboveViewRoot:function(a,h){var f=n.getPathToRoot(a);return 0<=l.indexOf(f,h)}};r.exports=n},function(r,p,a){function l(a,d){this.group=new k.Group;a.add(this.group);this._onSelect=d||f.noop}function n(a,d,b,c,f,m){var e=[[f?a:a-5,d],[a+b,d],[a+b,d+c],[f?a:a-5,d+c]];!m&&e.splice(2,0,[a+b+5,d+c/2]);!f&&e.push([a,d+c/2]);return e}var k=a(43),h=a(21),f=a(4);l.prototype={constructor:l,render:function(a,d,b){a=a.getModel("breadcrumb");var c=this.group;c.removeAll();if(a.get("show")&&b){var e=a.getModel("itemStyle.normal"),m=e.getModel("textStyle");d={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:d.getWidth(),height:d.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(a,b,d,m);this._renderContent(a,b,d,e,m);h.positionGroup(c,d.pos,d.box)}},_prepare:function(a,d,b,c){for(a=d;a;a=a.parentNode){d=a.getModel().get("name");var e=c.getTextRect(d),e=Math.max(e.width+16,b.emptyItemWidth);b.totalWidth+=e+8;b.renderList.push({node:a,text:d,width:e})}},_renderContent:function(a,d,b,c,q){d=0;var e=b.emptyItemWidth;a=a.get("height");var g=h.getAvailableSize(b.pos,b.box),l=b.totalWidth;b=b.renderList;for(var w=b.length-1;0<=w;w--){var u=b[w],x=u.width,v=u.text;l>g.width&&(l-=x-e,x=e,v="");this.group.add(new k.Polygon({shape:{points:n(d,0,x,a,w===b.length-1,0===w)},style:f.defaults(c.getItemStyle(),{lineJoin:"bevel",text:v,textFill:q.getTextColor(),textFont:q.getFont()}),z:10,onclick:f.bind(this._onSelect,this,u.node)}));d+=x+8}},remove:function(){this.group.removeAll()}};r.exports=l},function(r,p,a){var l=a(4);r.exports={createWrap:function(){var a=[],k={},h;return{add:function(f,e,d,b,c){l.isString(b)&&(c=b,b=0);if(k[f.id])return!1;k[f.id]=1;a.push({el:f,target:e,time:d,delay:b,easing:c});return!0},done:function(a){h=a;return this},start:function(){function f(){e--;e||(a.length=0,k={},h&&h())}for(var e=a.length,d=0,b=a.length;d<b;d++){var c=a[d];c.el.animateTo(c.target,c.time,c.delay,c.easing,f)}return this}}}}},function(r,p,a){r=a(1);var l=a(187);a=function(){};p=["treemapZoomToNode","treemapRender","treemapMove"];for(var n=0;n<p.length;n++)r.registerAction({type:p[n],update:"updateView"},a);r.registerAction({type:"treemapRootToNode",update:"updateView"},function(a,h){h.eachComponent({mainType:"series",subType:"treemap",query:a},function(f,e){var d=l.retrieveTargetInfo(a,f);if(d){var b=f.getViewRoot();b&&(a.direction=l.aboveViewRoot(b,d.node)?"rollUp":"drillDown");f.resetViewRoot(d.node)}})})},function(r,p,a){function l(a,d,e,h,q,x){var g=a.getModel(),m=a.getLayout();if(m&&!m.invisible&&m.isInView){var t=a.getModel("itemStyle.normal"),w=n(t,d,e[a.depth],h),u=t.get("borderColor");d=t.get("borderColorSaturation");null!=d&&(u=k(w,a),u=null!=u?b.modifyHSL(u,null,null,d):null);a.setVisual("borderColor",u);if((d=a.viewChildren)&&d.length){var p=f(a,g,m,t,w,d);c.each(d,function(a,b){if(a.depth>=q.length||a===q[a.depth]){var d=c.extend({},w);if(p){var m=p.type,f="color"===m&&p.__drColorMappingBy,f="index"===f?b:"id"===f?x.mapIdToIndex(a.getId()):a.getValue(g.get("visualDimension"));d[m]=p.mapValueToVisual(f)}l(a,d,e,h,q,x)}})}else u=k(w,a),a.setVisual("color",u)}}function n(a,b,d,e){var g=c.extend({},b);c.each(["color","colorAlpha","colorSaturation"],function(c){var m=a.get(c,!0);null==m&&d&&(m=d[c]);null==m&&(m=b[c]);null==m&&(m=e.get(c));null!=m&&(g[c]=m)});return g}function k(a){var c=h(a,"color");if(c){var d=h(a,"colorAlpha");(a=h(a,"colorSaturation"))&&(c=b.modifyHSL(c,null,null,a));d&&(c=b.modifyAlpha(c,d));return c}}function h(a,b){var c=a[b];if(null!=c&&"none"!==c)return c}function f(a,b,c,f,h,q){if(q&&q.length&&(a=e(b,"color")||null!=h.color&&"none"!==h.color&&(e(b,"colorAlpha")||e(b,"colorSaturation"))))return b=b.get("colorMappingBy"),c={type:a.name,dataExtent:c.dataExtent,visual:a.range},"color"!==c.type||"index"!==b&&"id"!==b?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0),c=new d(c),c.__drColorMappingBy=b,c}function e(a,b){var c=a.get(b);return q(c)&&c.length?{name:b,range:c}:null}var d=a(192),b=a(39),c=a(4),q=c.isArray;r.exports=function(a,b,d){a.eachComponent({mainType:"series",subType:"treemap",query:d},function(a){var b=a.getData().tree,d=b.root,e=a.getModel("itemStyle.normal");d.isRemoved()||(b=c.map(b.levelModels,function(a){return a?a.get("itemStyle.normal"):null}),l(d,{},b,e,a.getViewRoot().getAncestors(),a))})}},function(r,p,a){function l(a){var b=a.pieceList;a.hasSpecialVisual=!1;g.each(b,function(b,c){b.originIndex=c;null!=b.visual&&(a.hasSpecialVisual=!0)})}function n(a){var b=a.categories,c=a.visual,d=a.categoryMap={};u(b,function(a,b){d[a]=b});if(!g.isArray(c)){var e=[];g.isObject(c)?u(c,function(a,b){var c=d[b];e[null!=c?c:-1]=a}):e[-1]=c;c=a.visual=e}for(a=b.length-1;0<=a;a--)null==c[a]&&(delete d[b[a]],b.pop())}function k(a,b){var c=a.visual,d=[];g.isObject(c)?u(c,function(a){d.push(a)}):null!=c&&d.push(c);c={color:1,symbol:1};b||1!==d.length||a.type in c||(d[1]=d[0]);a.visual=d}function h(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b);d("color",a(c("color"),b))},_doMap:c([0,1])}}function f(a,b){var c=this.option.visual;return c[Math.round(w(b,[0,1],[0,c.length-1],!0))]||{}}function e(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function d(a){var b=this.option.visual;return b[this.option.loop&&-1!==a?a%b.length:a]}function b(){return this.option.visual[0]}function c(a){return{linear:function(b){return w(b,a,this.option.visual,!0)},category:d,piecewise:function(b,c){var d=q.call(this,c);null==d&&(d=w(b,a,this.option.visual,!0));return d},fixed:b}}function q(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual&&(a=v.findPieceIndex(a,c),(c=c[a])&&c.visual))return c.visual[this.type]}function m(a,b,c){return a?b<=c:b<c}var g=a(4),t=a(39),w=a(7).linearMap,u=g.each,x=g.isObject,v=function(a){var b=a.mappingMethod,c=a.type;a=this.option=g.clone(a);this.type=c;this.mappingMethod=b;this._normalizeData=A[b];c=z[c];this.applyVisual=c.applyVisual;this.getColorMapper=c.getColorMapper;this._doMap=c._doMap[b];"piecewise"===b?(k(a),l(a)):"category"===b?a.categories?n(a):k(a,!0):(g.assert("linear"!==b||a.dataExtent),k(a))};v.prototype={constructor:v,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return g.bind(this._normalizeData,this)}};var z=v.visualHandlers={color:{applyVisual:e("color"),getColorMapper:function(){var a=this.option,b=g.map(a.visual,t.parse);return g.bind("category"===a.mappingMethod?function(a,b){!b&&(a=this._normalizeData(a));return d(this,a)}:function(a,c,d){var e=!!d;!c&&(a=this._normalizeData(a));d=t.fastMapToColor(a,b,d);return e?d:g.stringify(d,"rgba")},this)},_doMap:{linear:function(a){return t.mapToColor(a,this.option.visual)},category:d,piecewise:function(a,b){var c=q.call(this,b);null==c&&(c=t.mapToColor(a,this.option.visual));return c},fixed:b}},colorHue:h(function(a,b){return t.modifyHSL(a,b)}),colorSaturation:h(function(a,b){return t.modifyHSL(a,null,b)}),colorLightness:h(function(a,b){return t.modifyHSL(a,null,null,b)}),colorAlpha:h(function(a,b){return t.modifyAlpha(a,b)}),opacity:{applyVisual:e("opacity"),_doMap:c([0,1])},symbol:{applyVisual:function(a,b,c){a=this.mapValueToVisual(a);if(g.isString(a))c("symbol",a);else if(x(a))for(var d in a)a.hasOwnProperty(d)&&c(d,a[d])},_doMap:{linear:f,category:d,piecewise:function(a,b){var c=q.call(this,b);null==c&&(c=f.call(this,a));return c},fixed:b}},symbolSize:{applyVisual:e("symbolSize"),_doMap:c([0,1])}},A={linear:function(a){return w(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList;a=v.findPieceIndex(a,b,!0);if(null!=a)return w(a,[0,b.length-1],[0,1],!0)},category:function(a){a=this.option.categories?this.option.categoryMap[a]:a;return null==a?-1:a},fixed:g.noop};v.addVisualHandler=function(a,b){z[a]=b};v.isValidType=function(a){return z.hasOwnProperty(a)};v.eachVisual=function(a,b,c){g.isObject(a)?g.each(a,b,c):b.call(c,a)};v.mapVisual=function(a,b,c){var d,e=g.isArray(a)?[]:g.isObject(a)?{}:(d=!0,null);v.eachVisual(a,function(a,g){var m=b.call(c,a,g);d?e=m:e[g]=m});return e};v.retrieveVisuals=function(a){var b={},c;a&&u(z,function(d,e){a.hasOwnProperty(e)&&(b[e]=a[e],c=!0)});return c?b:null};v.prepareVisualTypes=function(a){if(x(a)){var b=[];u(a,function(a,c){b.push(c)});a=b}else if(g.isArray(a))a=a.slice();else return[];a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1});return a};v.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b};v.findPieceIndex=function(a,b,c){function d(b,c){var d=Math.abs(b-a);d<g&&(g=d,e=c)}for(var e,g=Infinity,f=0,h=b.length;f<h;f++){var q=b[f].value;if(null!=q){if(q===a)return f;c&&d(q,f)}}f=0;for(h=b.length;f<h;f++){var k=b[f],q=k.interval,k=k.close;if(q){if(-Infinity===q[0]){if(m(k[1],a,q[1]))return f}else if(Infinity===q[1]){if(m(k[0],q[0],a))return f}else if(m(k[0],q[0],a)&&m(k[1],a,q[1]))return f;c&&d(q[0],f);c&&d(q[1],f)}}if(c)return Infinity===a?b.length-1:-Infinity===a?0:e};r.exports=v},function(r,p,a){function l(a,b,c,d){var g,f;if(!a.isRemoved()){var m=a.getLayout();g=m.width;f=m.height;var m=a.getModel("itemStyle.normal"),h=m.get("borderWidth"),m=m.get("gapWidth")/2,q=h-m,k=a.getModel();a.setLayout({borderWidth:h},!0);g=u(g-2*q,0);f=u(f-2*q,0);h=g*f;a=n(a,k,h,b,c,d);if(a.length){q={x:q,y:q,width:g,height:f};g=x(g,f);f=Infinity;for(var t=[],w=t.area=0,p=a.length;w<p;){var v=a[w];t.push(v);t.area+=v.getLayout().area;for(var r=t,z=g,y=b.squareRatio,v=0,A=Infinity,B=0,J,F=r.length;B<F;B++)if(J=r[B].getLayout().area)J<A&&(A=J),J>v&&(v=J);r=r.area*r.area;z=z*z*y;v=r?u(z*v/r,r/(z*A)):Infinity;v<=f?(w++,f=v):(t.area-=t.pop().getLayout().area,e(t,g,q,m,!1),g=x(q.width,q.height),t.length=t.area=0,f=Infinity)}t.length&&e(t,g,q,m,!0);c||(m=k.get("childrenVisibleMin"),null!=m&&h<m&&(c=!0));w=0;for(p=a.length;w<p;w++)l(a[w],b,c,d+1)}}}function n(a,b,c,d,e,g){var m=a.children||[],l=d.sort;"asc"!==l&&"desc"!==l&&(l=null);d=null!=d.leafDepth&&d.leafDepth<=g;if(e&&!d)return a.viewChildren=[];m=q.filter(m,function(a){return!a.isRemoved()});h(m,l);e=f(b,m,l);if(0===e.sum)return a.viewChildren=[];e.sum=k(b,c,e.sum,l,m);if(0===e.sum)return a.viewChildren=[];b=0;for(l=m.length;b<l;b++)g=m[b].getValue()/e.sum*c,m[b].setLayout({area:g});d&&(m.length&&a.setLayout({isLeafRoot:!0},!0),m.length=0);a.viewChildren=m;a.setLayout({dataExtent:e.dataExtent},!0);return m}function k(a,b,c,d,e){if(!d)return c;a=a.get("visibleMin");for(var g=e.length,m=g,f=g-1;0<=f;f--){var h=e["asc"===d?g-f-1:f].getValue();h/c*b<a&&(m=f,c-=h)}"asc"===d?e.splice(0,g-m):e.splice(m,g-m);return c}function h(a,b){b&&a.sort(function(a,c){return"asc"===b?a.getValue()-c.getValue():c.getValue()-a.getValue()});return a}function f(a,b,c){for(var d=0,e=0,g=b.length;e<g;e++)d+=b[e].getValue();var m=a.get("visualDimension"),f;b&&b.length?"value"===m&&c?(f=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&f.reverse()):(f=[Infinity,-Infinity],A(b,function(a){a=a.getValue(m);a<f[0]&&(f[0]=a);a>f[1]&&(f[1]=a)})):f=[NaN,NaN];return{sum:d,dataExtent:f}}function e(a,b,c,d,e){var g=b===c.width?0:1,m=1-g,f=["x","y"],h=["width","height"],q=c[f[g]];b=b?a.area/b:0;if(e||b>c[h[m]])b=c[h[m]];e=0;for(var k=a.length;e<k;e++){var l=a[e],t={},n=b?l.getLayout().area/b:0,w=t[h[m]]=u(b-2*d,0),v=c[f[g]]+c[h[g]]-q,n=e===k-1||v<n?v:n,v=t[h[g]]=u(n-2*d,0);t[f[m]]=c[f[m]]+x(d,w/2);t[f[g]]=q+x(d,v/2);q+=n;l.setLayout(t,!0)}c[f[m]]+=b;c[h[m]]-=b}function d(a,b,c,d,e){var g=(b||{}).node;b=[d,e];if(!g||g===c)return b;c=d*e;for(var f=c*a.option.zoomToNodeRatio;a=g.parentNode;){for(var h=0,q=a.children,k=0,l=q.length;k<l;k++)h+=q[k].getValue();g=g.getValue();if(0===g)return b;f*=h/g;g=a.getModel("itemStyle.normal").get("borderWidth");isFinite(g)&&(f+=4*g*g+4*g*Math.pow(f,.5));f>m.MAX_SAFE_INTEGER&&(f=m.MAX_SAFE_INTEGER);g=a}f<c&&(f=c);b=Math.pow(f/c,.5);return[d*b,e*b]}function b(a,b,c){if(b)return{x:b.x,y:b.y};b={x:0,y:0};if(!c)return b;c=c.node;var d=c.getLayout();if(!d)return b;for(b=[d.width/2,d.height/2];c;)d=c.getLayout(),b[0]+=d.x,b[1]+=d.y,c=c.parentNode;return{x:a.width/2-b[0],y:a.height/2-b[1]}}function c(a,b,d,e,g){var f=a.getLayout(),m=d[g],h=m&&m===a;if(!(m&&!h||g===d.length&&a!==e)){a.setLayout({isInView:!0,invisible:!h&&!b.intersect(f),isAboveViewRoot:h},!0);var q=new w(b.x-f.x,b.y-f.y,b.width,b.height);A(a.viewChildren||[],function(a){c(a,q,d,e,g+1)})}}var q=a(4),m=a(7),g=a(21),t=a(187),w=a(9),t=a(187),u=Math.max,x=Math.min,v=m.parsePercent,z=q.retrieve,A=q.each;r.exports=function(a,e,f){a.eachComponent({mainType:"series",subType:"treemap",query:f},function(a){var m=e.getWidth(),h=e.getHeight(),k=a.option,n=k.size||[],x=v(z(k.width,n[0]),m),u=v(z(k.height,n[1]),h),n=g.getLayoutRect(a.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),p=f&&f.type,r=t.retrieveTargetInfo(f,a),y="treemapRender"===p||"treemapMove"===p?f.rootRect:null,B=a.getViewRoot(),J=t.getPathToRoot(B);if("treemapMove"!==p){x="treemapZoomToNode"===p?d(a,r,B,x,u):y?[y.width,y.height]:[x,u];(u=k.sort)&&"asc"!==u&&"desc"!==u&&(u="desc");k={squareRatio:k.squareRatio,sort:u,leafDepth:k.leafDepth};B.hostTree.clearLayouts();var F={x:0,y:0,width:x[0],height:x[1],area:x[0]*x[1]};B.setLayout(F);l(B,k,!1,0);F=B.getLayout();A(J,function(a,b){var c=(J[b+1]||B).getValue();a.setLayout(q.extend({dataExtent:[c,c],borderWidth:0},F))})}k=a.getData().tree.root;k.setLayout(b(n,y,r),!0);a.setLayoutInfo(n);c(k,new w(-n.x,-n.y,m,h),J,B,0)})}},function(r,p,a){r=a(1);p=a(4);a(195);a(198);a(203);r.registerProcessor(a(204));r.registerVisual(p.curry(a(109),"graph","circle",null));r.registerVisual(a(205));r.registerVisual(a(206));r.registerLayout(a(207));r.registerLayout(a(210));r.registerLayout(a(212));r.registerCoordinateSystem("graphView",{create:a(214)})},function(r,p,a){var l=a(97),n=a(4),k=a(5),h=a(12),f=a(196),e=a(1).extendSeriesModel({type:"series.graph",init:function(a){e.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeOption:function(a){e.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(a){e.superApply(this,"mergeDefaultAndTheme",arguments);k.defaultEmphasis(a.edgeLabel,k.LABEL_OPTIONS)},getInitialData:function(a,b){function c(a,b){a.wrapMethod("getItemModel",function(a){var b=g._categoriesModels,c=a.getShallow("category");if(b=b[c])b.parentModel=a.parentModel,a.parentModel=b;return a});var c=g.getModel("edgeLabel"),d=function(a,b){var e=(a||"").split(".");"label"===e[0]&&(b=b||c.getModel(e.slice(1)));e=h.prototype.getModel.call(this,e,b);e.getModel=d;return e};b.wrapMethod("getItemModel",function(a){a.getModel=d;return a})}var d=a.edges||a.links||[],e=a.data||a.nodes||[],g=this;if(e&&d)return f(e,d,this,!0,c).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(a,b,c){if("edge"===c){var d=this.getData(),f=this.getDataParams(a,c),g=d.graph.getEdgeByIndex(a),h=d.getName(g.node1.dataIndex),d=d.getName(g.node2.dataIndex),h=h+" \x3e "+d;f.value&&(h+=" : "+f.value);return h}return e.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=n.map(this.option.categories||[],function(a){return null!=a.value?a:n.extend({value:0},a)}),b=new l(["value"],this);b.initData(a);this._categoriesData=b;this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});r.exports=e},function(r,p,a){var l=a(97),n=a(197),k=a(185),h=a(102),f=a(26),e=a(4),d=a(101);r.exports=function(a,c,q,m,g){m=new n(m);for(var b=0;b<a.length;b++)m.addNode(e.retrieve(a[b].id,a[b].name,b),b);for(var w=[],u=[],b=0;b<c.length;b++){var x=c[b],p=x.source,r=x.target;m.addEdge(p,r,b)&&(u.push(x),w.push(e.retrieve(x.id,p+" \x3e "+r)))}c=q.get("coordinateSystem");"cartesian2d"===c||"polar"===c?c=d(a,q,q.ecModel):(c=f.get(c),c=h((c&&"view"!==c.type?c.dimensions||[]:[]).concat(["value"]),a),c=new l(c,q),c.initData(a));a=new l(["value"],q);a.initData(u,w);g&&g(c,a);k({mainData:c,struct:m,structAttr:"graph",datas:{node:c,edge:a},datasAttr:{node:"data",edge:"edgeData"}});m.update();return m}},function(r,p,a){function l(a,f){this.id=null==a?"":a;this.inEdges=[];this.outEdges=[];this.edges=[];this.dataIndex=null==f?-1:f}function n(a,f,e){this.node1=a;this.node2=f;this.dataIndex=null==e?-1:e}p=a(4);var k=function(a){this._directed=a||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={}};a=k.prototype;a.type="graph";a.isDirected=function(){return this._directed};a.addNode=function(a,f){a=a||""+f;var e=this._nodesMap;if(!e[a]){var d=new l(a,f);d.hostGraph=this;this.nodes.push(d);return e[a]=d}};a.getNodeByIndex=function(a){a=this.data.getRawIndex(a);return this.nodes[a]};a.getNodeById=function(a){return this._nodesMap[a]};a.addEdge=function(a,f,e){var d=this._nodesMap,b=this._edgesMap;"number"===typeof a&&(a=this.nodes[a]);"number"===typeof f&&(f=this.nodes[f]);a instanceof l||(a=d[a]);f instanceof l||(f=d[f]);if(a&&f&&(d=a.id+"-"+f.id,!b[d]))return e=new n(a,f,e),e.hostGraph=this,this._directed&&(a.outEdges.push(e),f.inEdges.push(e)),a.edges.push(e),a!==f&&f.edges.push(e),this.edges.push(e),b[d]=e};a.getEdgeByIndex=function(a){a=this.edgeData.getRawIndex(a);return this.edges[a]};a.getEdge=function(a,f){a instanceof l&&(a=a.id);f instanceof l&&(f=f.id);var e=this._edgesMap;return this._directed?e[a+"-"+f]:e[a+"-"+f]||e[f+"-"+a]};a.eachNode=function(a,f){for(var e=this.nodes,d=e.length,b=0;b<d;b++)0<=e[b].dataIndex&&a.call(f,e[b],b)};a.eachEdge=function(a,f){for(var e=this.edges,d=e.length,b=0;b<d;b++)0<=e[b].dataIndex&&0<=e[b].node1.dataIndex&&0<=e[b].node2.dataIndex&&a.call(f,e[b],b)};a.breadthFirstTraverse=function(a,f,e,d){f instanceof l||(f=this._nodesMap[f]);if(f){e="out"===e?"outEdges":"in"===e?"inEdges":"edges";for(var b=0;b<this.nodes.length;b++)this.nodes[b].__visited=!1;if(!a.call(d,f,null))for(f=[f];f.length;){d=f.shift();for(var c=d[e],b=0;b<c.length;b++){var h=c[b],h=h.node1===d?h.node2:h.node1;if(!h.__visited){if(a.call(h,h,d))return;f.push(h);h.__visited=!0}}}}};a.update=function(){for(var a=this.data,f=this.edgeData,e=this.nodes,d=this.edges,b=0,c=e.length;b<c;b++)e[b].dataIndex=-1;b=0;for(c=a.count();b<c;b++)e[a.getRawIndex(b)].dataIndex=b;f.filterSelf(function(a){a=d[f.getRawIndex(a)];return 0<=a.node1.dataIndex&&0<=a.node2.dataIndex});b=0;for(c=d.length;b<c;b++)d[b].dataIndex=-1;b=0;for(c=f.count();b<c;b++)d[f.getRawIndex(b)].dataIndex=b};a.clone=function(){for(var a=new k(this._directed),f=this.nodes,e=this.edges,d=0;d<f.length;d++)a.addNode(f[d].id,f[d].dataIndex);for(d=0;d<e.length;d++)f=e[d],a.addEdge(f.node1.id,f.node2.id,f.dataIndex);return a};l.prototype={constructor:l,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(0>this.dataIndex))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}};n.prototype.getModel=function(a){if(!(0>this.dataIndex))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)};a=function(a,f){return{getValue:function(e){var d=this[a][f];return d.get(d.getDimension(e||"value"),this.dataIndex)},setVisual:function(e,d){0<=this.dataIndex&&this[a][f].setItemVisual(this.dataIndex,e,d)},getVisual:function(e,d){return this[a][f].getItemVisual(this.dataIndex,e,d)},setLayout:function(e,d){0<=this.dataIndex&&this[a][f].setItemLayout(this.dataIndex,e,d)},getLayout:function(){return this[a][f].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][f].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][f].getRawIndex(this.dataIndex)}}};p.mixin(l,a("hostGraph","data"));p.mixin(n,a("hostGraph","edgeData"));k.Node=l;k.Edge=n;r.exports=k},function(r,p,a){function l(a,b){return a.getVisual("opacity")||a.getModel().get(b)}var n=a(104),k=a(199),h=a(174),f=a(43),e=a(202),d=a(4),b=["itemStyle","normal","opacity"],c=["lineStyle","normal","opacity"];a(1).extendChartView({type:"graph",init:function(a,b){var c=new n,d=new k,e=this.group,f=new h(b.getZr(),e);e.add(c.group);e.add(d.group);this._symbolDraw=c;this._lineDraw=d;this._controller=f;this._firstRender=!0},render:function(a,b,c){var d=a.coordinateSystem;this._model=a;this._nodeScaleRatio=a.get("nodeScaleRatio");var g=this._symbolDraw;b=this._lineDraw;var m=this.group;"view"===d.type&&(d={position:d.position,scale:d.scale},this._firstRender?m.attr(d):f.updateProps(m,d,a));e(a.getGraph(),this._getNodeGlobalScale(a));var h=a.getData();g.updateData(h);g=a.getEdgeData();b.updateData(g);this._updateNodeAndLinkScale();this._updateController(a,c);clearTimeout(this._layoutTimeout);var q=a.forceLayout,k=a.get("force.layoutAnimation");q&&this._startForceLayoutIteration(q,k);h.eachItemGraphicEl(function(a,b){var c=h.getItemModel(b);a.off("drag").off("dragend");var d=h.getItemModel(b).get("draggable");if(d)a.on("drag",function(){q&&(q.warmUp(),!this._layouting&&this._startForceLayoutIteration(q,k),q.setFixed(b),h.setItemLayout(b,a.position))},this).on("dragend",function(){q&&q.setUnfixed(b)},this);a.setDraggable(d&&q);a.off("mouseover",this._focusNodeAdjacency);a.off("mouseout",this._unfocusAll);c.get("focusNodeAdjacency")&&(a.on("mouseover",this._focusNodeAdjacency,this),a.on("mouseout",this._unfocusAll,this))},this);this._firstRender=!1},_focusNodeAdjacency:function(a){function e(a,b){var c=l(a,b),d=a.getGraphicEl();null==c&&(c=1);d.traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",.1*c)})}function g(a,b){var c=l(a,b);a.getGraphicEl().traverse(function(a){a.trigger("emphasis");"group"!==a.type&&a.setStyle("opacity",c)})}var f=this._model.getData().graph,h=a.target;a=h.dataIndex;h=h.dataType;null!==a&&"edge"!==h&&(f.eachNode(function(a){e(a,b)}),f.eachEdge(function(a){e(a,c)}),f=f.getNodeByIndex(a),g(f,b),d.each(f.edges,function(a){0>a.dataIndex||(g(a,c),g(a.node1,b),g(a.node2,b))}))},_unfocusAll:function(){var a=this._model.getData().graph;a.eachNode(function(a){var c=l(a,b);a.getGraphicEl().traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",c)})});a.eachEdge(function(a){var b=l(a,c);a.getGraphicEl().traverse(function(a){a.trigger("normal");"group"!==a.type&&a.setStyle("opacity",b)})})},_startForceLayoutIteration:function(a,b){var c=this;(function w(){a.step(function(a){c.updateLayout(c._model);(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(w,16):w())})})()},_updateController:function(a,b){var c=this._controller,d=this.group;c.rectProvider=function(){var a=d.getBoundingRect();a.applyTransform(d.transform);return a};"view"!==a.coordinateSystem.type?c.disable():(c.enable(a.get("roam")),c.zoomLimit=a.get("scaleLimit"),c.zoom=a.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(c,d){b.dispatchAction({seriesId:a.id,type:"graphRoam",dx:c,dy:d})}).on("zoom",function(c,d,g){b.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:c,originX:d,originY:g});this._updateNodeAndLinkScale();e(a.getGraph(),this._getNodeGlobalScale(a));this._lineDraw.updateLayout()},this))},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData(),a=this._getNodeGlobalScale(a),c=[a,a];b.eachItemGraphicEl(function(a,b){a.attr("scale",c)})},_getNodeGlobalScale:function(a){a=a.coordinateSystem;if("view"!==a.type)return 1;var b=this._nodeScaleRatio,c=a.scale,c=c&&c[0]||1;return((a.getZoom()-1)*b+1)/c},updateLayout:function(a){e(a.getGraph(),this._getNodeGlobalScale(a));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}})},function(r,p,a){function l(a){return isNaN(a[0])||isNaN(a[1])}function n(a){return!l(a[0])&&!l(a[1])}function k(a){this._ctor=a||f;this.group=new h.Group}var h=a(43),f=a(200);p=k.prototype;p.updateData=function(a){var d=this._lineData,b=this.group,c=this._ctor,e=a.hostModel,f={lineStyle:e.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:e.getModel("lineStyle.emphasis").getLineStyle(),labelModel:e.getModel("label.normal"),hoverLabelModel:e.getModel("label.emphasis")};a.diff(d).add(function(d){if(n(a.getItemLayout(d))){var e=new c(a,d,f);a.setItemGraphicEl(d,e);b.add(e)}}).update(function(e,m){var g=d.getItemGraphicEl(m);n(a.getItemLayout(e))?(g?g.updateData(a,e,f):g=new c(a,e,f),a.setItemGraphicEl(e,g),b.add(g)):b.remove(g)}).remove(function(a){b.remove(d.getItemGraphicEl(a))}).execute();this._lineData=a};p.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(d,b){d.updateLayout(a,b)},this)};p.remove=function(){this.group.removeAll()};r.exports=k},function(r,p,a){function l(a,b,d){var e=b.getItemVisual(d,"color"),g=b.getItemVisual(d,a);b=b.getItemVisual(d,a+"Size");if(g&&"none"!==g)return c.isArray(b)||(b=[b,b]),e=f.createSymbol(g,-b[0]/2,-b[1]/2,b[0],b[1],e),e.name=a,e}function n(a){var b=new d({name:"line"});k(b.shape,a);return b}function k(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0];a.y1=c[1];a.x2=d[0];a.y2=d[1];a.percent=1;e&&(a.cpx1=e[0],a.cpy1=e[1])}function h(a,c,d){b.Group.call(this);this._createLine(a,c,d)}var f=a(106),e=a(10),d=a(201),b=a(43),c=a(4),q=a(7),m=["fromSymbol","toSymbol"];p=h.prototype;p.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.childOfName("label");if(a||b||!c.ignore){for(var d=1,f=this.parent;f;)f.scale&&(d/=f.scale[0]),f=f.parent;var m=this.childOfName("line");if(this.__dirty||m.__dirty){var h=m.shape.percent,f=m.pointAt(0),q=m.pointAt(h),k=e.sub([],q,f);e.normalize(k,k);if(a){a.attr("position",f);var l=m.tangentAt(0);a.attr("rotation",Math.PI/2-Math.atan2(l[1],l[0]));a.attr("scale",[d*h,d*h])}b&&(b.attr("position",q),l=m.tangentAt(1),b.attr("rotation",-Math.PI/2-Math.atan2(l[1],l[0])),b.attr("scale",[d*h,d*h]));c.ignore||(c.attr("position",q),a=5*d,"end"===c.__position?(m=[k[0]*a+q[0],k[1]*a+q[1]],a=.8<k[0]?"left":-.8>k[0]?"right":"center",k=.8<k[1]?"top":-.8>k[1]?"bottom":"middle"):"middle"===c.__position?(b=h/2,l=m.tangentAt(b),k=[l[1],-l[0]],m=m.pointAt(b),0<k[1]&&(k[0]=-k[0],k[1]=-k[1]),m=[m[0]+k[0]*a,m[1]+k[1]*a],a="center",k="bottom",l=-Math.atan2(l[1],l[0]),q[0]<f[0]&&(l=Math.PI+l),c.attr("rotation",l)):(m=[-k[0]*a+f[0],-k[1]*a+f[1]],a=.8<k[0]?"right":-.8>k[0]?"left":"center",k=.8<k[1]?"bottom":-.8>k[1]?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||k,textAlign:c.__textAlign||a},position:m,scale:[d,d]}))}}};p._createLine=function(a,d,e){var g=a.hostModel,f=a.getItemLayout(d),f=n(f);f.shape.percent=0;b.initProps(f,{shape:{percent:1}},g,d);this.add(f);g=new b.Text({name:"label"});this.add(g);c.each(m,function(b){var c=l(b,a,d);this.add(c);this["_"+b+"Type"]=a.getItemVisual(d,b)},this);this._updateCommonStl(a,d,e)};p.updateData=function(a,d,e){var g=a.hostModel,f=this.childOfName("line"),h=a.getItemLayout(d),q={shape:{}};k(q.shape,h);b.updateProps(f,q,g,d);c.each(m,function(b){var c=a.getItemVisual(d,b),e="_"+b+"Type";this[e]!==c&&(this.remove(this.childOfName(b)),b=l(b,a,d),this.add(b));this[e]=c},this);this._updateCommonStl(a,d,e)};p._updateCommonStl=function(a,d,e){var g=a.hostModel,f=this.childOfName("line"),m=e&&e.lineStyle,h=e&&e.hoverLineStyle,k=e&&e.labelModel,l=e&&e.hoverLabelModel;if(!e||a.hasItemOption)l=a.getItemModel(d),m=l.getModel("lineStyle.normal").getLineStyle(),h=l.getModel("lineStyle.emphasis").getLineStyle(),k=l.getModel("label.normal"),l=l.getModel("label.emphasis");e=a.getItemVisual(d,"color");isNaN(t)&&(t=a.getName(d));f.useStyle(c.defaults({strokeNoScale:!0,fill:"none",stroke:e},m));f.hoverStyle=h;var f=k.getShallow("show"),m=l.getShallow("show"),t,h=this.childOfName("label"),n;if(f||m)t=q.round(g.getRawValue(d)),n=e||"#000";f?(e=k.getModel("textStyle"),h.setStyle({text:c.retrieve(g.getFormattedLabel(d,"normal",a.dataType),t),textFont:e.getFont(),fill:e.getTextColor()||n}),h.__textAlign=e.get("align"),h.__verticalAlign=e.get("baseline"),h.__position=k.get("position")):h.setStyle("text","");m?(k=l.getModel("textStyle"),h.hoverStyle={text:c.retrieve(g.getFormattedLabel(d,"emphasis",a.dataType),t),textFont:k.getFont(),fill:k.getTextColor()||n}):h.hoverStyle={text:""};h.ignore=!f&&!m;b.setHoverStyle(this)};p.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))};p.setLinePoints=function(a){var b=this.childOfName("line");k(b.shape,a);b.dirty()};c.inherits(h,b.Group);r.exports=h},function(r,p,a){function l(a){return null==a.cpx1||null==a.cpy1}p=a(43);var n=a(10),k=p.Line.prototype,h=p.BezierCurve.prototype;r.exports=p.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,e){(l(e)?k:h).buildPath(a,e)},pointAt:function(a){return l(this.shape)?k.pointAt.call(this,a):h.pointAt.call(this,a)},tangentAt:function(a){var e=this.shape;a=l(e)?[e.x2-e.x1,e.y2-e.y1]:h.tangentAt.call(this,a);return n.normalize(a,a)}})},function(r,p,a){function l(a,m,g){var q=a[0],k=a[1];a=a[2];var l=Infinity,n;g*=g;for(var p=.1,r=.1;.9>=r;r+=.1){h[0]=d(q[0],k[0],a[0],r);h[1]=d(q[1],k[1],a[1],r);var A=c(b(h,m)-g);A<l&&(l=A,n=r)}for(l=0;32>l;l++){A=n+p;f[0]=d(q[0],k[0],a[0],n);f[1]=d(q[1],k[1],a[1],n);e[0]=d(q[0],k[0],a[0],A);e[1]=d(q[1],k[1],a[1],A);A=b(f,m)-g;if(.01>c(A))break;r=b(e,m)-g;p/=2;n=0>A?0<=r?n+p:n-p:0<=r?n-p:n+p}return n}var n=a(50),k=a(10),h=[],f=[],e=[],d=n.quadraticAt,b=k.distSquare,c=Math.abs;r.exports=function(a,b){var c=[],d=n.quadraticSubdivide,e=[[],[],[]],f=[[],[]],m=[];b/=2;a.eachEdge(function(a,g){var h=a.getLayout(),q=a.getVisual("fromSymbol"),t=a.getVisual("toSymbol");h.__original||(h.__original=[k.clone(h[0]),k.clone(h[1])],h[2]&&h.__original.push(k.clone(h[2])));var n=h.__original;null!=h[2]?(k.copy(e[0],n[0]),k.copy(e[1],n[2]),k.copy(e[2],n[1]),q&&"none"!=q&&(q=a.node1.getVisual("symbolSize"),q instanceof Array&&(q=(q[0]+q[1])/2),q=l(e,n[0],q*b),d(e[0][0],e[1][0],e[2][0],q,c),e[0][0]=c[3],e[1][0]=c[4],d(e[0][1],e[1][1],e[2][1],q,c),e[0][1]=c[3],e[1][1]=c[4]),t&&"none"!=t&&(q=a.node1.getVisual("symbolSize"),q instanceof Array&&(q=(q[0]+q[1])/2),q=l(e,n[1],q*b),d(e[0][0],e[1][0],e[2][0],q,c),e[1][0]=c[1],e[2][0]=c[2],d(e[0][1],e[1][1],e[2][1],q,c),e[1][1]=c[1],e[2][1]=c[2]),k.copy(h[0],e[0]),k.copy(h[1],e[2]),k.copy(h[2],e[1])):(k.copy(f[0],n[0]),k.copy(f[1],n[1]),k.sub(m,f[1],f[0]),k.normalize(m,m),q&&"none"!=q&&k.scaleAndAdd(f[0],f[0],m,a.node1.getVisual("symbolSize")*b),t&&"none"!=t&&k.scaleAndAdd(f[1],f[1],m,-a.node2.getVisual("symbolSize")*b),k.copy(h[0],f[0]),k.copy(h[1],f[1]))})}},function(r,p,a){r=a(1);var l=a(177);r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(a,k){k.eachComponent({mainType:"series",query:a},function(h){var f=l.updateCenterAndZoom(h.coordinateSystem,a);h.setCenter&&h.setCenter(f.center);h.setZoom&&h.setZoom(f.zoom)})})},function(r,p){r.exports=function(a){var l=a.findComponents({mainType:"legend"});l&&l.length&&a.eachSeriesByType("graph",function(a){var k=a.getCategoriesData(),h=a.getGraph().data,f=k.mapArray(k.getName);h.filterSelf(function(a){a=h.getItemModel(a).getShallow("category");if(null!=a){"number"===typeof a&&(a=f[a]);for(var d=0;d<l.length;d++)if(!l[d].isSelected(a))return!1}return!0})},this)}},function(r,p){r.exports=function(a){a.eachSeriesByType("graph",function(a){var l=a.getCategoriesData(),k=a.getData(),h={};l.each(function(f){var e=l.getName(f);h[e]=f;e=l.getItemModel(f).get("itemStyle.normal.color")||a.getColorFromPalette(e);l.setItemVisual(f,"color",e)});l.count()&&k.each(function(a){var e=k.getItemModel(a).getShallow("category");null!=e&&("string"===typeof e&&(e=h[e]),k.getItemVisual(a,"color",!0)||k.setItemVisual(a,"color",l.getItemVisual(e,"color")))})})}},function(r,p){function a(a){a instanceof Array||(a=[a,a]);return a}r.exports=function(l){l.eachSeriesByType("graph",function(l){var k=l.getGraph(),h=l.getEdgeData(),f=a(l.get("edgeSymbol")),e=a(l.get("edgeSymbolSize"));h.setVisual("fromSymbol",f&&f[0]);h.setVisual("toSymbol",f&&f[1]);h.setVisual("fromSymbolSize",e&&e[0]);h.setVisual("toSymbolSize",e&&e[1]);h.setVisual("color",l.get("lineStyle.normal.color"));h.each(function(d){var b=h.getItemModel(d);d=k.getEdgeByIndex(d);var c=a(b.getShallow("symbol",!0)),e=a(b.getShallow("symbolSize",!0)),b=b.get("lineStyle.normal.color");switch(b){case "source":b=d.node1.getVisual("color");break;case "target":b=d.node2.getVisual("color")}c[0]&&d.setVisual("fromSymbol",c[0]);c[1]&&d.setVisual("toSymbol",c[1]);e[0]&&d.setVisual("fromSymbolSize",e[0]);e[1]&&d.setVisual("toSymbolSize",e[1]);d.setVisual("color",b)})})}},function(r,p,a){var l=a(208),n=a(209);r.exports=function(a,h){a.eachSeriesByType("graph",function(a){var e=a.get("layout"),d=a.coordinateSystem;if(d&&"view"!==d.type){var b=a.getData();b.each(d.dimensions,function(a,e,f){isNaN(a)||isNaN(e)?b.setItemLayout(f,[NaN,NaN]):b.setItemLayout(f,d.dataToPoint([a,e]))});n(b.graph)}else e&&"none"!==e||l(a)})}},function(r,p,a){var l=a(209);r.exports=function(a){var k=a.coordinateSystem;k&&"view"!==k.type||(a=a.getGraph(),a.eachNode(function(a){var f=a.getModel();a.setLayout([+f.get("x"),+f.get("y")])}),l(a))}},function(r,p,a){var l=a(10);r.exports=function(a){a.eachEdge(function(a){var h=a.getModel().get("lineStyle.normal.curveness")||0,f=l.clone(a.node1.getLayout()),e=l.clone(a.node2.getLayout()),d=[f,e];0<h&&d.push([(f[0]+e[0])/2-(f[1]-e[1])*h,(f[1]+e[1])/2-(e[0]-f[0])*h]);a.setLayout(d)})}},function(r,p,a){var l=a(211);r.exports=function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&l(a)})}},function(r,p,a){var l=a(10);r.exports=function(a){var k=a.coordinateSystem;if(!k||"view"===k.type){k=k.getBoundingRect();a=a.getData();var h=a.graph,f=0,e=a.getSum("value"),d=2*Math.PI/(e||a.count()),b=k.width/2+k.x,c=k.height/2+k.y,q=Math.min(k.width,k.height)/2;h.eachNode(function(a){var g=a.getValue("value");f+=d*(e?g:2)/2;a.setLayout([q*Math.cos(f)+b,q*Math.sin(f)+c]);f+=d*(e?g:2)/2});h.eachEdge(function(a){var d=a.getModel().get("lineStyle.normal.curveness")||0,e=l.clone(a.node1.getLayout()),f=l.clone(a.node2.getLayout()),m,h=(e[0]+f[0])/2,q=(e[1]+f[1])/2;0<d&&(d*=3,m=[b*d+h*(1-d),c*d+q*(1-d)]);a.setLayout([e,f,m])})}}},function(r,p,a){var l=a(213),n=a(7),k=a(208),h=a(211),f=a(10);r.exports=function(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var c=a.preservedPoints||{},d=a.getGraph(),e=d.data,g=d.edgeData,t=a.getModel("force"),b=t.get("initLayout");a.preservedPoints?e.each(function(a){var b=e.getId(a);e.setItemLayout(a,c[b]||[NaN,NaN])}):b&&"none"!==b?"circular"===b&&h(a):k(a);var p=e.getDataExtent("value"),u=t.get("repulsion"),x=t.get("edgeLength"),r=e.mapArray("value",function(a,b){var c=e.getItemLayout(b),d=n.linearMap(a,p,[0,u])||u/2;return{w:d,rep:d,p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),g=g.mapArray("value",function(a,b){var c=d.getEdgeByIndex(b);return{n1:r[c.node1.dataIndex],n2:r[c.node2.dataIndex],d:x,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),b=a.coordinateSystem,b=b.getBoundingRect(),t=l(r,g,{rect:b,gravity:t.get("gravity")}),z=t.step;t.step=function(a){for(var b=0,g=r.length;b<g;b++)r[b].fixed&&f.copy(r[b].p,d.getNodeByIndex(b).getLayout());z(function(b,g,m){for(var h=0,q=b.length;h<q;h++)b[h].fixed||d.getNodeByIndex(h).setLayout(b[h].p),c[e.getId(h)]=b[h].p;h=0;for(q=g.length;h<q;h++){b=g[h];var k=d.getEdgeByIndex(h),l=b.n1.p,t=b.n2.p,n=k.getLayout(),n=n?n.slice():[];n[0]=n[0]||[];n[1]=n[1]||[];f.copy(n[0],l);f.copy(n[1],t);0<b.curveness&&(n[2]=[(l[0]+t[0])/2-(l[1]-t[1])*b.curveness,(l[1]+t[1])/2-(t[0]-l[0])*b.curveness]);k.setLayout(n)}a&&a(m)})};a.forceLayout=t;a.preservedPoints=c;t.step()}else a.forceLayout=null})}},function(r,p,a){var l=a(10),n=l.scaleAndAdd;r.exports=function(a,h,f){var e=f.rect,d=e.width,b=e.height,c=[e.x+d/2,e.y+b/2],q=null==f.gravity?.1:f.gravity;for(f=0;f<a.length;f++)e=a[f],e.p||(e.p=l.create(d*(Math.random()-.5)+c[0],b*(Math.random()-.5)+c[1])),e.pp=l.clone(e.p),e.edges=null;var m=.6;return{warmUp:function(){m=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(b){for(var d=[],e=a.length,g=0;g<h.length;g++){var f=h[g],k=f.n1,p=f.n2;l.sub(d,p.p,k.p);var f=l.len(d)-f.d,r=p.w/(k.w+p.w);l.normalize(d,d);!k.fixed&&n(k.p,k.p,d,r*f*m);!p.fixed&&n(p.p,p.p,d,-(1-r)*f*m)}for(g=0;g<e;g++)k=a[g],k.fixed||(l.sub(d,c,k.p),l.scaleAndAdd(k.p,k.p,d,q*m));for(g=0;g<e;g++)for(k=a[g],r=g+1;r<e;r++)p=a[r],l.sub(d,p.p,k.p),f=l.len(d),0===f&&(l.set(d,Math.random()-.5,Math.random()-.5),f=1),f=(k.rep+p.rep)/f/f,!k.fixed&&n(k.pp,k.pp,d,f),!p.fixed&&n(p.pp,p.pp,d,-f);d=[];for(g=0;g<e;g++)k=a[g],k.fixed||(l.sub(d,k.p,k.pp),l.scaleAndAdd(k.p,k.p,d,m),l.copy(k.pp,k.p));m*=.992;b&&b(a,h,.01>m)}}}},function(r,p,a){function l(a,e,d){a=a.getBoxLayoutParams();a.aspect=d;return k.getLayoutRect(a,{width:e.getWidth(),height:e.getHeight()})}var n=a(168),k=a(21),h=a(51);r.exports=function(a,e){var d=[];a.eachSeriesByType("graph",function(a){var b=a.get("coordinateSystem");if(!b||"view"===b){var f=new n;d.push(f);var m=a.getData(),g=m.mapArray(function(a){a=m.getItemModel(a);return[+a.get("x"),+a.get("y")]}),b=[],f=[];h.fromPoints(g,b,f);0===f[0]-b[0]&&(f[0]+=1,--b[0]);0===f[1]-b[1]&&(f[1]+=1,--b[1]);var k=(f[0]-b[0])/(f[1]-b[1]),g=l(a,e,k);isNaN(k)&&(b=[g.x,g.y],f=[g.x+g.width,g.y+g.height]);var k=f[0]-b[0],p=f[1]-b[1],r=g.width,x=g.height,f=a.coordinateSystem=new n;f.zoomLimit=a.get("scaleLimit");f.setBoundingRect(b[0],b[1],k,p);f.setViewRect(g.x,g.y,r,x);f.setCenter(a.get("center"));f.setZoom(a.get("zoom"))}});return d}},function(r,p,a){a(216);a(217)},function(r,p,a){var l=a(97);p=a(28);var n=a(4);a=p.extend({type:"series.gauge",getInitialData:function(a,h){var f=new l(["value"],this),e=a.data||[];n.isArray(e)||(e=[e]);f.initData(e);return f},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});r.exports=a},function(r,p,a){function l(a,b){b&&("string"===typeof b?a=b.replace("{value}",a):"function"===typeof b&&(a=b(a)));return a}var n=a(218),k=a(43),h=a(7),f=h.parsePercent,e=2*Math.PI;p=a(42).extend({type:"gauge",render:function(a,b,c){this.group.removeAll();var d=a.get("axisLine.lineStyle.color"),e=a.get("center"),g=c.getWidth(),h=c.getHeight(),h=Math.min(g,h),g=f(e[0],c.getWidth()),e=f(e[1],c.getHeight()),h=f(a.get("radius"),h/2);this._renderMain(a,b,c,d,{cx:g,cy:e,r:h})},_renderMain:function(a,b,c,f,m){for(var d=this.group,h=a.getModel("axisLine").getModel("lineStyle"),q=a.get("clockwise"),l=-a.get("startAngle")/180*Math.PI,n=-a.get("endAngle")/180*Math.PI,p=(n-l)%e,r=l,A=h.get("width"),y=0;y<f.length;y++)n=l+p*Math.min(Math.max(f[y][0],0),1),r=new k.Sector({shape:{startAngle:r,endAngle:n,cx:m.cx,cy:m.cy,clockwise:q,r0:m.r-A,r:m.r},silent:!0}),r.setStyle({fill:f[y][1]}),r.setStyle(h.getLineStyle(["color","borderWidth","borderColor"])),d.add(r),r=n;d=function(a){if(0>=a)return f[0][1];for(var b=0;b<f.length;b++)if(f[b][0]>=a&&(0===b?0:f[b-1][0])<a)return f[b][1];return f[b-1][1]};q||(h=l,l=n,n=h);this._renderTicks(a,b,c,d,m,l,n,q);this._renderPointer(a,b,c,d,m,l,n,q);this._renderTitle(a,b,c,d,m);this._renderDetail(a,b,c,d,m)},_renderTicks:function(a,b,c,e,m,g,t,n){b=this.group;c=m.cx;n=m.cy;m=m.r;var d=a.get("min"),q=a.get("max"),p=a.getModel("splitLine"),r=a.getModel("axisTick"),w=a.getModel("axisLabel");a=a.get("splitNumber");var y=r.get("splitNumber"),B=f(p.get("length"),m),J=f(r.get("length"),m),F=g;g=(t-g)/a;t=g/y;for(var K=p.getModel("lineStyle").getLineStyle(),D=r.getModel("lineStyle").getLineStyle(),N=w.getModel("textStyle"),I=0;I<=a;I++){var E=Math.cos(F),L=Math.sin(F);if(p.get("show")){var G=new k.Line({shape:{x1:E*m+c,y1:L*m+n,x2:E*(m-B)+c,y2:L*(m-B)+n},style:K,silent:!0});"auto"===K.stroke&&G.setStyle({stroke:e(I/a)});b.add(G)}if(w.get("show")){var G=l(h.round(I/a*(q-d)+d),w.get("formatter")),H=w.get("distance"),E=new k.Text({style:{text:G,x:E*(m-B-H)+c,y:L*(m-B-H)+n,fill:N.getTextColor(),textFont:N.getFont(),textVerticalAlign:-.4>L?"top":.4<L?"bottom":"middle",textAlign:-.4>E?"left":.4<E?"right":"center"},silent:!0});"auto"===E.style.fill&&E.setStyle({fill:e(I/a)});b.add(E)}if(r.get("show")&&I!==a){for(G=0;G<=y;G++)E=Math.cos(F),L=Math.sin(F),E=new k.Line({shape:{x1:E*m+c,y1:L*m+n,x2:E*(m-J)+c,y2:L*(m-J)+n},silent:!0,style:D}),"auto"===D.stroke&&E.setStyle({stroke:e((I+G/y)/a)}),b.add(E),F+=t;F-=t}else F+=g}},_renderPointer:function(a,b,c,e,m,g,l,p){var d=[+a.get("min"),+a.get("max")],q=[g,l];p||(q=q.reverse());var t=a.getData(),r=this._data,w=this.group;t.diff(r).add(function(b){var c=new n({shape:{angle:g}});k.updateProps(c,{shape:{angle:h.linearMap(t.get("value",b),d,q,!0)}},a);w.add(c);t.setItemGraphicEl(b,c)}).update(function(b,c){var e=r.getItemGraphicEl(c);k.updateProps(e,{shape:{angle:h.linearMap(t.get("value",b),d,q,!0)}},a);w.add(e);t.setItemGraphicEl(b,e)}).remove(function(a){a=r.getItemGraphicEl(a);w.remove(a)}).execute();t.eachItemGraphicEl(function(a,b){var c=t.getItemModel(b),g=c.getModel("pointer");a.setShape({x:m.cx,y:m.cy,width:f(g.get("width"),m.r),r:f(g.get("length"),m.r)});a.useStyle(c.getModel("itemStyle.normal").getItemStyle());"auto"===a.style.fill&&a.setStyle("fill",e((t.get("value",b)-d[0])/(d[1]-d[0])));k.setHoverStyle(a,c.getModel("itemStyle.emphasis").getItemStyle())});this._data=t},_renderTitle:function(a,b,c,e,m){c=a.getModel("title");c.get("show")&&(b=c.getModel("textStyle"),e=c.get("offsetCenter"),c=m.cx+f(e[0],m.r),m=m.cy+f(e[1],m.r),a=new k.Text({style:{x:c,y:m,text:a.getData().getName(0),fill:b.getTextColor(),textFont:b.getFont(),textAlign:"center",textVerticalAlign:"middle"}}),this.group.add(a))},_renderDetail:function(a,b,c,e,m){b=a.getModel("detail");c=a.get("min");var d=a.get("max");if(b.get("show")){var q=b.getModel("textStyle"),n=b.get("offsetCenter"),p=m.cx+f(n[0],m.r),n=m.cy+f(n[1],m.r),r=f(b.get("width"),m.r);m=f(b.get("height"),m.r);a=a.getData().get("value",0);m=new k.Rect({shape:{x:p-r/2,y:n-m/2,width:r,height:m},style:{text:l(a,b.get("formatter")),fill:b.get("backgroundColor"),textFill:q.getTextColor(),textFont:q.getFont()}});"auto"===m.style.textFill&&m.setStyle("textFill",e(h.linearMap(a,[c,d],[0,1],!0)));m.setStyle(b.getItemStyle(["color"]));this.group.add(m)}}});r.exports=p},function(r,p,a){r.exports=a(45).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,n){var k=Math.cos,h=Math.sin,f=n.r,e=n.width,d=n.angle,b=n.x-k(d)*e*(e>=f/3?1:2),c=n.y-h(d)*e*(e>=f/3?1:2),d=n.angle-Math.PI/2;a.moveTo(b,c);a.lineTo(n.x+k(d)*e,n.y+h(d)*e);a.lineTo(n.x+k(n.angle)*f,n.y+h(n.angle)*f);a.lineTo(n.x-k(d)*e,n.y-h(d)*e);a.lineTo(b,c)}})},function(r,p,a){r=a(4);p=a(1);a(220);a(221);p.registerVisual(r.curry(a(143),"funnel"));p.registerLayout(a(222));p.registerProcessor(r.curry(a(146),"funnel"))},function(r,p,a){var l=a(97),n=a(5),k=a(102),h=a(1).extendSeriesModel({type:"series.funnel",init:function(a){h.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this._defaultLabelLine(a)},getInitialData:function(a,e){var d=k(["value"],a.data),d=new l(d,this);d.initData(a.data);return d},_defaultLabelLine:function(a){n.defaultEmphasis(a.labelLine,["show"]);var e=a.labelLine.normal,d=a.labelLine.emphasis;e.show=e.show&&a.label.normal.show;d.show=d.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"none",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});r.exports=h},function(r,p,a){function l(a,d){function b(){f.ignore=f.hoverIgnore;g.ignore=g.hoverIgnore}function c(){f.ignore=f.normalIgnore;g.ignore=g.normalIgnore}k.Group.call(this);var e=new k.Polygon,f=new k.Polyline,g=new k.Text;this.add(e);this.add(f);this.add(g);this.updateData(a,d,!0);this.on("emphasis",b).on("normal",c).on("mouseover",b).on("mouseout",c)}function n(a,d,b,c){var e=c.getModel("textStyle");c=c.get("position");c="inside"===c||"inner"===c||"center"===c;return{fill:e.getTextColor()||(c?"#fff":a.getItemVisual(d,"color")),textFont:e.getFont(),text:h.retrieve(a.hostModel.getFormattedLabel(d,b),a.getName(d))}}var k=a(43),h=a(4);p=l.prototype;var f=["itemStyle","normal","opacity"];p.updateData=function(a,d,b){var c=this.childAt(0),e=a.hostModel,m=a.getItemModel(d),g=a.getItemLayout(d),l=a.getItemModel(d).get(f),l=null==l?1:l;c.useStyle({});b?(c.setShape({points:g.points}),c.setStyle({opacity:0}),k.initProps(c,{style:{opacity:l}},e,d)):k.updateProps(c,{style:{opacity:l},shape:{points:g.points}},e,d);b=m.getModel("itemStyle");e=a.getItemVisual(d,"color");c.setStyle(h.defaults({lineJoin:"round",fill:e},b.getModel("normal").getItemStyle(["opacity"])));c.hoverStyle=b.getModel("emphasis").getItemStyle();this._updateLabel(a,d);k.setHoverStyle(this)};p._updateLabel=function(a,d){var b=this.childAt(1),c=this.childAt(2),e=a.hostModel,f=a.getItemModel(d),g=a.getItemLayout(d).label,h=a.getItemVisual(d,"color");k.updateProps(b,{shape:{points:g.linePoints||g.linePoints}},e,d);k.updateProps(c,{style:{x:g.x,y:g.y}},e,d);c.attr({style:{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,textFont:g.font},rotation:g.rotation,origin:[g.x,g.y],z2:10});var e=f.getModel("label.normal"),g=f.getModel("label.emphasis"),l=f.getModel("labelLine.normal"),f=f.getModel("labelLine.emphasis");c.setStyle(n(a,d,"normal",e));c.ignore=c.normalIgnore=!e.get("show");c.hoverIgnore=!g.get("show");b.ignore=b.normalIgnore=!l.get("show");b.hoverIgnore=!f.get("show");b.setStyle({stroke:h});b.setStyle(l.getModel("lineStyle").getLineStyle());c.hoverStyle=n(a,d,"emphasis",g);b.hoverStyle=f.getModel("lineStyle").getLineStyle()};h.inherits(l,k.Group);a=a(42).extend({type:"funnel",render:function(a,d,b){var c=a.getData(),e=this._data,f=this.group;c.diff(e).add(function(a){var b=new l(c,a);c.setItemGraphicEl(a,b);f.add(b)}).update(function(a,b){var d=e.getItemGraphicEl(b);d.updateData(c,a);f.add(d);c.setItemGraphicEl(a,d)}).remove(function(a){a=e.getItemGraphicEl(a);f.remove(a)}).execute();this._data=c},remove:function(){this.group.removeAll();this._data=null}});r.exports=a},function(r,p,a){function l(a,b){return h.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function n(a,b){for(var c=a.mapArray("value",function(a){return a}),d=[],e="ascending"===b,g=0,f=a.count();g<f;g++)d[g]=g;if("none"==b)return d;d.sort(function(a,b){return e?c[a]-c[b]:c[b]-c[a]});return d}function k(a){a.each(function(b){var c=a.getItemModel(b),d=c.getModel("label.normal").get("position"),e=c.getModel("labelLine.normal");b=a.getItemLayout(b);var g=b.points,c="inner"===d||"inside"===d||"center"===d,f;if(c)d=(g[0][0]+g[1][0]+g[2][0]+g[3][0])/4,f=(g[0][1]+g[1][1]+g[2][1]+g[3][1])/4,g="center",e=[[d,f],[d,f]];else{var h,k=e.get("length");"left"===d?(e=(g[3][0]+g[0][0])/2,f=(g[3][1]+g[0][1])/2,h=e-k,d=h-5,g="right"):(e=(g[1][0]+g[2][0])/2,f=(g[1][1]+g[2][1])/2,h=e+k,d=h+5,g="left");k=f;e=[[e,f],[h,k]];f=k}b.label={linePoints:e,x:d,y:f,verticalAlign:"middle",textAlign:g,inside:c}})}var h=a(21),f=a(7),e=f.parsePercent;r.exports=function(a,b,c){a.eachSeriesByType("funnel",function(a){var c=a.getData(),d=a.get("sort"),h=l(a,b),q=n(c,d),p=[e(a.get("minSize"),h.width),e(a.get("maxSize"),h.width)],r=c.getDataExtent("value"),v=a.get("min"),z=a.get("max");null==v&&(v=Math.min(r[0],0));null==z&&(z=r[1]);var A=a.get("funnelAlign");a=a.get("gap");var r=(h.height-a*(c.count()-1))/c.count(),y=h.y,B=function(a,b){var d=c.get("value",a)||0,d=f.linearMap(d,[v,z],p,!0),e;switch(A){case "left":e=h.x;break;case "center":e=h.x+(h.width-d)/2;break;case "right":e=h.x+h.width-d}return[[e,b],[e+d,b]]};"ascending"===d&&(r=-r,a=-a,y+=h.height,q=q.reverse());for(d=0;d<q.length;d++){var J=q[d],F=q[d+1],K=B(J,y),F=B(F,y+r),y=y+(r+a);c.setItemLayout(J,{points:K.concat(F.slice().reverse())})}k(c)})}},function(r,p,a){r=a(1);a(224);a(235);a(236);r.registerVisual(a(237))},function(r,p,a){a(225);a(228);a(230);r=a(1);var l=a(4);r.extendComponentView({type:"parallel",render:function(a,k,h){k=h.getZr();if(!this.__onMouseDown){var f;k.on("mousedown",this.__onMouseDown=function(a){f=[a.offsetX,a.offsetY]});k.on("mouseup",this.__onMouseUp=function(e){e=[e.offsetX,e.offsetY];var d=Math.pow(f[0]-e[0],2)+Math.pow(f[1]-e[1],2);a.get("axisExpandable")&&!(5<d)&&(d=a.coordinateSystem,e=d.findClosestAxisDim(e))&&(e=l.indexOf(d.dimensions,e),h.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:e}))})}},dispose:function(a,k){k.getZr().off(this.__onMouseDown);k.getZr().off(this.__onMouseUp)}});r.registerPreprocessor(a(234))},function(r,p,a){var l=a(226);a(26).register("parallel",{create:function(a,k){var h=[];a.eachComponent("parallel",function(f,e){var d=new l(f,a,k);d.name="parallel_"+e;d.resize(f,k);f.coordinateSystem=d;d.model=f;h.push(d)});a.eachSeries(function(a){if("parallel"===a.get("coordinateSystem")){var e=a.get("parallelIndex");a.coordinateSystem=h[e]}});return h}})},function(r,p,a){function l(a,b,c){this._axesMap={};this._axesLayout={};this.dimensions=a.dimensions;this._model=a;this._init(a,b,c)}var n=a(21),k=a(114),h=a(4),f=a(227),e=a(43),d=a(11),b=h.each,c=Math.PI;l.prototype={type:"parallel",constructor:l,_init:function(a,c,d){var e=a.parallelAxisIndex;b(a.dimensions,function(a,b){var d=e[b],g=c.getComponent("parallelAxis",d),d=this._axesMap[a]=new f(a,k.createScaleByModel(g),[0,0],g.get("type"),d);d.onBand="category"===d.type&&g.get("boundaryGap");d.inverse=g.get("inverse");g.axis=d;d.model=g},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},_updateAxesFromSeries:function(a,c){c.eachSeries(function(d){if(a.contains(d,c)){var e=d.getData();b(this.dimensions,function(a){var b=this._axesMap[a];b.scale.unionExtent(e.getDataExtent(a));k.niceScaleExtent(b,b.model)},this)}},this)},resize:function(a,b){this._rect=n.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._layoutAxes(a)},getRect:function(){return this._rect},_layoutAxes:function(a){var e=this._rect,g=a.get("layout"),f=this.dimensions,h=[e.width,e.height],k="horizontal"===g?0:1,q=h[k],l=h[1-k],n=[0,l];b(this._axesMap,function(a){var b=a.inverse?1:0;a.setExtent(n[b],n[1-b])});var h=a.get("axisExpandable"),p=a.get("axisExpandWidth"),k=a.get("axisExpandCenter");a=a.get("axisExpandCount")||0;var r;if(null!=k){var k=Math.max(0,Math.floor(k-(a-1)/2)),B=k+a-1;B>=f.length&&(B=f.length-1,k=Math.max(0,Math.floor(B-a+1)));r=[k,B]}var J=h&&r&&p?function(a,b,c){var d=r[1]-r[0],e=(b-p*d)/(c-1-d);return{position:a<r[0]?(a-1)*e:a<=r[1]?r[0]*e+(a-r[0])*p:a===c-1?b:r[0]*e+d*p+(a-r[1])*e,axisNameAvailableWidth:r[0]<a&&a<r[1]?p:e}}:function(a,b,c){b/=c-1;return{position:b*a,axisNameAvailableWidth:b}};b(f,function(a,b){var m=J(b,q,f.length),h={horizontal:{x:m.position,y:l},vertical:{x:0,y:m.position}},h=[h[g].x+e.x,h[g].y+e.y],k={horizontal:c/2,vertical:0}[g],t=d.create();d.rotate(t,t,k);d.translate(t,t,h);this._axesLayout[a]={position:h,rotation:k,transform:t,axisNameAvailableWidth:m.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:r}},this)},getAxis:function(a){return this._axesMap[a]},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap[b].dataToCoord(a),b)},eachActiveState:function(a,b,c){for(var d=this.dimensions,e=this._axesMap,g=this.hasAxisbrushed(),f=0,m=a.count();f<m;f++){var h=a.getValues(d,f),k;if(g){k="active";for(var q=0,l=d.length;q<l;q++)if("inactive"===e[d[q]].model.getActiveState(h[q],q)){k="inactive";break}}else k="normal";b.call(c,k,f)}},hasAxisbrushed:function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)"normal"!==b[a[d]].model.getActiveState()&&(c=!0);return c},axisCoordToPoint:function(a,b){return e.applyTransform([a,0],this._axesLayout[b].transform)},getAxisLayout:function(a){return h.clone(this._axesLayout[a])},findClosestAxisDim:function(a){var b,c=Infinity;h.each(this._axesLayout,function(d,g){var f=e.applyTransform(a,d.transform,!0),m=this._axesMap[g].getExtent();f[0]<m[0]||f[0]>m[1]||(f=Math.abs(f[1]),f<c&&(c=f,b=g))},this);return b}};r.exports=l},function(r,p,a){p=a(4);var l=a(123);a=function(a,k,h,f,e){l.call(this,a,k,h);this.type=f||"value";this.axisIndex=e};a.prototype={constructor:a,model:null};p.inherits(a,l);r.exports=a},function(r,p,a){var l=a(4),n=a(19);a(229);n.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){n.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(a){var h=this.option;a&&l.merge(h,a,!0);this._initDimensions()},contains:function(a,h){var f=a.get("parallelIndex");return null!=f&&h.getComponent("parallel",f)===this},setAxisExpand:function(a){l.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(h){a.hasOwnProperty(h)&&(this.option[h]=a[h])},this)},_initDimensions:function(){var a=this.dimensions=[],h=this.parallelAxisIndex=[],f=l.filter(this.dependentModels.parallelAxis,function(a){return a.get("parallelIndex")===this.componentIndex});l.each(f,function(e){a.push("dim"+e.get("dim"));h.push(e.componentIndex)})}})},function(r,p,a){var l=a(19),n=a(4),k=a(15);p=a(127);var h=a(7),l=l.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return k([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){if(a=this.activeIntervals=n.clone(a))for(var e=a.length-1;0<=e;e--)h.asc(a[e])},getActiveState:function(a){var e=this.activeIntervals;if(!e.length)return"normal";if(null==a)return"inactive";for(var d=0,b=e.length;d<b;d++)if(e[d][0]<=a&&a<=e[d][1])return"active";return"inactive"}});n.merge(l.prototype,a(129));p("parallel",l,function(a,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});r.exports=l},function(r,p,a){a(225);a(231);a(232)},function(r,p,a){r=a(1);r.registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(a,n){n.eachComponent({mainType:"parallelAxis",query:a},function(k){k.axis.model.setActiveIntervals(a.intervals)})});r.registerAction("parallelAxisExpand",function(a,n){n.eachComponent({mainType:"parallel",query:a},function(k){k.setAxisExpand(a)})})},function(r,p,a){var l=a(4),n=a(132),k=a(233),h=a(43),f=["axisLine","axisLabel","axisTick","axisName"],e=a(1).extendComponentView({type:"parallelAxis",init:function(a,b){e.superApply(this,"init",arguments);(this._brushController=new k(b.getZr())).on("brush",l.bind(this._onBrush,this))},render:function(a,b,c,e){if(!e||"axisAreaSelect"!==e.type||b.findComponents({mainType:"parallelAxis",query:e})[0]!==a)if(this.axisModel=a,this.api=c,this.group.removeAll(),c=this._axisGroup,this._axisGroup=new h.Group,this.group.add(this._axisGroup),a.get("show")){var d=b.getComponent("parallel",a.get("parallelIndex")).coordinateSystem;b=a.getAreaSelectStyle();e=b.width;var g=a.axis.dim,k=d.getAxisLayout(g),q,d=l.indexOf(d.dimensions,g);(g=k.axisExpandWindow)&&(d<=g[0]||d>=g[1])&&(q=!1);q=l.extend({axisLabelShow:q,strokeContainThreshold:e},k);k=new n(a,q);l.each(f,k.add,k);this._axisGroup.add(k.getGroup());this._refreshBrushController(q,b,a,e);h.groupTransition(c,this._axisGroup,a)}},_refreshBrushController:function(a,b,c,e){var d=c.axis;c=l.map(c.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[d.dataToCoord(a[0],!0),d.dataToCoord(a[1],!0)]}});var g=d.getExtent();e={x:g[0]-30,y:-e/2,width:g[1]-g[0]+60,height:e};this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",rect:e}]).enableBrush({brushType:"lineX",brushStyle:b,removeOnClick:!0}).updateCovers(c)},_onBrush:function(a,b){var c=this.axisModel,d=c.axis,e=l.map(a,function(a){return[d.coordToData(a.range[0],!0),d.coordToData(a.range[1],!0)]});(!c.option.realtime===b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:e})},dispose:function(){this._brushController.dispose()}});r.exports=e},function(r,p,a){function l(a){C.assert(a);H.call(this);this._zr=a;this.group=new M.Group;this._track=[];this._covers=[];this._mounted;this._uid="brushController_"+U++;this._handlers={};O(ca,function(a,b){this._handlers[b]=C.bind(a,this)},this)}function n(a,b){var c=a._zr;a._enableGlobalPan||S.take(c,"globalPan",a._uid);O(a._handlers,function(a,b){c.on(b,a)});a._brushType=b.brushType;a._brushOption=C.merge(C.clone(Z),b,!0)}function k(a){var b=a._zr;S.release(b,"globalPan",a._uid);O(a._handlers,function(a,c){b.off(c,a)});a._brushType=a._brushOption=null}function h(a,b){var c=Y[b.brushType].createCover(a,b);e(c);c.__brushOption=b;a.group.add(c);return c}function f(a,b){var c=Y[b.__brushOption.brushType];c.endCreating&&(c.endCreating(a,b),e(b));return b}function e(a){a.traverse(function(a){a.z=1E4;a.z2=1E4})}function d(a,b){Y[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;Y[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function b(a,b,c){a=a._panels;if(!a)return!0;var d;O(a,function(a){a.contain(b,c)&&(d=a)});return d}function c(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null!=d?c[d]:!0}function q(a){var b=a._covers,c=b.length;O(b,function(b){a.group.remove(b)},a);b.length=0;return!!c}function m(a,b){var c=T(a._covers,function(a){a=a.__brushOption;var b=C.clone(a.range);return{brushType:a.brushType,panelId:a.panelId,range:b}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function g(a){var b=a.length-1;0>b&&(b=0);return[a[0],a[b]]}function t(a,b,c,d){var e=new M.Group;e.add(new M.Rect({name:"main",style:v(c),silent:!0,draggable:!0,cursor:"move",drift:R(a,b,e,"nswe"),ondragend:R(m,b,{isEnd:!0})}));O(d,function(c){e.add(new M.Rect({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:R(a,b,e,c),ondragend:R(m,b,{isEnd:!0})}))});return e}function w(a,b,c,d){var e=d.brushStyle.lineWidth||0,g=W(e,6),f=c[0][0],m=c[1][0],h=f-e/2,k=m-e/2,q=c[0][1],l=c[1][1];c=q-g+e/2;var t=l-g+e/2,q=q-f,l=l-m,n=q+e,e=l+e;x(a,b,"main",f,m,q,l);d.transformable&&(x(a,b,"w",h,k,g,e),x(a,b,"e",c,k,g,e),x(a,b,"n",h,k,n,g),x(a,b,"s",h,t,n,g),x(a,b,"nw",h,k,g,g),x(a,b,"ne",c,k,g,g),x(a,b,"sw",h,t,g,g),x(a,b,"se",c,t,g,g))}function u(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(v(c));e.attr({silent:!d,cursor:d?"move":"default"});O("w e n s se sw ne nw".split(" "),function(c){var e=b.childOfName(c);c=A(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?aa[c]+"-resize":null})})}function x(a,b,c,d,e,g,f){(c=b.childOfName(c))&&c.setShape(K(F(a,b,[[d,e],[d+g,e+f]])))}function v(a){return C.defaults({strokeNoScale:!0},a.brushStyle)}function z(a,b,c,d){var e=[Q(a,c),Q(b,d)];a=[W(a,c),W(b,d)];return[[e[0],a[0]],[e[1],a[1]]]}function A(a,b){if(1<b.length){b=b.split("");var c=[A(a,b[0]),A(a,b[1])];"e"!==c[0]&&"w"!==c[0]||c.reverse();return c.join("")}c=M.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[b],M.getTransform(a.group));return{left:"w",right:"e",top:"n",bottom:"s"}[c]}function y(a,b,c,e,g,f,h,k){k=e.__brushOption;var q=a(k.range),l=J(c,f,h);O(g.split(""),function(a){a=X[a];q[a[0]][a[1]]+=l[a[0]]});k.range=b(z(q[0][0],q[1][0],q[0][1],q[1][1]));d(c,e);m(c,{isEnd:!1})}function B(a,b,c,e,g){g=b.__brushOption.range;var f=J(a,c,e);O(g,function(a){a[0]+=f[0];a[1]+=f[1]});d(a,b);m(a,{isEnd:!1})}function J(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function F(a,b,d){a=c(a,b);if(!0===a)return C.clone(d);var e=a.getBoundingRect();return C.map(d,function(a){var b=a[0],b=W(b,e.x),b=Q(b,e.x+e.width);a=a[1];a=W(a,e.y);a=Q(a,e.y+e.height);return[b,a]})}function K(a){var b=Q(a[0][0],a[1][0]),c=Q(a[0][1],a[1][1]),d=W(a[0][0],a[1][0]);a=W(a[0][1],a[1][1]);return{x:b,y:c,width:d-b,height:a-c}}function D(a,b){var c=b.offsetX,d=b.offsetY,e=a._zr;if(a._brushType){for(var g=a._panels,f=a._covers,m,h=0;h<f.length;h++)if(Y[f[h].__brushOption.brushType].contain(f[h],c,d)){m=!0;break}m||(g?O(g,function(a){a.contain(c,d)&&e.setCursorStyle("crosshair")}):e.setCursorStyle("crosshair"))}}function N(a){a=a.event;a.preventDefault&&a.preventDefault()}function I(a,b,c){return a.childOfName("main").contain(b,c)}function E(a,c,d){var e=c.offsetX,g=c.offsetY;c=a._creatingCover;var m=a._creatingPanel,k=a._brushOption,l;a._track.push(a.group.transformCoordToLocal(e,g));var t;var n=a._track;if(n.length){t=n[n.length-1];var p=n[0],n=t[0]-p[0];t=t[1]-p[1];t=6<V(n*n+t*t,.5)}else t=!1;t||c?(m&&!c&&("single"===k.brushMode&&q(a),e=C.clone(k),e.panelId=!0===m?null:m.__brushPanelId,c=a._creatingCover=h(a,e),a._covers.push(c)),c&&(l=Y[a._brushType],c.__brushOption.range=l.getCreatingRange(F(a,c,a._track)),d&&(f(a,c),l.updateCommon(a,c)),l=c,e=l.__brushOption,Y[l.__brushOption.brushType].updateCoverShape(a,l,e.range,e),l={isEnd:d})):d&&"single"===k.brushMode&&k.removeOnClick&&b(a,e,g)&&q(a)&&(l={isEnd:d,removeOnClick:!0});return l}function L(a){this._dragging&&(N(a),a=E(this,a,!0),this._dragging=!1,this._track=[],this._creatingCover=null,a&&m(this,a))}function G(a){return{createCover:function(b,c){return t(R(y,function(b){b=[b,[0,100]];a&&b.reverse();return b},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=g(b);b=Q(c[0][a],c[1][a]);c=W(c[0][a],c[1][a]);return[b,c]},updateCoverShape:function(b,d,e,g){var f=g.brushStyle.width;if(null==f){var m=c(b,d),h=0;!0!==m&&(m=m.getBoundingRect(),f=a?m.width:m.height,h=a?m.x:m.y);f=[h,h+(f||0)]}else f=[-f/2,f/2];e=[e,f];a&&e.reverse();w(b,d,e,g)},updateCommon:u,contain:I}}var H=a(33),C=a(4),M=a(43),S=a(175),P=a(98),R=C.curry,O=C.each,T=C.map,Q=Math.min,W=Math.max,V=Math.pow,X={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},aa={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Z={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},U=0;l.prototype={constructor:l,enableBrush:function(a){C.assert(this._mounted);this._brushType&&k(this);a.brushType&&n(this,a);return this},setPanels:function(a){var b=this._panels||{},c=this._panels=a&&a.length&&{},d=this.group;c&&O(a,function(a){var e=a.panelId,g=b[e];g||(g=new M.Rect({silent:!0,invisible:!0}),d.add(g));g.attr("shape",a.rect);g.__brushPanelId=e;c[e]=g;b[e]=null});O(b,function(a){a&&d.remove(a)});return this},mount:function(a){a=a||{};this._mounted=!0;this._enableGlobalPan=a.enableGlobalPan;var b=this.group;this._zr.add(b);b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]});return this},eachCover:function(a,b){O(this._covers,a,b)},updateCovers:function(a){function b(a,b){return(null!=a.id?a.id:"\x00-brush-index-"+b)+"-"+a.brushType}function c(b,c){var q=a[b];null!=c&&e[c]===k?g[b]=e[c]:(q=g[b]=null!=c?(e[c].__brushOption=q,e[c]):f(m,h(m,q)),d(m,q))}C.assert(this._mounted);a=C.map(a,function(a){return C.merge(C.clone(Z),a,!0)});var e=this._covers,g=this._covers=[],m=this,k=this._creatingCover;(new P(e,a,function(a,c){return b(a.__brushOption,c)},b)).add(c).update(c).remove(function(a){e[a]!==k&&m.group.remove(e[a])}).execute();return this},unmount:function(){this.enableBrush(!1);q(this);this._zr.remove(this.group);this._mounted=!1;return this},dispose:function(){this.unmount();this.off()}};C.mixin(l,H);var ca={mousedown:function(a){if(this._dragging)L.call(this,a);else if(!a.target||!a.target.draggable){N(a);var c=a.offsetX;a=a.offsetY;this._creatingCover=null;if(this._creatingPanel=b(this,c,a))this._dragging=!0,this._track=[this.group.transformCoordToLocal(c,a)]}},mousemove:function(a){D(this,a);this._dragging&&(N(a),(a=E(this,a,!1))&&m(this,a))},mouseup:L},Y={lineX:G(0),lineY:G(1),rect:{createCover:function(a,b){return t(R(y,function(a){return a},function(a){return a}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=g(a);return z(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){w(a,b,c,d)},updateCommon:u,contain:I},polygon:{createCover:function(a,b){var c=new M.Group;c.add(new M.Polyline({name:"main",style:v(b),silent:!0}));return c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0));b.add(new M.Polygon({name:"main",draggable:!0,drift:R(B,a,b),ondragend:R(m,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:F(a,b,c)})},updateCommon:u,contain:I}};r.exports=l},function(r,p,a){function l(a){if(!a.parallel){var e=!1;k.each(a.series,function(a){a&&"parallel"===a.type&&(e=!0)});e&&(a.parallel=[{}])}}function n(a){var e=h.normalizeToArray(a.parallelAxis);k.each(e,function(d){if(k.isObject(d)){var b=d.parallelIndex||0;(b=h.normalizeToArray(a.parallel)[b])&&b.parallelAxisDefault&&k.merge(d,b.parallelAxisDefault,!1)}})}var k=a(4),h=a(5);r.exports=function(a){l(a);n(a)}},function(r,p,a){function l(a,d,b){var c=a.get("data"),e=+d.replace("dim","");c&&c.length&&h.each(b,function(a){if(a){var b=h.indexOf(c,a[e]);a[e]=0<=b?b:NaN}})}function n(a,d){var b=0;h.each(a,function(a){a=+a.replace("dim","");a>b&&(b=a)});var c=d[0];c&&c.length-1>b&&(b=c.length-1);for(var c=[],e=0;e<=b;e++)c.push("dim"+e);return c}var k=a(97),h=a(4);p=a(28);var f=a(102);r.exports=p.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(a,d){var b=d.getComponent("parallel",this.get("parallelIndex")),c=b.parallelAxisIndex,e=a.data,m=b.dimensions,b=n(m,e),b=h.map(b,function(a,b){var g=h.indexOf(m,a),k=0<=g&&d.getComponent("parallelAxis",c[g]);return k&&"category"===k.get("type")?(l(k,a,e),{name:a,type:"ordinal"}):0>g?f.guessOrdinal(e,b)?{name:a,type:"ordinal"}:a:a}),b=new k(b,this);b.initData(e);this.option.progressive&&(this.option.animation=!1);return b},getRawIndicesByActiveState:function(a){var d=this.coordinateSystem,b=this.getData(),c=[];d.eachActiveState(b,function(d,e){a===d&&c.push(b.getRawIndex(e))});return c},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(r,p,a){function l(a,d,b){var c=a.model;a=a.getRect();var e=new h.Rect({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),c="horizontal"===c.get("layout")?"width":"height";e.setShape(c,0);h.initProps(e,{shape:{width:a.width,height:a.height}},d,b);return e}function n(a,d,b,c){for(var e=[],f=0;f<b.length;f++){var g=b[f],h=a.get(g,d);("category"===c.getAxis(g).type?null==h:null==h||isNaN(h))||e.push(c.dataToPoint(h,g))}return e}function k(a,d){var b=a.hostModel.getModel("lineStyle.normal"),c=b.getLineStyle();a.eachItemGraphicEl(function(e,m){a.hasItemOption&&(c=a.getItemModel(m).getModel("lineStyle.normal",b).getLineStyle());e.useStyle(f.extend(c,{fill:null,stroke:a.getItemVisual(m,"color"),opacity:a.getItemVisual(m,"opacity")}));e.shape.smooth=d})}var h=a(43),f=a(4);p=a(42).extend({type:"parallel",init:function(){this._dataGroup=new h.Group;this.group.add(this._dataGroup)},render:function(a,d,b,c){this._renderForNormal(a)},_renderForNormal:function(a){var d=this._dataGroup,b=a.getData(),c=this._data,e=a.coordinateSystem,f=e.dimensions,g=a.option.smooth?.3:null;b.diff(c).add(function(a){var c=n(b,a,f,e),c=new h.Polyline({shape:{points:c},silent:!0,z2:10});d.add(c);b.setItemGraphicEl(a,c)}).update(function(d,g){var m=c.getItemGraphicEl(g),k=n(b,d,f,e);b.setItemGraphicEl(d,m);h.updateProps(m,{shape:{points:k}},a,d)}).remove(function(a){a=c.getItemGraphicEl(a);d.remove(a)}).execute();k(b,g);this._data||(g=l(e,a,function(){setTimeout(function(){d.removeClipPath()})}),d.setClipPath(g));this._data=b},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});r.exports=p},function(r,p){r.exports=function(a){a.eachSeriesByType("parallel",function(l){var n=l.getModel("itemStyle.normal"),k=l.getModel("lineStyle.normal"),h=a.get("color"),n=k.get("color")||n.get("color")||h[l.seriesIndex%h.length],k=l.get("inactiveOpacity"),h=l.get("activeOpacity"),f=l.getModel("lineStyle.normal").getLineStyle(),e=l.coordinateSystem,d=l.getData(),b={normal:f.opacity,active:h,inactive:k};e.eachActiveState(d,function(a,e){d.setItemVisual(e,"opacity",b[a])});d.setVisual("color",n)})}},function(r,p,a){r=a(1);a(239);a(240);r.registerLayout(a(241));r.registerVisual(a(243))},function(r,p,a){p=a(28);var l=a(196),n=p.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a,h){var f=a.edges||a.links,e=a.data||a.nodes;if(e&&f)return l(e,f,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(a,h,f){return"edge"===f?(a=this.getDataParams(a,f),h=a.data,h=h.source+" -- "+h.target,a.value&&(h+=" : "+a.value),h):n.superCall(this,"formatTooltip",a,h)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1E3}});r.exports=n},function(r,p,a){function l(a,e,d){var b=new n.Rect({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});n.initProps(b,{shape:{width:a.width+20,height:a.height+20}},e,d);return b}var n=a(43),k=a(4),h=n.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,e){var d=e.extent/2;a.moveTo(e.x1,e.y1-d);a.bezierCurveTo(e.cpx1,e.cpy1-d,e.cpx2,e.cpy2-d,e.x2,e.y2-d);a.lineTo(e.x2,e.y2+d);a.bezierCurveTo(e.cpx2,e.cpy2+d,e.cpx1,e.cpy1+d,e.x1,e.y1+d);a.closePath()}});r.exports=a(1).extendChartView({type:"sankey",_model:null,render:function(a,e,d){e=a.getGraph();var b=this.group;d=a.layoutInfo;var c=a.getData(),f=a.getData("edge");this._model=a;b.removeAll();b.position=[d.x,d.y];e.eachNode(function(d){var e=d.getLayout(),f=d.getModel(),m=f.getModel("label.normal"),h=m.getModel("textStyle"),q=f.getModel("label.emphasis"),l=q.getModel("textStyle"),e=new n.Rect({shape:{x:e.x,y:e.y,width:d.getLayout().dx,height:d.getLayout().dy},style:{text:m.get("show")?a.getFormattedLabel(d.dataIndex,"normal")||d.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:m.get("position")}});e.setStyle(k.defaults({fill:d.getVisual("color")},f.getModel("itemStyle.normal").getItemStyle()));n.setHoverStyle(e,k.extend(d.getModel("itemStyle.emphasis"),{text:q.get("show")?a.getFormattedLabel(d.dataIndex,"emphasis")||d.id:"",textFont:l.getFont(),textFill:l.getTextColor(),textPosition:q.get("position")}));b.add(e);c.setItemGraphicEl(d.dataIndex,e);e.dataType="node"});e.eachEdge(function(c){var d=new h;d.dataIndex=c.dataIndex;d.seriesIndex=a.seriesIndex;d.dataType="edge";var e=c.getModel("lineStyle.normal"),m=e.get("curveness"),k=c.node1.getLayout(),q=c.node2.getLayout(),l=c.getLayout();d.shape.extent=Math.max(1,l.dy);var p=k.x+k.dx,k=k.y+l.sy+l.dy/2,r=q.x,q=q.y+l.ty+l.dy/2;d.setShape({x1:p,y1:k,x2:r,y2:q,cpx1:p*(1-m)+r*m,cpy1:k,cpx2:p*m+r*(1-m),cpy2:q});d.setStyle(e.getItemStyle());switch(d.style.fill){case "source":d.style.fill=c.node1.getVisual("color");break;case "target":d.style.fill=c.node2.getVisual("color")}n.setHoverStyle(d,c.getModel("lineStyle.emphasis").getItemStyle());b.add(d);f.setItemGraphicEl(c.dataIndex,d)});!this._data&&a.get("animation")&&b.setClipPath(l(b.getBoundingRect(),a,function(){b.removeClipPath()}));this._data=a.getData()}})},function(r,p,a){function l(a,b){return B.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function n(a,b,c,d,g,m,k){for(var q=a,l,n=0;q.length;){l=[];for(var p=0,r=q.length;p<r;p++){var x=q[p];x.setLayout({x:n},!0);x.setLayout({dx:c},!0);for(var u=0,w=x.outEdges.length;u<w;u++)l.push(x.outEdges[u].node2)}q=l;++n}h(a,n);f(a,(g-c)/(n-1));e(a,b,m,d,k);t(a)}function k(a){F.each(a,function(a){var b=x(a.outEdges,y),c=x(a.inEdges,y);a.setLayout({value:Math.max(b,c)},!0)})}function h(a,b){F.each(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function f(a,b){F.each(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function e(a,e,g,f,h){var k=J().key(function(a){return a.getLayout().x}).sortKeys(A).entries(a).map(function(a){return a.values});d(a,k,e,g,f);b(k,f,g);for(a=1;0<h;h--)a*=.99,c(k,a),b(k,f,g),m(k,a),b(k,f,g)}function d(a,b,c,d,e){var g=[];F.each(b,function(a){var b=a.length,c=0;F.each(a,function(a){c+=a.getLayout().value});g.push((d-(b-1)*e)/c)});g.sort(function(a,b){return a-b});var f=g[0];F.each(b,function(a){F.each(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*f;a.setLayout({dy:c},!0)})});F.each(c,function(a){var b=+a.getValue()*f;a.setLayout({dy:b},!0)})}function b(a,b,c){F.each(a,function(a){var d,e;e=0;var g=a.length,f;a.sort(z);for(f=0;f<g;f++)d=a[f],e-=d.getLayout().y,0<e&&(e=d.getLayout().y+e,d.setLayout({y:e},!0)),e=d.getLayout().y+d.getLayout().dy+b;e=e-b-c;if(0<e)for(e=d.getLayout().y-e,d.setLayout({y:e},!0),e=d.getLayout().y,f=g-2;0<=f;--f)d=a[f],e=d.getLayout().y+d.getLayout().dy+b-e,0<e&&(e=d.getLayout().y-e,d.setLayout({y:e},!0)),e=d.getLayout().y})}function c(a,b){F.each(a.slice().reverse(),function(a){F.each(a,function(a){if(a.outEdges.length){var c=x(a.outEdges,q)/x(a.outEdges,y),c=a.getLayout().y+(c-v(a))*b;a.setLayout({y:c},!0)}})})}function q(a){return v(a.node2)*a.getValue()}function m(a,b){F.each(a,function(a){F.each(a,function(a){if(a.inEdges.length){var c=x(a.inEdges,g)/x(a.inEdges,y),c=a.getLayout().y+(c-v(a))*b;a.setLayout({y:c},!0)}})})}function g(a){return v(a.node1)*a.getValue()}function t(a){F.each(a,function(a){a.outEdges.sort(w);a.inEdges.sort(u)});F.each(a,function(a){var b=0,c=0;F.each(a.outEdges,function(a){a.setLayout({sy:b},!0);b+=a.getLayout().dy});F.each(a.inEdges,function(a){a.setLayout({ty:c},!0);c+=a.getLayout().dy})})}function w(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function u(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function x(a,b){var c=0,d=a.length,e,g=-1;if(1===arguments.length)for(;++g<d;)e=+a[g],isNaN(e)||(c+=e);else for(;++g<d;)e=+b.call(a,a[g],g),isNaN(e)||(c+=e);return c}function v(a){return a.getLayout().y+a.getLayout().dy/2}function z(a,b){return a.getLayout().y-b.getLayout().y}function A(a,b){return a<b?-1:a>b?1:a==b?0:NaN}function y(a){return a.getValue()}var B=a(21),J=a(242),F=a(4);r.exports=function(a,b,c){a.eachSeriesByType("sankey",function(a){var c=a.get("nodeWidth"),d=a.get("nodeGap"),e=l(a,b);a.layoutInfo=e;var g=e.width,e=e.height,f=a.getGraph(),m=f.nodes,f=f.edges;k(m);a=0!==m.filter(function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations");n(m,f,c,d,g,e,a)})}},function(r,p,a){var l=a(4);r.exports=function(){function a(e,d){if(d>=h.length)return e;for(var b=-1,c=e.length,f=h[d++],m={},g={};++b<c;){var k=f(e[b]),n=g[k];n?n.push(e[b]):g[k]=[e[b]]}l.each(g,function(b,c){m[c]=a(b,d)});return m}function k(a,d){if(d>=h.length)return a;var b=[],c=f[d++];l.each(a,function(a,c){b.push({key:c,values:k(a,d)})});return c?b.sort(function(a,b){return c(a.key,b.key)}):b}var h=[],f=[];return{key:function(a){h.push(a);return this},sortKeys:function(a){f[h.length-1]=a;return this},entries:function(e){return k(a(e,0),0)}}}},function(r,p,a){var l=a(192);r.exports=function(a,k){a.eachSeriesByType("sankey",function(a){var f=a.getGraph().nodes;f.sort(function(a,c){return a.getLayout().value-c.getLayout().value});var e=f[0].getLayout().value,d=f[f.length-1].getLayout().value;f.forEach(function(b){var c=(new l({type:"color",mappingMethod:"linear",dataExtent:[e,d],visual:a.get("color")})).mapValueToVisual(b.getLayout().value);b.setVisual("color",c);c=b.getModel().get("itemStyle.normal.color");null!=c&&b.setVisual("color",c)})})}},function(r,p,a){r=a(1);a(245);a(248);r.registerVisual(a(249));r.registerLayout(a(250))},function(r,p,a){p=a(4);var l=a(28);a=a(246);l=l.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});p.mixin(l,a.seriesModelMixin,!0);r.exports=l},function(r,p,a){var l=a(97),n=a(102),k=a(247),h=a(4);r.exports={seriesModelMixin:{_baseAxisDim:null,getInitialData:function(a,e){var d,b=e.getComponent("xAxis",this.get("xAxisIndex")),c=e.getComponent("yAxis",this.get("yAxisIndex")),f=b.get("type"),m=c.get("type"),g;"category"===f?(a.layout="horizontal",d=b.getCategories(),g=!0):"category"===m?(a.layout="vertical",d=c.getCategories(),g=!0):a.layout=a.layout||"horizontal";this._baseAxisDim="horizontal"===a.layout?"x":"y";b=a.data;c=this.dimensions=["base"].concat(this.valueDimensions);n(c,b);c=new l(c,this);c.initData(b,d?d.slice():null,function(a,b,c,d){a=null==a.value?a:a.value;return g?"base"===b?c:a[d-1]:a[d]});return c},coordDimToDataDim:function(a){var e=this.valueDimensions.slice(),d=["base"];return{horizontal:{x:d,y:e},vertical:{x:e,y:d}}[this.get("layout")][a]},dataDimToCoordDim:function(a){var e;h.each(["x","y"],function(d,b){var c=this.coordDimToDataDim(d);0<=h.indexOf(c,a)&&(e=d)},this);return e},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},viewMixin:{init:function(){var a=this._whiskerBoxDraw=new k(this.getStyleUpdater());this.group.add(a.group)},render:function(a,e,d){this._whiskerBoxDraw.updateData(a.getData())},remove:function(a){this._whiskerBoxDraw.remove()}}}},function(r,p,a){function l(a,c,d,f){e.Group.call(this);this.styleUpdater=d;this._createContent(a,c,f);this.updateData(a,c,f)}function n(a,c,d){return f.map(a,function(a){a=a.slice();a[c]=d.initBaseline;return a})}function k(a){var b={};f.each(a,function(a,c){b["ends"+c]=a});return b}function h(a){this.group=new e.Group;this.styleUpdater=a}var f=a(4),e=a(43),d=a(45).extend({type:"whiskerInBox",shape:{},buildPath:function(a,c){for(var b in c)if(0===b.indexOf("ends")){var d=c[b];a.moveTo(d[0][0],d[0][1]);a.lineTo(d[1][0],d[1][1])}}});p=l.prototype;p._createContent=function(a,c,h){var b=a.getItemLayout(c),g="horizontal"===b.chartLayout?1:0;a=0;this.add(new e.Polygon({shape:{points:h?n(b.bodyEnds,g,b):b.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=a++;c=f.map(b.whiskerEnds,function(a){return h?n(a,g,b):a});this.add(new d({shape:k(c),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=a++};p.updateData=function(a,c,d){var b=this._seriesModel=a.hostModel,g=a.getItemLayout(c);d=e[d?"initProps":"updateProps"];d(this.childAt(this.bodyIndex),{shape:{points:g.bodyEnds}},b,c);d(this.childAt(this.whiskerIndex),{shape:k(g.whiskerEnds)},b,c);this.styleUpdater.call(null,this,a,c)};f.inherits(l,e.Group);p=h.prototype;p.updateData=function(a){var b=this.group,d=this._data,e=this.styleUpdater;a.diff(d).add(function(c){if(a.hasValue(c)){var d=new l(a,c,e,!0);a.setItemGraphicEl(c,d);b.add(d)}}).update(function(c,f){var g=d.getItemGraphicEl(f);a.hasValue(c)?(g?g.updateData(a,c):g=new l(a,c,e),b.add(g),a.setItemGraphicEl(c,g)):b.remove(g)}).remove(function(a){(a=d.getItemGraphicEl(a))&&b.remove(a)}).execute();this._data=a};p.remove=function(){var a=this.group,c=this._data;this._data=null;c&&c.eachItemGraphicEl(function(b){b&&a.remove(b)})};r.exports=h},function(r,p,a){function l(a,d,b){var c=d.getItemModel(b),e=c.getModel(h);d=d.getItemVisual(b,"color");e=e.getItemStyle(["borderColor"]);b=a.childAt(a.whiskerIndex);b.style.set(e);b.style.stroke=d;b.dirty();b=a.childAt(a.bodyIndex);b.style.set(e);b.style.stroke=d;b.dirty();c=c.getModel(f).getItemStyle();k.setHoverStyle(a,c)}p=a(4);var n=a(42),k=a(43);a=a(246);n=n.extend({type:"boxplot",getStyleUpdater:function(){return l}});p.mixin(n,a.viewMixin,!0);var h=["itemStyle","normal"],f=["itemStyle","emphasis"];r.exports=n},function(r,p){var a=["itemStyle","normal","borderColor"];r.exports=function(l,n){var k=l.get("color");l.eachRawSeriesByType("boxplot",function(h){var f=k[h.seriesIndex%k.length],e=h.getData();e.setVisual({legendSymbol:"roundRect",color:h.get(a)||f});l.isSeriesFiltered(h)||e.each(function(d){var b=e.getItemModel(d);e.setItemVisual(d,{color:b.get(a,!0)})})})}},function(r,p,a){function l(a){var b=[],c=[];a.eachSeriesByType("boxplot",function(a){var d=a.getBaseAxis(),e=h.indexOf(c,d);0>e&&(e=c.length,c[e]=d,b[e]={axis:d,seriesModels:[]});b[e].seriesModels.push(a)});return b}function n(a){var b=a.axis,c=a.seriesModels,d=c.length,m=a.boxWidthList=[],g=a.boxOffsetList=[],k=[],l;if("category"===b.type)l=b.getBandWidth();else{var n=0;e(c,function(a){n=Math.max(n,a.getData().count())});a=b.getExtent();Math.abs(a[1]-a[0])/n}e(c,function(a){a=a.get("boxWidth");h.isArray(a)||(a=[a,a]);k.push([f(a[0],l)||0,f(a[1],l)||0])});a=.8*l-2;var p=a/d*.3,r=(a-p*(d-1))/d,z=r/2-a/2;e(c,function(a,b){g.push(z);z+=p+r;m.push(Math.min(Math.max(r,k[b][0]),k[b][1]))})}function k(a,b,c){var d=a.coordinateSystem,e=a.getData(),g=a.dimensions,f=a.get("layout"),h=c/2;e.each(g,function(){function a(a){var c=[];c[n]=q;c[t]=a;isNaN(q)||isNaN(a)?a=[NaN,NaN]:(a=d.dataToPoint(c),a[n]+=b);return a}function c(a,b){var c=a.slice(),d=a.slice();c[n]+=h;d[n]-=h;b?I.push(c,d):I.push(d,c)}function m(a){a=[a.slice(),a.slice()];a[0][n]-=h;a[1][n]+=h;N.push(a)}var k=arguments,q=k[0],l=k[g.length],n="horizontal"===f?0:1,t=1-n,p=a(k[3]),r=a(k[1]),w=a(k[5]),N=[[r,a(k[2])],[w,a(k[4])]];m(r);m(w);m(p);var I=[];c(N[0][1],0);c(N[1][1],1);e.setItemLayout(l,{chartLayout:f,initBaseline:p[t],median:p,bodyEnds:I,whiskerEnds:N})})}var h=a(4),f=a(7).parsePercent,e=h.each;r.exports=function(a){a=l(a);e(a,function(a){var b=a.seriesModels;b.length&&(n(a),e(b,function(b,c){k(b,a.boxOffsetList[c],a.boxWidthList[c])}))})}},function(r,p,a){r=a(1);a(252);a(253);r.registerPreprocessor(a(254));r.registerVisual(a(255));r.registerLayout(a(256))},function(r,p,a){var l=a(4),n=a(28);p=a(246);a=a(6);var k=a.encodeHTML,h=a.addCommas;a=n.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(a,e){var d=l.map(this.valueDimensions,function(b){return b+": "+h(this._data.get(b,a))},this);return k(this.name)+"\x3cbr /\x3e"+d.join("\x3cbr /\x3e")},brushSelector:function(a,e){return e.rect(a.brushRect)}});l.mixin(a,p.seriesModelMixin,!0);r.exports=a},function(r,p,a){function l(a,d,b){var c=d.getItemModel(b),e=c.getModel(h),m=d.getItemVisual(b,"color");d=d.getItemVisual(b,"borderColor")||m;e=e.getItemStyle(["color","color0","borderColor","borderColor0"]);b=a.childAt(a.whiskerIndex);b.useStyle(e);b.style.stroke=d;b=a.childAt(a.bodyIndex);b.useStyle(e);b.style.fill=m;b.style.stroke=d;c=c.getModel(f).getItemStyle();k.setHoverStyle(a,c)}p=a(4);var n=a(42),k=a(43);a=a(246);n=n.extend({type:"candlestick",getStyleUpdater:function(){return l}});p.mixin(n,a.viewMixin,!0);var h=["itemStyle","normal"],f=["itemStyle","emphasis"];r.exports=n},function(r,p,a){var l=a(4);r.exports=function(a){a&&l.isArray(a.series)&&l.each(a.series,function(a){l.isObject(a)&&"k"===a.type&&(a.type="candlestick")})}},function(r,p){var a=["itemStyle","normal","borderColor"],l=["itemStyle","normal","borderColor0"],n=["itemStyle","normal","color"],k=["itemStyle","normal","color0"];r.exports=function(h,f){h.eachRawSeriesByType("candlestick",function(e){var d=e.getData();d.setVisual({legendSymbol:"roundRect"});h.isSeriesFiltered(e)||d.each(function(b){var c=d.getItemModel(b),e=d.getItemLayout(b).sign;d.setItemVisual(b,{color:c.get(0<e?n:k),borderColor:c.get(0<e?a:l)})})})}},function(r,p){function a(a,n){var k=a.getBaseAxis(),h,k="category"===k.type?k.getBandWidth():(h=k.getExtent(),Math.abs(h[1]-h[0])/n.count());return 5<k/2-2?k/2-2:4<k-5?5:Math.max(k-4,2)}r.exports=function(l){l.eachSeriesByType("candlestick",function(l){var k=l.coordinateSystem,h=l.getData(),f=l.dimensions,e=l.get("layout"),d=a(l,h);h.each(f,function(){function a(a){var b=[];b[l]=m;b[n]=a;return isNaN(m)||isNaN(a)?[NaN,NaN]:k.dataToPoint(b)}function c(a,b){var c=a.slice(),e=a.slice();c[l]+=d/2;e[l]-=d/2;b?B.push(c,e):B.push(e,c)}var q=arguments,m=q[0],g=q[f.length],l="horizontal"===e?0:1,n=1-l,p=q[1],r=q[2],v=q[3],z=q[4],A=Math.max(p,r),q=a(Math.min(p,r)),A=a(A),y=a(v),y=[[a(z),A],[y,q]],B=[];c(A,0);c(q,1);h.setItemLayout(g,{chartLayout:e,sign:p>r?-1:p<r?1:0,initBaseline:p>r?A[n]:q[n],bodyEnds:B,whiskerEnds:y,brushRect:function(){var b=a(Math.min(p,r,v,z)),c=a(Math.max(p,r,v,z));b[l]-=d/2;c[l]-=d/2;return{x:b[0],y:b[1],width:n?d:c[0]-b[0],height:n?c[1]-b[1]:d}}()})},!0)})}},function(r,p,a){r=a(4);p=a(1);a(258);a(259);p.registerVisual(r.curry(a(109),"effectScatter","circle",null));p.registerLayout(r.curry(a(110),"effectScatter"))},function(r,p,a){var l=a(101);p=a(28);r.exports=p.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,k){return l(a.data,this,k)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})},function(r,p,a){var l=a(104),n=a(260);a(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new l(n)},render:function(a,h,f){a=a.getData();h=this._symbolDraw;h.updateData(a);this.group.add(h.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,h){this._symbolDraw&&this._symbolDraw.remove(h)}})},function(r,p,a){function l(a){h.isArray(a)||(a=[+a,+a]);return a}function n(a,b){a.eachChild(function(a){a.attr({z:b.z,zlevel:b.zlevel,style:{stroke:"stroke"===b.brushType?b.color:null,fill:"fill"===b.brushType?b.color:null}})})}function k(a,e){b.call(this);var c=new d(a,e),g=new b;this.add(c);this.add(g);g.beforeUpdate=function(){this.attr(c.getScale())};this.updateData(a,e)}var h=a(4),f=a(106);p=a(43);var e=a(7),d=a(105),b=p.Group;a=k.prototype;a.stopEffectAnimation=function(){this.childAt(1).removeAll()};a.startEffectAnimation=function(a){for(var b=a.symbolType,c=a.color,d=this.childAt(1),e=0;3>e;e++){var h=f.createSymbol(b,-.5,-.5,1,1,c);h.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[1,1]});var k=-e/3*a.period+a.effectOffset;h.animate("",!0).when(a.period,{scale:[a.rippleScale,a.rippleScale]}).delay(k).start();h.animateStyle(!0).when(a.period,{opacity:0}).delay(k).start();d.add(h)}n(d,a)};a.updateEffectAnimation=function(a){for(var b=this._effectCfg,c=this.childAt(1),d=["symbolType","period","rippleScale"],e=0;e<d;e++){var f=d[e];if(b[f]!==a[f]){this.stopEffectAnimation();this.startEffectAnimation(a);return}}n(c,a)};a.highlight=function(){this.trigger("emphasis")};a.downplay=function(){this.trigger("normal")};a.updateData=function(a,b){var c=a.hostModel;this.childAt(0).updateData(a,b);var d=this.childAt(1),f=a.getItemModel(b),h=a.getItemVisual(b,"symbol"),k=l(a.getItemVisual(b,"symbolSize")),q=a.getItemVisual(b,"color");d.attr("scale",k);d.traverse(function(a){a.attr({fill:q})});var n=f.getShallow("symbolOffset");if(n){var p=d.position;p[0]=e.parsePercent(n[0],k[0]);p[1]=e.parsePercent(n[1],k[1])}d.rotation=(f.getShallow("symbolRotate")||0)*Math.PI/180||0;var r={};r.showEffectOn=c.get("showEffectOn");r.rippleScale=f.get("rippleEffect.scale");r.brushType=f.get("rippleEffect.brushType");r.period=1E3*f.get("rippleEffect.period");r.effectOffset=b/a.count();r.z=f.getShallow("z")||0;r.zlevel=f.getShallow("zlevel")||0;r.symbolType=h;r.color=q;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if("render"===r.showEffectOn)this._effectCfg?this.updateEffectAnimation(r):this.startEffectAnimation(r),this._effectCfg=r;else{this._effectCfg=null;this.stopEffectAnimation();var y=this.childAt(0),c=function(){y.trigger("emphasis");"render"!==r.showEffectOn&&this.startEffectAnimation(r)},d=function(){y.trigger("normal");"render"!==r.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",c,this).on("mouseout",d,this).on("emphasis",c,this).on("normal",d,this)}this._effectCfg=r};a.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal");a&&a()};h.inherits(k,b);r.exports=k},function(r,p,a){a(262);a(263);a(1).registerLayout(a(268))},function(r,p,a){function l(a){var d=a.data;d&&d[0]&&d[0][0]&&d[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),a.data=k.map(d,function(a){var b={coords:[a[0].coord,a[1].coord]};a[0].name&&(b.fromName=a[0].name);a[1].name&&(b.toName=a[1].name);return k.mergeAll([b,a[0],a[1]])}))}r=a(28);var n=a(97),k=a(4),h=a(26),f=r.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){l(a);f.superApply(this,"init",arguments)},mergeOption:function(a){l(a);f.superApply(this,"mergeOption",arguments)},getInitialData:function(a,d){if(!h.get(a.coordinateSystem))throw Error("Unkown coordinate system "+a.coordinateSystem);var b=new n(["value"],this);b.hasItemOption=!1;b.initData(a.data,[],function(a,d,e,g){if(a instanceof Array)return NaN;b.hasItemOption=!0;if(a=a.value)return a instanceof Array?a[g]:a});return b},formatTooltip:function(a){a=this.getData().getItemModel(a);var d=a.get("name");if(d)return d;d=a.get("fromName");a=a.get("toName");return d+" \x3e "+a},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2E3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(r,p,a){var l=a(199),n=a(264),k=a(200),h=a(265),f=a(266),e=a(267);a(1).extendChartView({type:"lines",init:function(){},render:function(a,b,c){var d=a.getData(),m=this._lineDraw,g=a.get("effect.show"),t=a.get("polyline"),p=a.get("large")&&d.count()>=a.get("largeThreshold");g&&p&&console.warn("Large lines not support effect");if(g!==this._hasEffet||t!==this._isPolyline||p!==this._isLarge)m&&m.remove(),m=this._lineDraw=p?new e:new l(t?g?f:h:g?n:k),this._hasEffet=g,this._isPolyline=t,this._isLarge=p;var r=a.get("zlevel"),t=a.get("effect.trailLength");c=c.getZr();c.painter.getLayer(r).clear(!0);null!=this._lastZlevel&&c.configLayer(this._lastZlevel,{motionBlur:!1});if(g&&t){var x=!1;b.eachSeries(function(b){b!==a&&b.get("zlevel")===r&&(x=!0)});x&&console.warn("Lines with trail effect should have an individual zlevel");c.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(t/10+.9,1),0)})}this.group.add(m.group);m.updateData(d);this._lastZlevel=r},updateLayout:function(a,b,c){this._lineDraw.updateLayout(a);c.getZr().painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,b){this._lineDraw&&this._lineDraw.remove(b,!0)}})},function(r,p,a){function l(a,c,d){n.Group.call(this);this.add(this.createLine(a,c,d));this._updateEffectSymbol(a,c)}var n=a(43),k=a(200),h=a(4),f=a(106),e=a(10),d=a(50);p=l.prototype;p.createLine=function(a,c,d){return new k(a,c,d)};p._updateEffectSymbol=function(a,c){var b=a.getItemModel(c).getModel("effect"),d=b.get("symbolSize"),e=b.get("symbol");h.isArray(d)||(d=[d,d]);var k=b.get("color")||a.getItemVisual(c,"color"),l=this.childAt(1);this._symbolType!==e&&(this.remove(l),l=f.createSymbol(e,-.5,-.5,1,1,k),l.z2=100,l.culling=!0,this.add(l));l&&(l.setStyle("shadowColor",k),l.setStyle(b.getItemStyle(["color"])),l.attr("scale",d),l.setColor(k),l.attr("scale",d),this._symbolType=e,this._updateEffectAnimation(a,b,c))};p._updateEffectAnimation=function(a,c,d){var b=this.childAt(1);if(b){var e=this,f=a.getItemLayout(d),h=1E3*c.get("period"),k=c.get("loop"),q=c.get("constantSpeed");c=c.get("delay")||function(b){return b/a.count()*h/3};var l="function"===typeof c;b.ignore=!0;this.updateAnimationPoints(b,f);0<q&&(h=this.getLineLength(b)/q*1E3);if(h!==this._period||k!==this._loop)b.stopAnimation(),f=c,l&&(f=c(d)),0<b.__t&&(f=-h*b.__t),b.__t=0,d=b.animate("",k).when(h,{__t:1}).delay(f).during(function(){e.updateSymbolPosition(b)}),k||d.done(function(){e.remove(b)}),d.start();this._period=h;this._loop=k}};p.getLineLength=function(a){return e.dist(a.__p1,a.__cp1)+e.dist(a.__cp1,a.__p2)};p.updateAnimationPoints=function(a,c){a.__p1=c[0];a.__p2=c[1];a.__cp1=c[2]||[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]};p.updateData=function(a,c,d){this.childAt(0).updateData(a,c,d);this._updateEffectSymbol(a,c)};p.updateSymbolPosition=function(a){var b=a.__p1,e=a.__p2,f=a.__cp1,g=a.__t,h=a.position,k=d.quadraticAt,l=d.quadraticDerivativeAt;h[0]=k(b[0],f[0],e[0],g);h[1]=k(b[1],f[1],e[1],g);h=l(b[0],f[0],e[0],g);b=l(b[1],f[1],e[1],g);a.rotation=-Math.atan2(b,h)-Math.PI/2;a.ignore=!1};p.updateLayout=function(a,c){this.childAt(0).updateLayout(a,c);var b=a.getItemModel(c).getModel("effect");this._updateEffectAnimation(a,b,c)};h.inherits(l,n.Group);r.exports=l},function(r,p,a){function l(a,f,e){n.Group.call(this);this._createPolyline(a,f,e)}var n=a(43),k=a(4);p=l.prototype;p._createPolyline=function(a,f,e){var d=a.getItemLayout(f),d=new n.Polyline({shape:{points:d}});this.add(d);this._updateCommonStl(a,f,e)};p.updateData=function(a,f,e){var d=a.hostModel,b=this.childAt(0),c={shape:{points:a.getItemLayout(f)}};n.updateProps(b,c,d,f);this._updateCommonStl(a,f,e)};p._updateCommonStl=function(a,f,e){var d=this.childAt(0),b=a.getItemModel(f);f=a.getItemVisual(f,"color");var c=e&&e.lineStyle,h=e&&e.hoverLineStyle;if(!e||a.hasItemOption)c=b.getModel("lineStyle.normal").getLineStyle(),h=b.getModel("lineStyle.emphasis").getLineStyle();d.useStyle(k.defaults({strokeNoScale:!0,fill:"none",stroke:f},c));d.hoverStyle=h;n.setHoverStyle(this)};p.updateLayout=function(a,f){this.childAt(0).setShape("points",a.getItemLayout(f))};k.inherits(l,n.Group);r.exports=l},function(r,p,a){function l(a,e,d){k.call(this,a,e,d);this._lastFramePercent=this._lastFrame=0}var n=a(265);p=a(4);var k=a(264),h=a(10);a=l.prototype;a.createLine=function(a,e,d){return new n(a,e,d)};a.updateAnimationPoints=function(a,e){this._points=e;for(var d=[0],b=0,c=1;c<e.length;c++)b+=h.dist(e[c-1],e[c]),d.push(b);if(0!==b){for(c=0;c<d.length;c++)d[c]/=b;this._offsets=d;this._length=b}};a.getLineLength=function(a){return this._length};a.updateSymbolPosition=function(a){var e=a.__t,d=this._points,b=this._offsets,c=d.length;if(b){var f=this._lastFrame;if(e<this._lastFramePercent){for(f=Math.min(f+1,c-1);0<=f&&!(b[f]<=e);f--);f=Math.min(f,c-2)}else{for(;f<c&&!(b[f]>e);f++);f=Math.min(f-1,c-2)}h.lerp(a.position,d[f],d[f+1],(e-b[f])/(b[f+1]-b[f]));this._lastFrame=f;this._lastFramePercent=e;a.ignore=!1}};p.inherits(l,k);r.exports=l},function(r,p,a){function l(){this.group=new n.Group;this._lineEl=new f}var n=a(43),k=a(55),h=a(53),f=n.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(a,d){for(var b=d.segs,c=d.polyline,e=0;e<b.length;e++){var f=b[e];if(c){a.moveTo(f[0][0],f[0][1]);for(var g=1;g<f.length;g++)a.lineTo(f[g][0],f[g][1])}else a.moveTo(f[0][0],f[0][1]),2<f.length?a.quadraticCurveTo(f[2][0],f[2][1],f[1][0],f[1][1]):a.lineTo(f[1][0],f[1][1])}},findDataIndex:function(a,d){for(var b=this.shape,c=b.segs,b=b.polyline,e=Math.max(this.style.lineWidth,1),f=0;f<c.length;f++){var g=c[f];if(b)for(var l=1;l<g.length;l++){if(h.containStroke(g[l-1][0],g[l-1][1],g[l][0],g[l][1],e,a,d))return f}else if(2<g.length){if(k.containStroke(g[0][0],g[0][1],g[2][0],g[2][1],g[1][0],g[1][1],e,a,d))return f}else if(h.containStroke(g[0][0],g[0][1],g[1][0],g[1][1],e,a,d))return f}return-1}});p=l.prototype;p.updateData=function(a){this.group.removeAll();var d=this._lineEl,b=a.hostModel;d.setShape({segs:a.mapArray(a.getItemLayout),polyline:b.get("polyline")});d.useStyle(b.getModel("lineStyle.normal").getLineStyle());(a=a.getVisual("color"))&&d.setStyle("stroke",a);d.setStyle("fill");d.seriesIndex=b.seriesIndex;d.on("mousemove",function(a){d.dataIndex=null;a=d.findDataIndex(a.offsetX,a.offsetY);0<a&&(d.dataIndex=a)});this.group.add(d)};p.updateLayout=function(a){a=a.getData();this._lineEl.setShape({segs:a.mapArray(a.getItemLayout)})};p.remove=function(){this.group.removeAll()};r.exports=l},function(r,p,a){r.exports=function(a){a.eachSeriesByType("lines",function(a){var k=a.coordinateSystem,h=a.getData();h.each(function(f){var e=h.getItemModel(f),d=e.option instanceof Array?e.option:e.get("coords");if(!(d instanceof Array&&0<d.length&&d[0]instanceof Array))throw Error("Invalid coords "+JSON.stringify(d)+". Lines must have 2d coords array in data item.");var b=[];if(a.get("polyline"))for(e=0;e<d.length;e++)b.push(k.dataToPoint(d[e]));else b[0]=k.dataToPoint(d[0]),b[1]=k.dataToPoint(d[1]),d=e.get("lineStyle.normal.curveness"),0<d&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*d,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*d]);h.setItemLayout(f,b)})})}},function(r,p,a){a(270);a(271)},function(r,p,a){p=a(28);var l=a(101);r.exports=p.extend({type:"series.heatmap",getInitialData:function(a,k){return l(a.data,this,k)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(r,p,a){function l(a,b,c){var d=a[1]-a[0];b=e.map(b,function(b){return{interval:[(b.interval[0]-a[0])/d,(b.interval[1]-a[0])/d]}});var f=b.length,g=0;return function(a){for(var d=g;d<f;d++){var e=b[d].interval;if(e[0]<=a&&a<=e[1]){g=d;break}}if(d===f)for(d=g-1;0<=d;d--)if(e=b[d].interval,e[0]<=a&&a<=e[1]){g=d;break}return 0<=d&&d<f&&c[d]}}function n(a,b){var c=a[1]-a[0];b=[(b[0]-a[0])/c,(b[1]-a[0])/c];return function(a){return a>=b[0]&&a<=b[1]}}function k(a){a=a.dimensions;return"lng"===a[0]&&"lat"===a[1]}var h=a(43),f=a(272),e=a(4);r.exports=a(1).extendChartView({type:"heatmap",render:function(a,b,c){var d;b.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})});if(!d)throw Error("Heatmap must use with visualMap");this.group.removeAll();b=a.coordinateSystem;"cartesian2d"===b.type?this._renderOnCartesian(b,a,c):k(b)&&this._renderOnGeo(b,a,d,c)},_renderOnCartesian:function(a,b,c){c=a.getAxis("x");var d=a.getAxis("y"),f=this.group;if("category"!==c.type||"category"!==d.type)throw Error("Heatmap on cartesian must have two category axes");if(!c.onBand||!d.onBand)throw Error("Heatmap on cartesian must have two axes with boundaryGap true");var g=c.getBandWidth(),k=d.getBandWidth(),l=b.getData(),n=b.getModel("itemStyle.normal").getItemStyle(["color"]),p=b.getModel("itemStyle.emphasis").getItemStyle(),r=b.getModel("label.normal"),z=b.getModel("label.emphasis");l.each(["x","y","z"],function(c,d,m,q){var t=l.getItemModel(q);c=a.dataToPoint([c,d]);isNaN(m)||(m=new h.Rect({shape:{x:c[0]-g/2,y:c[1]-k/2,width:g,height:k},style:{fill:l.getItemVisual(q,"color"),opacity:l.getItemVisual(q,"opacity")}}),l.hasItemOption&&(n=t.getModel("itemStyle.normal").getItemStyle(["color"]),p=t.getModel("itemStyle.emphasis").getItemStyle(),r=t.getModel("label.normal"),z=t.getModel("label.emphasis")),t=b.getRawValue(q),c="-",t&&null!=t[2]&&(c=t[2]),r.getShallow("show")&&(h.setText(n,r),n.text=b.getFormattedLabel(q,"normal")||c),z.getShallow("show")&&(h.setText(p,z),p.text=b.getFormattedLabel(q,"emphasis")||c),m.setStyle(n),h.setHoverStyle(m,l.hasItemOption?p:e.extend({},p)),f.add(m),l.setItemGraphicEl(q,m))})},_renderOnGeo:function(a,b,c,e){var d=c.targetVisuals.inRange,g=c.targetVisuals.outOfRange,k=b.getData(),q=this._hmLayer||this._hmLayer||new f;q.blurSize=b.get("blurSize");q.pointSize=b.get("pointSize");q.minOpacity=b.get("minOpacity");q.maxOpacity=b.get("maxOpacity");b=a.getViewRect().clone();var p=a.getRoamTransform().transform;b.applyTransform(p);var r=Math.max(b.x,0),v=Math.max(b.y,0),p=Math.min(b.width+b.x,e.getWidth());b=Math.min(b.height+b.y,e.getHeight());e=p-r;b-=v;k=k.mapArray(["lng","lat","value"],function(b,c,d){b=a.dataToPoint([b,c]);b[0]-=r;b[1]-=v;b.push(d);return b});p=c.getExtent();c="visualMap.continuous"===c.type?n(p,c.option.range):l(p,c.getPieceList(),c.option.selected);q.update(k,e,b,d.color.getNormalizer(),{inRange:d.color.getColorMapper(),outOfRange:g.color.getColorMapper()},c);d=new h.Image({style:{width:e,height:b,x:r,y:v,image:q.canvas},silent:!0});this.group.add(d)}})},function(r,p,a){function l(){this.canvas=n.createCanvas();this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}var n=a(4);l.prototype={update:function(a,h,f,e,d,b){var c=this._getBrush(),k=this._getGradient(a,d,"inRange");d=this._getGradient(a,d,"outOfRange");var m=this.pointSize+this.blurSize,g=this.canvas,l=g.getContext("2d"),n=a.length;g.width=h;g.height=f;for(f=0;f<n;++f){h=a[f];var p=h[0],r=h[1];h=e(h[2]);l.globalAlpha=h;l.drawImage(c,p-m,r-m)}a=l.getImageData(0,0,g.width,g.height);e=a.data;c=0;m=e.length;n=this.minOpacity;for(f=this.maxOpacity-n;c<m;)h=e[c+3]/256,p=4*Math.floor(255*h),0<h?(r=b(h)?k:d,0<h&&(h=h*f+n),e[c++]=r[p],e[c++]=r[p+1],e[c++]=r[p+2],e[c++]=r[p+3]*h*256):c+=4;l.putImageData(a,0,0);return g},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=n.createCanvas()),h=this.pointSize+this.blurSize,f=2*h;a.width=f;a.height=f;var e=a.getContext("2d");e.clearRect(0,0,f,f);e.shadowOffsetX=f;e.shadowBlur=this.blurSize;e.shadowColor="#000";e.beginPath();e.arc(-h,h,this.pointSize,0,2*Math.PI,!0);e.closePath();e.fill();return a},_getGradient:function(a,h,f){a=this._gradientPixels;a=a[f]||(a[f]=new Uint8ClampedArray(1024));for(var e=[],d=0,b=0;256>b;b++)h[f](b/255,!0,e),a[d++]=e[0],a[d++]=e[1],a[d++]=e[2],a[d++]=e[3];return a}};r.exports=l},function(r,p,a){a(274);a(275);a(276);a(1).registerProcessor(a(278))},function(r,p,a){var l=a(4),n=a(12),k=a(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,f,e){this.mergeDefaultAndTheme(a,e);a.selected=a.selected||{}},mergeOption:function(a){k.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var f=!1,e=0;e<a.length;e++){var d=a[e].get("name");if(this.isSelected(d)){this.select(d);f=!0;break}}!f&&this.select(a[0].get("name"))}},_updateData:function(a){this._data=l.map(this.get("data")||[],function(a){if("string"===typeof a||"number"===typeof a)a={name:a};return new n(a,this,this.ecModel)},this);var f=l.map(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){a.legendDataProvider&&(a=a.legendDataProvider(),f=f.concat(a.mapArray(a.getName)))});this._availableNames=f},getData:function(){return this._data},select:function(a){var f=this.option.selected;"single"===this.get("selectedMode")&&l.each(this._data,function(a){f[a.get("name")]=!1});f[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var f=this.option.selected;a in f||(f[a]=!0);this[f[a]?"unSelect":"select"](a)},isSelected:function(a){var f=this.option.selected;return!(a in f&&!f[a])&&0<=l.indexOf(this._availableNames,a)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});r.exports=k},function(r,p,a){function l(a,h,f){var e={},d="toggleSelected"===a,b;f.eachComponent("legend",function(c){if(d&&null!=b)c[b?"select":"unSelect"](h.name);else c[a](h.name),b=c.isSelected(h.name);var f=c.getData();n.each(f,function(a){a=a.get("name");if("\n"!==a&&""!==a){var b=c.isSelected(a);e[a]=a in e?e[a]&&b:b}})});return{name:h.name,selected:e}}r=a(1);var n=a(4);r.registerAction("legendToggleSelect","legendselectchanged",n.curry(l,"toggleSelected"));r.registerAction("legendSelect","legendselected",n.curry(l,"select"));r.registerAction("legendUnSelect","legendunselected",n.curry(l,"unSelect"))},function(r,p,a){function l(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function n(a,b,d){var c=d.getZr().storage.getDisplayList()[0];c&&c.useHoverLayer||a.get("legendHoverLink")&&d.dispatchAction({type:"highlight",seriesName:a.name,name:b})}function k(a,b,d){var c=d.getZr().storage.getDisplayList()[0];c&&c.useHoverLayer||a.get("legendHoverLink")&&d.dispatchAction({type:"downplay",seriesName:a.name,name:b})}var h=a(4),f=a(106),e=a(43),d=a(277),b=h.curry;r.exports=a(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(a,f,m){var c=this.group;c.removeAll();if(a.get("show")){var q=a.get("selectedMode"),p=a.get("align");"auto"===p&&(p="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left");var r={};h.each(a.getData(),function(d){var g=d.get("name");if(""===g||"\n"===g)c.add(new e.Group({newline:!0}));else{var h=f.getSeriesByName(g)[0];if(!r[g]){if(h){var t=h.getData(),x=t.getVisual("color");"function"===typeof x&&(x=x(h.getDataParams(0)));var u=t.getVisual("legendSymbol")||"roundRect",t=t.getVisual("symbol");this._createItem(g,d,a,u,t,p,x,q).on("click",b(l,g,m)).on("mouseover",b(n,h,"",m)).on("mouseout",b(k,h,"",m));r[g]=!0}else f.eachRawSeries(function(c){if(!r[g]&&c.legendDataProvider){var e=c.legendDataProvider(),f=e.indexOfName(g);0>f||(e=e.getItemVisual(f,"color"),this._createItem(g,d,a,"roundRect",null,p,e,q).on("click",b(l,g,m)).on("mouseover",b(n,c,g,m)).on("mouseout",b(k,c,g,m)),r[g]=!0)}},this);r[g]||console.warn(g+" series not exists. Legend data should be same with series name or data name.")}}},this);d.layout(c,a,m);d.addBackground(c,a)}},_createItem:function(a,b,d,g,k,l,n,p){var c=d.get("itemWidth"),m=d.get("itemHeight"),q=d.get("inactiveColor"),t=d.isSelected(a),r=new e.Group,x=b.getModel("textStyle"),u=b.get("icon");b=b.getModel("tooltip");g=u||g;r.add(f.createSymbol(g,0,0,c,m,t?n:q));u||!k||k===g&&"none"!=k||(g=.8*m,"none"===k&&(k="circle"),r.add(f.createSymbol(k,(c-g)/2,(m-g)/2,g,g,t?n:q)));k="left"===l?c+5:-5;n=d.get("formatter");c=a;"string"===typeof n&&n?c=n.replace("{name}",a):"function"===typeof n&&(c=n(a));l=new e.Text({style:{text:c,x:k,y:m/2,fill:t?x.getTextColor():q,textFont:x.getFont(),textAlign:l,textVerticalAlign:"middle"}});r.add(l);d=new e.Rect({shape:r.getBoundingRect(),invisible:!0,tooltip:b.get("show")?h.extend({content:a,formatter:function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},b.option):null});r.add(d);r.eachChild(function(a){a.silent=!0});d.silent=!p;this.group.add(r);e.setHoverStyle(r);return r}})},function(r,p,a){var l=a(21),n=a(6),k=a(43);r.exports={layout:function(a,f,e){var d=l.getLayoutRect(f.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},f.get("padding"));l.box(f.get("orient"),a,f.get("itemGap"),d.width,d.height);l.positionGroup(a,f.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},f.get("padding"))},addBackground:function(a,f){var e=n.normalizeCssArray(f.get("padding")),d=a.getBoundingRect(),b=f.getItemStyle(["color","opacity"]);b.fill=f.get("backgroundColor");e=new k.Rect({shape:{x:d.x-e[3],y:d.y-e[0],width:d.width+e[1]+e[3],height:d.height+e[0]+e[2]},style:b,silent:!0,z2:-1});k.subPixelOptimizeRect(e);a.add(e)}}},function(r,p){r.exports=function(a){var l=a.findComponents({mainType:"legend"});l&&l.length&&a.filterSeries(function(a){for(var k=0;k<l.length;k++)if(!l[k].isSelected(a.name))return!1;return!0})}},function(r,p,a){a(280);a(281);a(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){});a(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(r,p,a){a(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(r,p,a){function l(a,c,d,e,h,k,l){var g=l.getWidth(),m=l.getHeight();l=k&&k.getBoundingRect().clone();k&&l.applyTransform(k.transform);"function"===typeof a&&(a=a([c,d],h,e.el,l));if(f.isArray(a))c=b(a[0],g),d=b(a[1],m);else{if("string"===typeof a&&k){m=e.el;g=m.clientWidth;m=m.clientHeight;d=c=0;h=l.width;k=l.height;switch(a){case "inside":c=l.x+h/2-g/2;d=l.y+k/2-m/2;break;case "top":c=l.x+h/2-g/2;d=l.y-m-5;break;case "bottom":c=l.x+h/2-g/2;d=l.y+k+5;break;case "left":c=l.x-g-5;d=l.y+k/2-m/2;break;case "right":c=l.x+h+5,d=l.y+k/2-m/2}a=[c,d]}else a=c,l=d,d=e.el,c=d.clientWidth,d=d.clientHeight,a=[a+c+20>g?a-(c+20):a+20,l+d+20>m?l-(d+20):l+20];c=a[0];d=a[1]}e.moveTo(c,d)}function n(a){var b=a.coordinateSystem;a=a.get("tooltip.trigger",!0);return!(!b||"cartesian2d"!==b.type&&"polar"!==b.type&&"singleAxis"!==b.type||"item"===a)}var k=a(282),h=a(43),f=a(4),e=a(6),d=a(7),b=d.parsePercent,c=a(2),q=a(12);a(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(a,b){c.node||(this._tooltipContent=new k(b.getDom(),b),b.on("showTip",this._manuallyShowTip,this),b.on("hideTip",this._manuallyHideTip,this))},render:function(a,b,d){if(!c.node){this.group.removeAll();this._axisPointers={};this._tooltipModel=a;this._ecModel=b;this._api=d;this._lastHover={};d=this._tooltipContent;d.update();d.enterable=a.get("enterable");this._alwaysShowContent=a.get("alwaysShowContent");this._seriesGroupByAxis=this._prepareAxisTriggerData(a,b);(b=this._crossText)&&this.group.add(b);if(null!=this._lastX&&null!=this._lastY){var e=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){e._manuallyShowTip({x:e._lastX,y:e._lastY})})}b=this._api.getZr();b.off("click",this._tryShow);b.off("mousemove",this._mousemove);b.off("mouseout",this._hide);b.off("globalout",this._hide);if("click"===a.get("triggerOn"))b.on("click",this._tryShow,this);else b.on("mousemove",this._mousemove,this),b.on("mouseout",this._hide,this),b.on("globalout",this._hide,this)}},_mousemove:function(a){var b=this._tooltipModel.get("showDelay"),c=this;clearTimeout(this._showTimeout);0<b?this._showTimeout=setTimeout(function(){c._tryShow(a)},b):this._tryShow(a)},_manuallyShowTip:function(a){if(a.from!==this.uid){var b=this._ecModel,c=a.dataIndex,d=b.getSeriesByIndex(a.seriesIndex),e=this._api;if(null==a.x||null==a.y){if(d||b.eachSeries(function(a){n(a)&&!d&&(d=a)}),d){e=d.getData();null==c&&(c=e.indexOfName(a.name));var b=e.getItemGraphicEl(c),m,h;(a=d.coordinateSystem)&&a.dataToPoint?(m=(c=a.dataToPoint(e.getValues(f.map(a.dimensions,function(a){return d.coordDimToDataDim(a)[0]}),c,!0)))&&c[0],h=c&&c[1]):b&&(c=b.getBoundingRect().clone(),c.applyTransform(b.transform),m=c.x+c.width/2,h=c.y+c.height/2);null!=m&&null!=h&&this._tryShow({offsetX:m,offsetY:h,target:b,event:{}})}}else b=e.getZr().handler.findHover(a.x,a.y),this._tryShow({offsetX:a.x,offsetY:a.y,target:b,event:{}})}},_manuallyHideTip:function(a){a.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(a,b){var c={};b.eachSeries(function(a){if(n(a)){var b=a.coordinateSystem,d;"cartesian2d"===b.type?(d=b.getBaseAxis(),d=d.dim+d.index):"singleAxis"===b.type?(d=b.getAxis(),d=d.dim+d.type):(d=b.getBaseAxis(),d=d.dim+b.name);c[d]=c[d]||{coordSys:[],series:[]};c[d].coordSys.push(b);c[d].series.push(a)}},this);return c},_tryShow:function(a){var b=a.target,c=this._tooltipModel,d=c.get("trigger"),e=this._ecModel,f=this._api;if(c)if(this._lastX=a.offsetX,this._lastY=a.offsetY,b&&null!=b.dataIndex){var h=b.dataModel||e.getSeriesByIndex(b.seriesIndex),m=b.dataIndex;"axis"===(h.getData().getItemModel(m).get("tooltip.trigger")||d)?this._showAxisTooltip(c,e,a):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(h,m,b.dataType,a));f.dispatchAction({type:"showTip",from:this.uid,dataIndex:b.dataIndex,seriesIndex:b.seriesIndex})}else b&&b.tooltip?(d=b.tooltip,"string"===typeof d&&(d={content:d,formatter:d}),c=new q(d,c),d=c.get("content"),e=Math.random(),this._showTooltipContent(c,d,c.get("formatterParams")||{},e,a.offsetX,a.offsetY,b,f)):("item"===d?this._hide():this._showAxisTooltip(c,e,a),"cross"===c.get("axisPointer.type")&&f.dispatchAction({type:"showTip",from:this.uid,x:a.offsetX,y:a.offsetY}))},_showAxisTooltip:function(a,b,c){var e=a.getModel("axisPointer"),g=e.get("type");"cross"===g&&(a=c.target)&&null!=a.dataIndex&&(b=b.getSeriesByIndex(a.seriesIndex),this._showItemTooltipContent(b,a.dataIndex,a.dataType,c));this._showAxisPointer();var h=!0;f.each(this._seriesGroupByAxis,function(a){var b=a.coordSys[0],m=[c.offsetX,c.offsetY];if(b.containPoint(m)){h=!1;var k=b.dimensions,l=b.pointToData(m,!0),m=b.dataToPoint(l),q=b.getBaseAxis(),n=e.get("axis");"auto"===n&&(n=q.dim);var q=!1,t=this._lastHover;if("cross"===g){if((k=t.data)&&l)var p=d.round,k=p(k[0])===p(l[0])&&p(k[1])===p(l[1]);else k=!1;k&&(q=!0);t.data=l}else k=f.indexOf(k,n),t.data===l[k]&&(q=!0),t.data=l[k];"cartesian2d"!==b.type||q?"polar"!==b.type||q?"singleAxis"!==b.type||q||this._showSinglePointer(e,b,n,m):this._showPolarPointer(e,b,n,m):this._showCartesianPointer(e,b,n,m);"cross"!==g&&this._dispatchAndShowSeriesTooltipContent(b,a.series,m,l,q)}else this._hideAxisPointer(b.name)},this);this._tooltipModel.get("show")||this._hideAxisPointer();h&&this._hide()},_showCartesianPointer:function(a,b,c,d){function e(c,d,e){d="x"===c?{x1:d[0],y1:e[0],x2:d[0],y2:e[1]}:{x1:e[0],y1:d[1],x2:e[1],y2:d[1]};c=f._getPointerElement(b,a,c,d);h.subPixelOptimizeLine({shape:d,style:c.style});l?h.updateProps(c,{shape:d},a):c.attr({shape:d})}function g(c,d,e){var g=b.getAxis(c).getBandWidth(),m=e[1]-e[0];d="x"===c?{x:d[0]-g/2,y:e[0],width:g,height:m}:{x:e[0],y:d[1]-g/2,width:m,height:g};c=f._getPointerElement(b,a,c,d);l?h.updateProps(c,{shape:d},a):c.attr({shape:d})}var f=this,m=a.get("type"),k=b.getBaseAxis(),l="cross"!==m&&"category"===k.type&&20<k.getBandWidth();"cross"===m?(e("x",d,b.getAxis("y").getGlobalExtent()),e("y",d,b.getAxis("x").getGlobalExtent()),this._updateCrossText(b,d,a)):(k=b.getAxis("x"===c?"y":"x").getGlobalExtent(),"cartesian2d"===b.type&&("line"===m?e:g)(c,d,k))},_showSinglePointer:function(a,b,c,d){var e="cross"!==a.get("type")&&"category"===b.getBaseAxis().type,g=b.getRect(),g=[g.y,g.y+g.height];d="horizontal"===b.getAxis().orient?{x1:d[0],y1:g[0],x2:d[0],y2:g[1]}:{x1:g[0],y1:d[1],x2:g[1],y2:d[1]};b=this._getPointerElement(b,a,c,d);e?h.updateProps(b,{shape:d},a):b.attr({shape:d})},_showPolarPointer:function(a,b,c,d){function e(c,d,e){var g=b.pointToCoord(d);"angle"===c?(d=b.coordToPoint([e[0],g[1]]),e=b.coordToPoint([e[1],g[1]]),e={x1:d[0],y1:d[1],x2:e[0],y2:e[1]}):e={cx:b.cx,cy:b.cy,r:g[0]};c=f._getPointerElement(b,a,c,e);q?h.updateProps(c,{shape:e},a):c.attr({shape:e})}function g(c,d,e){var g=b.getAxis(c).getBandWidth();d=b.pointToCoord(d);var m=Math.PI/180;e="angle"===c?{cx:b.cx,cy:b.cy,r0:e[0],r:e[1],startAngle:(-d[1]-g/2)*m,endAngle:(-d[1]+g/2)*m,clockwise:!0}:{cx:b.cx,cy:b.cy,r0:d[0]-g/2,r:d[0]+g/2,startAngle:0,endAngle:2*Math.PI,clockwise:!0};c=f._getPointerElement(b,a,c,e);q?h.updateProps(c,{shape:e},a):c.attr({shape:e})}var f=this,m=a.get("type"),k=b.getAngleAxis(),l=b.getRadiusAxis(),q="cross"!==m&&"category"===b.getBaseAxis().type;"cross"===m?(e("angle",d,l.getExtent()),e("radius",d,k.getExtent()),this._updateCrossText(b,d,a)):(k=b.getAxis("radius"===c?"angle":"radius").getExtent(),("line"===m?e:g)(c,d,k))},_updateCrossText:function(a,b,c){c=c.getModel("crossStyle");var d=c.getModel("textStyle"),g=this._tooltipModel,m=this._crossText;m||(m=this._crossText=new h.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(m));var k=a.pointToData(b),l=a.dimensions,k=f.map(k,function(b,c){var d=a.getAxis(l[c]);return b="category"===d.type||"time"===d.type?d.scale.getLabel(b):e.addCommas(b.toFixed(d.getPixelPrecision()))});m.setStyle({fill:d.getTextColor()||c.get("color"),textFont:d.getFont(),text:k.join(", "),x:b[0]+5,y:b[1]-5});m.z=g.get("z");m.zlevel=g.get("zlevel")},_getPointerElement:function(a,b,c,d){var e=this._tooltipModel,g=e.get("z"),e=e.get("zlevel"),f=this._axisPointers,m=a.name;f[m]=f[m]||{};if(f[m][c])return f[m][c];var k=b.get("type"),l=b.getModel(k+"Style");b="shadow"===k;k=l[b?"getAreaStyle":"getLineStyle"]();a="polar"===a.type?b?"Sector":"radius"===c?"Circle":"Line":b?"Rect":"Line";b?k.stroke=null:k.fill=null;c=f[m][c]=new h[a]({style:k,z:g,zlevel:e,silent:!0,shape:d});this.group.add(c);return c},_dispatchAndShowSeriesTooltipContent:function(a,b,c,d,e){var g=this._tooltipModel,h=a.getBaseAxis(),m="x"===h.dim||"radius"===h.dim?0:1,k=f.map(b,function(a){return{seriesIndex:a.seriesIndex,dataIndex:a.getAxisTooltipDataIndex?a.getAxisTooltipDataIndex(a.coordDimToDataDim(h.dim),d,h):a.getData().indexOfNearest(a.coordDimToDataDim(h.dim)[0],d[m],!1,"category"===h.type?.5:null)}}),q=this._lastHover,n=this._api;q.payloadBatch&&!e&&n.dispatchAction({type:"downplay",batch:q.payloadBatch});e||(n.dispatchAction({type:"highlight",batch:k}),q.payloadBatch=k);n.dispatchAction({type:"showTip",dataIndex:k[0].dataIndex,seriesIndex:k[0].seriesIndex,from:this.uid});if(h&&g.get("showContent")&&g.get("show"))if(q=f.map(b,function(a,b){return a.getDataParams(k[b].dataIndex)}),e)l(g.get("position"),c[0],c[1],this._tooltipContent,q,null,n);else{e=k[0].dataIndex;var p="time"===h.type?h.scale.getLabel(d[m]):b[0].getData().getName(e);b=(p?p+"\x3cbr /\x3e":"")+f.map(b,function(a,b){return a.formatTooltip(k[b].dataIndex,!0)}).join("\x3cbr /\x3e");this._showTooltipContent(g,b,q,"axis_"+a.name+"_"+e,c[0],c[1],null,n)}},_showItemTooltipContent:function(a,b,c,d){var e=this._api,g=a.getData(c).getItemModel(b).get("tooltip",!0);"string"===typeof g&&(g={formatter:g});var f=a.getModel("tooltip",this._tooltipModel),g=new q(g,f,f.ecModel),f=a.getDataParams(b,c);c=a.formatTooltip(b,!1,c);this._showTooltipContent(g,c,f,"item_"+a.name+"_"+b,d.offsetX,d.offsetY,d.target,e)},_showTooltipContent:function(a,b,c,d,f,h,k,q){this._ticket="";if(a.get("showContent")&&a.get("show")){var g=this._tooltipContent,m=a.get("formatter"),n=a.get("position");if(m)if("string"===typeof m)b=e.formatTpl(m,c);else if("function"===typeof m){var p=this;p._ticket=d;b=m(c,d,function(a,b){a===p._ticket&&(g.setContent(b),l(n,f,h,g,c,k,q))})}g.show(a);g.setContent(b);l(n,f,h,g,c,k,q)}},_showAxisPointer:function(a){a?(a=this._axisPointers[a])&&f.each(a,function(a){a.show()}):(this.group.eachChild(function(a){a.show()}),this.group.show())},_resetLastHover:function(){var a=this._lastHover;a.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:a.payloadBatch});this._lastHover={}},_hideAxisPointer:function(a){a?(a=this._axisPointers[a])&&f.each(a,function(a){a.hide()}):this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout);this._hideAxisPointer();this._resetLastHover();this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay"));this._api.dispatchAction({type:"hideTip",from:this.uid});this._lastX=this._lastY=null},dispose:function(a,b){if(!c.node){var d=b.getZr();this._tooltipContent.hide();d.off("click",this._tryShow);d.off("mousemove",this._mousemove);d.off("mouseout",this._hide);d.off("globalout",this._hide);b.off("showTip",this._manuallyShowTip);b.off("hideTip",this._manuallyHideTip)}}})},function(r,p,a){function l(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return e.map(t,function(a){return a+"transition:"+b}).join(";")}function n(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();d&&b.push("color:"+d);b.push("font:"+a.getFont());c&&b.push("line-height:"+Math.round(3*c/2)+"px");q(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)});return b.join(";")}function k(a){var b=[],e=a.get("transitionDuration"),f=a.get("backgroundColor"),h=a.getModel("textStyle"),k=a.get("padding");e&&b.push(l(e));f&&(g.canvasSupported?b.push("background-Color:"+f):(b.push("background-Color:#"+d.toHex(f)),b.push("filter:alpha(opacity\x3d70)")));q(["width","color","radius"],function(c){var d="border-"+c,e=m(d),e=a.get(e);null!=e&&b.push(d+":"+e+("color"===c?"":"px"))});b.push(n(h));null!=k&&b.push("padding:"+c.normalizeCssArray(k).join("px ")+"px");return b.join(";")+";"}function h(a,c){var d=document.createElement("div"),e=c.getZr();this.el=d;this._x=c.getWidth()/2;this._y=c.getHeight()/2;a.appendChild(d);this._container=a;this._show=!1;var g=this;d.onmouseenter=function(){g.enterable&&(clearTimeout(g._hideTimeout),g._show=!0);g._inContent=!0};d.onmousemove=function(c){if(!g.enterable){var d=e.handler;b.normalizeEvent(a,c);d.dispatch("mousemove",c)}};d.onmouseleave=function(){g.enterable&&g._show&&g.hideLater(g._hideDelay);g._inContent=!1};f(d,a)}function f(a,c){function d(b){var d;a:{for(d=b.target;d&&d!==c;){if(d===a){d=!0;break a}d=d.parentNode}d=void 0}d&&b.preventDefault()}b.addEventListener(c,"touchstart",d);b.addEventListener(c,"touchmove",d);b.addEventListener(c,"touchend",d)}var e=a(4),d=a(39),b=a(87),c=a(6),q=e.each,m=c.toCamelCase,g=a(2),t=["","-webkit-","-moz-","-o-"];h.prototype={constructor:h,enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),a=a.style;"absolute"!==a.position&&"absolute"!==b.position&&(a.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+k(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";this._show=!0},setContent:function(a){var b=this.el;b.innerHTML=a;b.style.display=a?"block":"none"},moveTo:function(a,b){var c=this.el.style;c.left=a+"px";c.top=b+"px";this._x=a;this._y=b},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(a){!this._show||this._inContent&&this.enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};r.exports=h},function(r,p,a){a(284);a(290);a(292);a(1).extendComponentView({type:"polar"})},function(r,p,a){function l(a,c){var b=a.get("center"),d=a.get("radius"),e=c.getWidth(),h=c.getHeight(),k=f.parsePercent;this.cx=k(b[0],e);this.cy=k(b[1],h);this.getRadiusAxis().setExtent(0,k(d,Math.min(e,h)/2))}function n(a,c){var b=this,e=b.getAngleAxis(),g=b.getRadiusAxis();e.scale.setExtent(Infinity,-Infinity);g.scale.setExtent(Infinity,-Infinity);a.eachSeries(function(a){a.coordinateSystem===b&&(a=a.getData(),g.scale.unionExtent(a.getDataExtent("radius","category"!==g.type)),e.scale.unionExtent(a.getDataExtent("angle","category"!==e.type)))});d(e,e.model);d(g,g.model);if("category"===e.type&&!e.onBand){var f=e.getExtent(),h=360/e.scale.count();e.inverse?f[1]+=h:f[1]-=h;e.setExtent(f[0],f[1])}}function k(a,c){a.type=c.get("type");a.scale=e.createScaleByModel(c);a.onBand=c.get("boundaryGap")&&"category"===a.type;if("angleAxis"===c.mainType){var b=c.get("startAngle");a.inverse=c.get("inverse")^c.get("clockwise");a.setExtent(b,b+(a.inverse?-360:360))}c.axis=a;a.model=c}var h=a(285),f=a(7),e=a(114),d=e.niceScaleExtent;a(288);r={dimensions:h.prototype.dimensions,create:function(a,c){var b=[];a.eachComponent("polar",function(a,d){var e=new h(d);e.resize=l;e.update=n;var g=e.getRadiusAxis(),f=e.getAngleAxis(),m=a.findAxisModel("radiusAxis"),q=a.findAxisModel("angleAxis");k(g,m);k(f,q);e.resize(a,c);b.push(e);a.coordinateSystem=e});a.eachSeries(function(a){"polar"===a.get("coordinateSystem")&&(a.coordinateSystem=b[a.get("polarIndex")])});return b}};a(26).register("polar",r)},function(r,p,a){var l=a(286),n=a(287);p=function(a){this.name=a||"";this.cy=this.cx=0;this._radiusAxis=new l;this._angleAxis=new n};p.prototype={constructor:p,type:"polar",dimensions:["radius","angle"],containPoint:function(a){a=this.pointToCoord(a);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxesByScale:function(a){var h=[],f=this._angleAxis,e=this._radiusAxis;f.scale.type===a&&h.push(f);e.scale.type===a&&h.push(e);return h},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var h=this._angleAxis;return a===h?this._radiusAxis:h},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(a){return a.mapArray(this.dimensions,function(a,f){return this.dataToPoint([a,f])},this)},dataToPoint:function(a,h){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],h),this._angleAxis.dataToAngle(a[1],h)])},pointToData:function(a,h){var f=this.pointToCoord(a);return[this._radiusAxis.radiusToData(f[0],h),this._angleAxis.angleToData(f[1],h)]},pointToCoord:function(a){var h=a[0]-this.cx,f=a[1]-this.cy,e=this.getAngleAxis(),d=e.getExtent();a=Math.min(d[0],d[1]);d=Math.max(d[0],d[1]);e.inverse?a=d-360:d=a+360;e=Math.sqrt(h*h+f*f);h=Math.atan2(-(f/e),h/e)/Math.PI*180;for(f=h<a?1:-1;h<a||h>d;)h+=360*f;return[e,h]},coordToPoint:function(a){var h=a[0];a=a[1]/180*Math.PI;return[Math.cos(a)*h+this.cx,-Math.sin(a)*h+this.cy]}};r.exports=p},function(r,p,a){function l(a,h){n.call(this,"radius",a,h);this.type="category"}p=a(4);var n=a(123);l.prototype={constructor:l,dataToRadius:n.prototype.dataToCoord,radiusToData:n.prototype.coordToData};p.inherits(l,n);r.exports=l},function(r,p,a){function l(a,h){h=h||[0,360];n.call(this,"angle",a,h);this.type="category"}p=a(4);var n=a(123);l.prototype={constructor:l,dataToAngle:n.prototype.dataToCoord,angleToData:n.prototype.coordToData};p.inherits(l,n);r.exports=l},function(r,p,a){a(289);a(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var l,k=this.ecModel;k.eachComponent(a,function(a){k.getComponent("polar",a.getShallow("polarIndex"))===this&&(l=a)},this);return l},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(r,p,a){function l(a,h){return h.type||(h.data?"category":"value")}r=a(4);var n=a(19);p=a(127);n=n.extend({type:"polarAxis",axis:null});r.merge(n.prototype,a(129));p("angle",n,l,{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}});p("radius",n,l,{polarIndex:0,splitNumber:5})},function(r,p,a){a(284);a(291)},function(r,p,a){function l(a,d,b,c){d=a.coordToPoint([d,c]);a=a.coordToPoint([b,c]);return{x1:d[0],y1:d[1],x2:a[0],y2:a[1]}}var n=a(4),k=a(43),h=a(12),f=["axisLine","axisLabel","axisTick","splitLine","splitArea"];a(1).extendComponentView({type:"angleAxis",render:function(a,d){this.group.removeAll();if(a.get("show")){var b=d.getComponent("polar",a.get("polarIndex")),c=a.axis,e=b.coordinateSystem,h=e.getRadiusAxis().getExtent(),g=c.getTicksCoords();"category"!==c.type&&g.pop();n.each(f,function(b){if(a.get(b+".show"))this["_"+b](a,e,g,h)},this)}},_axisLine:function(a,d,b,c){a=a.getModel("axisLine.lineStyle");d=new k.Circle({shape:{cx:d.cx,cy:d.cy,r:c[1]},style:a.getLineStyle(),z2:1,silent:!0});d.style.fill=null;this.group.add(d)},_axisTick:function(a,d,b,c){var e=a.getModel("axisTick"),f=(e.get("inside")?-1:1)*e.get("length");b=n.map(b,function(a){return new k.Line({shape:l(d,c[1],c[1]+f,a)})});this.group.add(k.mergePath(b,{style:n.defaults(e.getModel("lineStyle").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})}))},_axisLabel:function(a,d,b,c){for(var e=a.axis,f=a.get("data"),g=a.getModel("axisLabel"),l=g.getModel("textStyle"),n=a.getFormattedLabels(),g=g.get("margin"),e=e.getLabelsCoords(),p=0;p<b.length;p++){var r=c[1],v=d.coordToPoint([r+g,e[p]]),z=d.cx,A=d.cy,z=.3>Math.abs(v[0]-z)/r?"center":v[0]>z?"left":"right",r=.3>Math.abs(v[1]-A)/r?"middle":v[1]>A?"top":"bottom",A=l;f&&f[p]&&f[p].textStyle&&(A=new h(f[p].textStyle,l));this.group.add(new k.Text({style:{x:v[0],y:v[1],fill:A.getTextColor()||a.get("axisLine.lineStyle.color"),text:n[p],textAlign:z,textVerticalAlign:r,textFont:A.getFont()},silent:!0}))}},_splitLine:function(a,d,b,c){for(var e=a.getModel("splitLine").getModel("lineStyle"),f=e.get("color"),g=0,f=f instanceof Array?f:[f],h=[],p=0;p<b.length;p++){var r=g++%f.length;h[r]=h[r]||[];h[r].push(new k.Line({shape:l(d,c[0],c[1],b[p])}))}for(p=0;p<h.length;p++)this.group.add(k.mergePath(h[p],{style:n.defaults({stroke:f[p%f.length]},e.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,d,b,c){var e=a.getModel("splitArea").getModel("areaStyle"),f=e.get("color"),g=0,f=f instanceof Array?f:[f],h=[],l=Math.PI/180,p=-b[0]*l,r=Math.min(c[0],c[1]);c=Math.max(c[0],c[1]);a=a.get("clockwise");for(var v=1;v<b.length;v++){var z=g++%f.length;h[z]=h[z]||[];h[z].push(new k.Sector({shape:{cx:d.cx,cy:d.cy,r0:r,r:c,startAngle:p,endAngle:-b[v]*l,clockwise:a},silent:!0}));p=-b[v]*l}for(v=0;v<h.length;v++)this.group.add(k.mergePath(h[v],{style:n.defaults({fill:f[v%f.length]},e.getAreaStyle()),silent:!0}))}})},function(r,p,a){a(284);a(293)},function(r,p,a){var l=a(4),n=a(43),k=a(132),h=["axisLine","axisLabel","axisTick","axisName"],f=["splitLine","splitArea"];a(1).extendComponentView({type:"radiusAxis",render:function(a,d){this.group.removeAll();if(a.get("show")){var b=d.getComponent("polar",a.get("polarIndex")),c=b.coordinateSystem.getAngleAxis(),e=a.axis,m=b.coordinateSystem,g=e.getTicksCoords(),n=c.getExtent()[0],p=e.getExtent(),b={position:[m.cx,m.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:a.getModel("axisLabel").get("rotate"),z2:1},b=new k(a,b);l.each(h,b.add,b);this.group.add(b.getGroup());l.each(f,function(b){if(a.get(b+".show"))this["_"+b](a,m,n,p,g)},this)}},_splitLine:function(a,d,b,c,f){a=a.getModel("splitLine").getModel("lineStyle");b=a.get("color");c=0;b=b instanceof Array?b:[b];for(var e=[],g=0;g<f.length;g++){var h=c++%b.length;e[h]=e[h]||[];e[h].push(new n.Circle({shape:{cx:d.cx,cy:d.cy,r:f[g]},silent:!0}))}for(g=0;g<e.length;g++)this.group.add(n.mergePath(e[g],{style:l.defaults({stroke:b[g%b.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(a,d,b,c,f){a=a.getModel("splitArea").getModel("areaStyle");b=a.get("color");c=0;b=b instanceof Array?b:[b];for(var e=[],g=f[0],h=1;h<f.length;h++){var k=c++%b.length;e[k]=e[k]||[];e[k].push(new n.Sector({shape:{cx:d.cx,cy:d.cy,r0:g,r:f[h],startAngle:0,endAngle:2*Math.PI},silent:!0}));g=f[h]}for(h=0;h<e.length;h++)this.group.add(n.mergePath(e[h],{style:l.defaults({fill:b[h%b.length]},a.getAreaStyle()),silent:!0}))}})},function(r,p,a){function l(a,f){f.update="updateView";n.registerAction(f,function(e,d){var b={};d.eachComponent({mainType:"geo",query:e},function(c){c[a](e.name);k.each(c.coordinateSystem.regions,function(a){b[a.name]=c.isSelected(a.name)||!1})});return{selected:b,name:e.name}})}a(295);a(163);a(296);a(176);var n=a(1),k=a(4);l("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});l("select",{type:"geoSelect",event:"geoselected"});l("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(r,p,a){var l=a(5),n=a(19),k=a(12),h=a(4);p=a(140);var f=a(163);a=n.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){n.prototype.init.apply(this,arguments);l.defaultEmphasis(a.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var a=this.option,d=this;a.regions=f.getFilledRegions(a.regions,a.map);this._optionModelMap=h.reduce(a.regions||[],function(a,c){c.name&&(a[c.name]=new k(c,d));return a},{});this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap[a]},getFormattedLabel:function(a,d){var b=this.get("label."+d+".formatter"),c={name:a};if("function"===typeof b)return c.status=d,b(c);if("string"===typeof b)return b.replace("{a}",c.seriesName)},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}});h.mixin(a,p);r.exports=a},function(r,p,a){var l=a(173);r.exports=a(1).extendComponentView({type:"geo",init:function(a,k){var h=new l(k,!0);this._mapDraw=h;this.group.add(h.group)},render:function(a,k,h,f){if(!f||"geoToggleSelect"!==f.type||f.from!==this.uid){var e=this._mapDraw;a.get("show")?e.draw(a,k,h,this,f):this._mapDraw.group.removeAll();this.group.silent=a.get("silent")}}})},function(r,p,a){a(298);a(301);a(302);a(1).extendComponentView({type:"single"})},function(r,p,a){var l=a(299);a(26).register("single",{create:function(a,k){var h=[];a.eachComponent("singleAxis",function(f,e){var d=new l(f,a,k);d.name="single_"+e;d.resize(f,k);f.coordinateSystem=d;h.push(d)});a.eachSeries(function(f){if("singleAxis"===f.get("coordinateSystem")){var e=f.get("singleAxisIndex")||0,e=a.getComponent("singleAxis",e);f.coordinateSystem=e.coordinateSystem}});return h},dimensions:l.prototype.dimensions})},function(r,p,a){function l(a,e,d){this.dimension="x";this.dimensions=["x"];this._axis=null;this._init(a,e,d);this._model=a}var n=a(300),k=a(114),h=a(21);l.prototype={type:"singleAxis",constructor:l,_init:function(a,e,d){e=new n(this.dimension,k.createScaleByModel(a),[0,0],a.get("type"),a.get("position"));e.onBand="category"===e.type&&a.get("boundaryGap");e.inverse=a.get("inverse");e.orient=a.get("orient");a.axis=e;e.model=a;this._axis=e},update:function(a,e){this._updateAxisFromSeries(a)},_updateAxisFromSeries:function(a){a.eachSeries(function(a){var d=a.getData();this._axis.scale.unionExtent(d.getDataExtent(a.coordDimToDataDim(this.dimension)));k.niceScaleExtent(this._axis,this._axis.model)},this)},resize:function(a,e){this._rect=h.getLayoutRect({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:e.getWidth(),height:e.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,e=this._axis,d=e.isHorizontal(),b=d?[0,a.width]:[0,a.height],c=e.reverse?1:0;e.setExtent(b[c],b[1-c]);this._updateAxisTransform(e,d?a.x:a.y)},_updateAxisTransform:function(a,e){var d=a.getExtent(),b=d[0]+d[1],d=a.isHorizontal();a.toGlobalCoord=d?function(a){return a+e}:function(a){return b-a+e};a.toLocalCoord=d?function(a){return a-e}:function(a){return b-a+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},containPoint:function(a){var e=this.getRect(),d=this.getAxis();return"horizontal"===d.orient?d.contain(d.toLocalCoord(a[0]))&&a[1]>=e.y&&a[1]<=e.y+e.height:d.contain(d.toLocalCoord(a[1]))&&a[0]>=e.y&&a[0]<=e.y+e.height},pointToData:function(a){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(a["horizontal"===e.orient?0:1]))]},dataToPoint:function(a){var e=this.getAxis(),d=this.getRect(),b=[],c="horizontal"===e.orient?0:1;b[c]=e.toGlobalCoord(e.dataToCoord(+a));b[1-c]=0===c?d.y+d.height/2:d.x+d.width/2;return b}};r.exports=l},function(r,p,a){var l=a(4),n=a(123),k=a(114);p=function(a,f,e,d,b){n.call(this,a,f,e);this.type=d||"value";this.position=b||"bottom";this._labelInterval=this.orient=null};p.prototype={constructor:p,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getLabelInterval:function(){var a=this._labelInterval;if(!a){var a=this.model,f=a.getModel("axisLabel"),e=f.get("interval");if("category"!==this.type||"auto"!==e)return a=this._labelInterval="auto"===e?0:e;a=this._labelInterval=k.getAxisLabelInterval(l.map(this.scale.getTicks(),this.dataToCoord,this),a.getFormattedLabels(),f.getModel("textStyle").getFont(),this.isHorizontal())}return a},toGlobalCoord:null,toLocalCoord:null};l.inherits(p,n);r.exports=p},function(r,p,a){var l=a(132),n=a(4),k=a(43),h=l.getInterval,f=l.ifIgnoreOnTick,e=["axisLine","axisLabel","axisTick","axisName"];p=a(1).extendComponentView({type:"singleAxis",render:function(a,b){var c=this.group;c.removeAll();var d=a.axis,f={},g=d.position,h=d.orient,k=a.coordinateSystem.getRect(),k=[k.x,k.x+k.width,k.y,k.y+k.height],p={top:k[2],bottom:k[3]},r={left:k[0],right:k[1]};f.position=["vertical"===h?r[g]:k[0],"horizontal"===h?p[g]:k[3]];f.rotation=Math.PI/2*{horizontal:0,vertical:1}[h];f.labelDirection=f.tickDirection=f.nameDirection={top:-1,bottom:1,right:1,left:-1}[g];a.getModel("axisTick").get("inside")&&(f.tickDirection=-f.tickDirection);a.getModel("axisLabel").get("inside")&&(f.labelDirection=-f.labelDirection);h=a.getModel("axisLabel").get("rotate");f.labelRotation="top"===g?-h:h;f.labelInterval=d.getLabelInterval();f.z2=1;d=new l(a,f);n.each(e,d.add,d);c.add(d.getGroup());a.get("splitLine.show")&&this._splitLine(a,f.labelInterval)},_splitLine:function(a,b){for(var c=a.axis,d=a.getModel("splitLine"),e=d.getModel("lineStyle"),g=e.get("width"),l=e.get("color"),d=h(d,b),l=l instanceof Array?l:[l],n=a.coordinateSystem.getRect(),p=c.isHorizontal(),r=[],v=0,z=c.getTicksCoords(),A=[],y=[],B=0;B<z.length;++B)if(!f(c,B,d)){var J=c.toGlobalCoord(z[B]);p?(A[0]=J,A[1]=n.y,y[0]=J,y[1]=n.y+n.height):(A[0]=n.x,A[1]=J,y[0]=n.x+n.width,y[1]=J);J=v++%l.length;r[J]=r[J]||[];r[J].push(new k.Line(k.subPixelOptimizeLine({shape:{x1:A[0],y1:A[1],x2:y[0],y2:y[1]},style:{lineWidth:g},silent:!0})))}for(B=0;B<r.length;++B)this.group.add(k.mergePath(r[B],{style:{stroke:l[B%l.length],lineDash:e.getLineDash(),lineWidth:g},silent:!0}))}});r.exports=p},function(r,p,a){var l=a(19);p=a(127);var n=a(4),l=l.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null});n.merge(l.prototype,a(129));p("single",l,function(a,h){return h.type||(h.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});r.exports=l},function(r,p,a){a(1).registerPreprocessor(a(304));a(305);a(310);a(311);a(312);a(313)},function(r,p,a){function l(a){var f={};n.each(a,function(a){f[a]=1});a.length=0;n.each(f,function(e,d){a.push(d)})}var n=a(4),k=["rect","polygon","keep","clear"];r.exports=function(a,f){var e=a&&a.brush;n.isArray(e)||(e=e?[e]:[]);if(e.length){var d=[];n.each(e,function(a){a=a.hasOwnProperty("toolbox")?a.toolbox:[];a instanceof Array&&(d=d.concat(a))});e=a&&a.toolbox;n.isArray(e)&&(e=e[0]);e||(e={feature:{}},a.toolbox=[e]);e=e.feature||(e.feature={});e=e.brush||(e.brush={});e=e.type||(e.type=[]);e.push.apply(e,d);l(e);f&&!e.length&&e.push.apply(e,k)}}},function(r,p,a){function l(a,b,c,d,e){e&&(e=a.getZr(),e.__ecInBrushSelectEvent||(e.__ecBrushSelect||(e.__ecBrushSelect=n),g.createOrUpdate(e,"__ecBrushSelect",c,b)(a,d)))}function n(a,b){if(!a.isDisposed()){var c=a.getZr();c.__ecInBrushSelectEvent=!0;a.dispatchAction({type:"brushSelect",batch:b});c.__ecInBrushSelectEvent=!1}}function k(a,b,c,d){c=c.getItemLayout(d);d=0;for(var e=b.length;d<e;d++){var g=b[d];if(a[g.brushType](c,g.selectors,g))return!0}}function h(a){var b=a.brushSelector;if(c.isString(b)){var d=[];c.each(m,function(a,c){d[c]=a[b]});return d}if(c.isFunction(b)){var e={};c.each(m,function(a,c){e[c]=b});return e}return b}function f(a,b){var d=a.option.seriesIndex;return null!=d&&"all"!==d&&(c.isArray(d)?0>c.indexOf(d,b):b!==d)}function e(a){var b=a.selectors={};c.each(m[a.brushType],function(c,d){b[d]=function(d){return c(d,b,a)}});return a}function d(a){return new q(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}r=a(1);var b=a(306),c=a(4),q=a(9),m=a(307),g=a(308),t=a(309),w=["inBrush","outOfBrush"];a=r.PRIORITY.VISUAL.BRUSH;r.registerLayout(a,function(a,b,c){a.eachComponent({mainType:"brush"},function(b){c&&"takeGlobalCursor"===c.type&&b.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1});b.coordInfoList=t.makeCoordInfoList(b.option,a);t.parseInputRanges(b,a)})});r.registerVisual(a,function(a,d,g){var m=[],q,n;a.eachComponent({mainType:"brush"},function(d,g){function l(a){return"all"===z||y[a]}function p(a,b){var c=a.coordinateSystem;J|=c.hasAxisbrushed();l(b)&&c.eachActiveState(a.getData(),function(a,b){"active"===a&&(A[b]=1)})}function r(a,b,e){var g=h(a);if(g&&!f(d,b)&&(c.each(F,function(b){g[b.brushType]&&t.controlSeries(b,d,a)&&e.push(b);J|=!!e.length}),l(b)&&e.length)){var m=a.getData();m.each(function(a){k(g,e,m,a)&&(A[a]=1)})}}var x={brushId:d.id,brushIndex:g,brushName:d.name,areas:c.clone(d.areas),selected:[]};m.push(x);var v=d.option,z=v.brushLink,y=[],A=[],B=[],J=0;g||(q=v.throttleType,n=v.throttleDelay);var F=c.map(d.areas,function(a){return e(c.defaults({boundingRect:u[a.brushType](a)},a))}),P=b.createVisualMappings(d.option,w,function(a){a.mappingMethod="fixed"});c.isArray(z)&&c.each(z,function(a){y[a]=1});a.eachSeries(function(a,b){var c=B[b]=[];"parallel"===a.subType?p(a,b,c):r(a,b,c)});a.eachSeries(function(a,c){var d={seriesId:a.id,seriesIndex:c,seriesName:a.name,dataIndex:[]};x.selected.push(d);var e=h(a),g=B[c],f=a.getData(),m=l(c)?function(a){return A[a]?(d.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return k(e,g,f,a)?(d.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"};(l(c)?J:g.length)&&b.applyVisual(w,P,f,m)})});l(d,q,n,m,g)});var u={lineX:c.noop,lineY:c.noop,rect:function(a){return d(a.range)},polygon:function(a){var b;a=a.range;for(var c=0,e=a.length;c<e;c++){b=b||[[Infinity,-Infinity],[Infinity,-Infinity]];var g=a[c];g[0]<b[0][0]&&(b[0][0]=g[0]);g[0]>b[0][1]&&(b[0][1]=g[0]);g[1]<b[1][0]&&(b[1][0]=g[1]);g[1]>b[1][1]&&(b[1][1]=g[1])}return b&&d(b)}}},function(r,p,a){function l(a){if(a)for(var e in a)if(a.hasOwnProperty(e))return!0}var n=a(4),k=a(192),h=n.each;r.exports={createVisualMappings:function(a,e,d){function b(){var a=function(){};a.prototype.__hidden=a.prototype;return new a}var c={};h(e,function(e){var f=c[e]=b();h(a[e],function(a,b){if(k.isValidType(b)){var c={type:b,visual:a};d&&d(c,e);f[b]=new k(c);"opacity"===b&&(c=n.clone(c),c.type="colorAlpha",f.__hidden.__alphaForOpacity=new k(c))}})});return c},replaceVisualOption:function(a,e,d){var b;n.each(d,function(a){e.hasOwnProperty(a)&&l(e[a])&&(b=!0)});b&&n.each(d,function(b){e.hasOwnProperty(b)&&l(e[b])?a[b]=n.clone(e[b]):delete a[b]})},applyVisual:function(a,e,d,b,c,h){function f(a){return d.getItemVisual(p,a)}function g(a,b){d.setItemVisual(p,a,b)}function l(a,d){p=null==h?a:d;for(var m=b.call(c,a),k=e[m],m=q[m],l=0,n=m.length;l<n;l++){var r=m[l];k[r]&&k[r].applyVisual(a,f,g)}}var q={};n.each(a,function(a){var b=k.prepareVisualTypes(e[a]);q[a]=b});var p;null==h?d.each(l,!0):d.each([h],l,!0)}}},function(r,p,a){function l(a){var b=["x","y"],c=["width","height"];return{point:function(b,c,d){return n(b[a],d.range)},rect:function(d,e,g){e=g.range;return n(d[b[a]],e)||n(d[b[a]]+d[c[a]],e)}}}function n(a,b){return b[0]<=a&&a<=b[1]}function k(a,b,c,e,f){for(var d=0,h=f[f.length-1];d<f.length;d++){var m=f[d],k;k=a;var l=b,q=c,n=e,p=m[0],r=m[1],B=h[0],J=h[1],h=(q-k)*(r-J)-(p-B)*(n-l);1E-6>=h&&-1E-6<=h?k=!1:(B=((p-k)*(r-J)-(p-B)*(r-l))/h,0>B||1<B?k=!1:(k=((q-k)*(r-l)-(p-k)*(n-l))/h,k=0>k||1<k?!1:!0));if(k)return!0;h=m}}function h(a){var b=a.x,c=a.y,d=a.width;a=a.height;0>d&&(b+=d,d=-d);0>a&&(c+=a,a=-a);return new e(b,c,d,a)}var f=a(167).contain,e=a(9);p={lineX:l(0),lineY:l(1),rect:{point:function(a,b,c){return c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return c.boundingRect.intersect(h(a))}},polygon:{point:function(a,b,c){return c.boundingRect.contain(a[0],a[1])&&f(c.range,a[0],a[1])},rect:function(a,b,c){b=c.range;if(1>=b.length)return!1;c=a.x;var d=a.y,e=a.width,g=a.height,l=b[0];if(f(b,c,d)||f(b,c+e,d)||f(b,c,d+g)||f(b,c+e,d+g)||h(a).contain(l[0],l[1])||k(c,d,c+e,d,b)||k(c,d,c,d+g,b)||k(c+e,d,c+e,d+g,b)||k(c,d+g,c+e,d+g,b))return!0}}};r.exports=p},function(r,p){var a={throttle:function(a,n,k){function h(){d=(new Date).getTime();b=null;a.apply(l,m||[])}var f,e=0,d=0,b=null,c,l,m;n=n||0;var g=function(){f=(new Date).getTime();l=this;m=arguments;c=f-(k?e:d)-n;clearTimeout(b);k?b=setTimeout(h,n):0<=c?h():b=setTimeout(h,-c);e=f};g.clear=function(){b&&(clearTimeout(b),b=null)};return g},createOrUpdate:function(l,n,k,h){var f=l[n];if(f){var e=f["\x00__throttleOriginMethod"]||f,d=f["\x00__throttleType"];if(f["\x00__throttleRate"]!==k||d!==h){if(null==k||!h)return l[n]=e;f=l[n]=a.throttle(e,k,"debounce"===h);f["\x00__throttleOriginMethod"]=e;f["\x00__throttleType"]=h;f["\x00__throttleRate"]=k}return f}},clear:function(a,n){var k=a[n];k&&k["\x00__throttleOriginMethod"]&&(a[n]=k["\x00__throttleOriginMethod"])}};r.exports=a},function(r,p,a){function l(a){a[0]>a[1]&&a.reverse();return a}function n(a,b){for(var c=!0,e=0;e<d.length;e++){var f=d[e]+"Index";if(0<=a[f])for(var c=!1,h=0;h<b.length;h++)if(b[h][f]===a[f])return b[h]}return c}function k(a,b,c,d){var e=c.coordSys.getAxis(a);h.assert(e,"line brush is only available in cartesian (grid).");return l(h.map([0,1],function(a){return b?e.coordToData(e.toLocalCoord(d[a])):e.toGlobalCoord(e.dataToCoord(d[a]))}))}var h=a(4),f=a(43),e=h.each;p={};var d=["geo","xAxis","yAxis"],b=["dataToPoint","pointToData"];p.parseOutputRanges=function(a,b,d,f){e(a,function(a,d){var e=a.panelId;e&&(e=e.split("--"),a[e[0]+"Index"]=+e[1],e=n(a,b),a.coordRange=c[a.brushType](1,e,a.range),f&&(f[d]=e))})};p.parseInputRanges=function(a,b){e(a.areas,function(b){var d=n(b,a.coordInfoList);h.assert(!d||!0===d||b.coordRange,"coordRange must be specified when coord index specified.");h.assert(!d||!0!==d||b.range,"range must be specified.");b.range=b.range||[];d&&!0!==d&&(b.range=c[b.brushType](0,d,b.coordRange),b.panelId=d.panelId)})};p.makePanelOpts=function(a){var b=[];e(a,function(a){var c=a.coordSys,d;0<=a.geoIndex?(d=c.getBoundingRect().clone(),d.applyTransform(f.getTransform(c))):d=c.grid.getRect().clone();b.push({panelId:a.panelId,rect:d})});return b};p.makeCoordInfoList=function(a,b){var c=[];e(d,function(d){var e=a[d+"Index"];null!=e&&"none"!==e&&("all"===e||h.isArray(e)||(e=[e]),b.eachComponent({mainType:d},function(a,b){if(!("all"!==e&&0>h.indexOf(e,b))){var g,f;"xAxis"===d||"yAxis"===d?g=a.axis.grid:f=a.coordinateSystem;for(var m,k=0,l=c.length;k<l;k++){var q=c[k];h.assert(q[d+"Index"]!=b,"Coord should not be defined duplicately: "+d+b);if("yAxis"===d&&!q.yAxis&&q.xAxis){var n=g.getCartesian(q.xAxisIndex,b);if(n){f=n;m=q;break}}}!m&&c.push(m={});m[d]=a;m[d+"Index"]=b;m.panelId=d+"--"+b;m.coordSys=f||g.getCartesian(m.xAxisIndex,m.yAxisIndex);m.coordSys?c[d+"Has"]=!0:c.pop()}}))});return c};p.controlSeries=function(a,b,c){a=n(a,b.coordInfoList);return!0===a||a&&a.coordSys===c.coordinateSystem};var c={lineX:h.curry(k,"x"),lineY:h.curry(k,"y"),rect:function(a,c,d){var e=c.coordSys;c=e[b[a]]([d[0][0],d[1][0]]);a=e[b[a]]([d[0][1],d[1][1]]);return[l([c[0],a[0]]),l([c[1],a[1]])]},polygon:function(a,c,d){c=c.coordSys;return h.map(d,c[b[a]],c)}};r.exports=p},function(r,p,a){p=a(1);var l=a(4),n=a(306),k=a(12),h=["#ddd"];a=p.extendComponentModel({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,e){var d=this.option;!e&&n.replaceVisualOption(d,a,["inBrush","outOfBrush"]);d.inBrush=d.inBrush||{};d.outOfBrush=d.outOfBrush||{color:h}},setAreas:function(a){l.assert(l.isArray(a));l.each(a,function(a){l.assert(a.brushType,"Illegal areas")});a&&(this.areas=l.map(a,function(a){return this._mergeBrushOption(a)},this))},setBrushOption:function(a){this.brushOption=this._mergeBrushOption(a);this.brushType=this.brushOption.brushType},_mergeBrushOption:function(a){var e=this.option;return l.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:(new k(e.brushStyle)).getItemStyle(),removeOnClick:e.removeOnClick},a,!0)}});r.exports=a},function(r,p,a){function l(a,e,d,b){b&&b.$from===a.id||this._brushController.setPanels(h.makePanelOpts(a.coordInfoList)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}var n=a(4),k=a(233);p=a(1);var h=a(309);r.exports=p.extendComponentView({type:"brush",init:function(a,e){this.ecModel=a;this.api=e;(this._brushController=new k(e.getZr())).on("brush",n.bind(this._onBrush,this)).mount()},render:function(a){this.model=a;return l.apply(this,arguments)},updateView:l,updateLayout:l,updateVisual:l,dispose:function(){this._brushController.dispose()},_onBrush:function(a,e){var d=this.model.id;h.parseOutputRanges(a,this.model.coordInfoList,this.ecModel);e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:"brush",brushId:d,areas:n.clone(a),$from:d})}})},function(r,p,a){r=a(1);r.registerAction({type:"brush",event:"brush",update:"updateView"},function(a,n){n.eachComponent({mainType:"brush",query:a},function(k){k.setAreas(a.areas)})});r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(r,p,a){function l(a,h,f){this.model=a;this.ecModel=h;this.api=f}p=a(314);var n=a(4);l.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}};a=l.prototype;a.render=a.updateView=a.updateLayout=function(a,h,f){var e,d,b;h.eachComponent({mainType:"brush"},function(a){e=a.brushType;d=a.brushOption.brushMode||"single";b|=a.areas.length});this._brushType=e;this._brushMode=d;n.each(a.get("type",!0),function(c){a.setIconStatus(c,("keep"===c?"multiple"===d:"clear"===c?b:c===e)?"emphasis":"normal")})};a.getIcons=function(){var a=this.model,h=a.get("icon",!0),f={};n.each(a.get("type",!0),function(a){h[a]&&(f[a]=h[a])});return f};a.onclick=function(a,h,f){h=this.api;a=this._brushType;var e=this._brushMode;"clear"===f?h.dispatchAction({type:"brush",areas:[]}):h.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===f?a:a===f?!1:f,brushMode:"keep"===f?"multiple"===e?"single":"multiple":e}})};p.register("brush",l);r.exports=l},function(r,p){var a={};r.exports={register:function(l,n){a[l]=n},get:function(l){return a[l]}}},function(r,p,a){r=a(1);var l=a(43),n=a(21);r.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});r.extendComponentView({type:"title",render:function(a,h,f){this.group.removeAll();if(a.get("show")){h=this.group;var e=a.getModel("textStyle"),d=a.getModel("subtextStyle"),b=a.get("textAlign"),c=a.get("textBaseline"),e=new l.Text({style:{text:a.get("text"),textFont:e.getFont(),fill:e.getTextColor()},z2:10}),k=e.getBoundingRect(),m=a.get("subtext"),d=new l.Text({style:{text:m,textFont:d.getFont(),fill:d.getTextColor(),y:k.height+a.get("itemGap"),textBaseline:"top"},z2:10}),g=a.get("link"),p=a.get("sublink");e.silent=!g;d.silent=!p;if(g)e.on("click",function(){window.open(g,"_"+a.get("target"))});if(p)d.on("click",function(){window.open(p,"_"+a.get("subtarget"))});h.add(e);m&&h.add(d);m=h.getBoundingRect();k=a.getBoxLayoutParams();k.width=m.width;k.height=m.height;f=n.getLayoutRect(k,{width:f.getWidth(),height:f.getHeight()},a.get("padding"));b||(b=a.get("left")||a.get("right"),"middle"===b&&(b="center"),"right"===b?f.x+=f.width:"center"===b&&(f.x+=f.width/2));c||(c=a.get("top")||a.get("bottom"),"center"===c&&(c="middle"),"bottom"===c?f.y+=f.height:"middle"===c&&(f.y+=f.height/2),c=c||"top");h.attr("position",[f.x,f.y]);b={textAlign:b,textVerticalAlign:c};e.setStyle(b);d.setStyle(b);m=h.getBoundingRect();f=f.margin;b=a.getItemStyle(["color","opacity"]);b.fill=a.get("backgroundColor");f=new l.Rect({shape:{x:m.x-f[3],y:m.y-f[0],width:m.width+f[1]+f[3],height:m.height+f[0]+f[2]},style:b,silent:!0});l.subPixelOptimizeRect(f);h.add(f)}}})},function(r,p,a){a(317);a(318);a(320);a(321);a(322);a(324);a(325);a(327);a(328)},function(r,p,a){a(19).registerSubTypeDefaulter("dataZoom",function(a){return"slider"})},function(r,p,a){function l(a){var b={};e(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])});return b}var n=a(4),k=a(2);p=a(1);var h=a(5),f=a(319),e=n.each,d=h.eachAxisDim;a=p.extendComponentModel({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,angleAxisIndex:null,radiusAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(a,c,d){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;c=l(a);this.mergeDefaultAndTheme(a,d);this.doInit(c)},mergeOption:function(a){var b=l(a);n.merge(this.option,a,!0);this.doInit(b)},doInit:function(a){var b=this.option;k.canvasSupported||(b.realtime=!1);this._setDefaultThrottle(a);null!=a.startValue&&null==a.start&&(b.start=null);null!=a.endValue&&null==a.end&&(b.end=null);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,d,e,g){e=this.dependentModels[b.axis][d];g=e.__dzAxisProxy||(e.__dzAxisProxy=new f(b.name,d,this,g));a[b.name+"_"+d]=g},this)},_resetTarget:function(){var a=this.option,c=this._judgeAutoMode();d(function(b){b=b.axisIndex;a[b]=h.normalizeToArray(a[b])},this);"axisIndex"===c?this._autoSetAxisIndex():"orient"===c&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,c=!1;d(function(b){null!=a[b.axisIndex]&&(c=!0)},this);var e=a.orient;if(null==e&&c)return"orient";if(!c)return null==e&&(a.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var a=!0,c=this.get("orient",!0),e=this.option;a&&(c="vertical"===c?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"},this.dependentModels[c.axis].length&&(e[c.axisIndex]=[0],a=!1));a&&d(function(b){if(a){var c=[],d=this.dependentModels[b.axis];if(d.length&&!c.length)for(var f=0,h=d.length;f<h;f++)"category"===d[f].get("type")&&c.push(f);e[b.axisIndex]=c;c.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&d(function(b){var c=e[b.axisIndex];b=a.get(b.axisIndex);0>n.indexOf(c,b)&&c.push(b)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this);this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,c){var b=!0;d(function(d){var e=a.get(d.axisIndex);(d=this.dependentModels[d.axis][e])&&d.get("type")===c||(b=!1)},this);return b},_setDefaultThrottle:function(a){a.hasOwnProperty("throttle")&&(this._autoThrottle=!1);this._autoThrottle&&(a=this.ecModel.option,this.option.throttle=a.animation&&0<a.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var a;d(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this);return a},eachTargetAxis:function(a,c){var b=this.ecModel;d(function(d){e(this.get(d.axisIndex),function(e){a.call(c,d,e,this,b)},this)},this)},getAxisProxy:function(a,c){return this._axisProxies[a+"_"+c]},setRawRange:function(a){e(["start","end","startValue","endValue"],function(b){this.option[b]=a[b]},this)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,c){if(null==a&&null==c){var b=this.findRepresentativeAxisProxy();if(b)return b.getDataValueWindow()}else return this.getAxisProxy(a,c).getDataValueWindow()},findRepresentativeAxisProxy:function(){var a=this._axisProxies,c;for(c in a)if(a.hasOwnProperty(c)&&a[c].hostedBy(this))return a[c];for(c in a)if(a.hasOwnProperty(c)&&!a[c].hostedBy(this))return a[c]}});r.exports=a},function(r,p,a){function l(a,c){var b=[Infinity,-Infinity];e(c,function(c){var d=c.getData();d&&e(c.coordDimToDataDim(a),function(a){a=d.getDataExtent(a);a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1])})},this);return b}function n(a,c,h){h=h.getAxisModel();var b=h.axis.scale,g=[0,100],l=[a.start,a.end],q=[];c=c.slice();k(c,h,b);e(["startValue","endValue"],function(c){q.push(null!=a[c]?b.parse(a[c]):null)});e([0,1],function(a){var d=q[a],e=l[a];null!=e||null==d?(null==e&&(e=g[a]),d=b.parse(f.linearMap(e,g,c,!0))):e=f.linearMap(d,c,g,!0);q[a]=d;l[a]=e});return{valueWindow:d(q),percentWindow:d(l)}}function k(a,c,d){e(["min","max"],function(b,e){var g=c.get(b,!0);null!=g&&(g+"").toLowerCase()!=="data"+b&&(a[e]=d.parse(g))});c.get("scale",!0)||(0<a[0]&&(a[0]=0),0>a[1]&&(a[1]=0));return a}function h(a,c){var b=a.getAxisModel(),d=a._percentWindow,e=a._valueWindow;if(d){var h=c||0===d[0]&&100===d[1],d=!c&&f.getPixelPrecision(e,[0,500]),h=c||h||!c&&!(20>d&&0<=d);b.setRange&&b.setRange(h?null:+e[0].toFixed(d),h?null:+e[1].toFixed(d))}}p=a(4);var f=a(7),e=p.each,d=f.asc;a=function(a,c,d,e){this._dimName=a;this._axisIndex=c;this.ecModel=e;this._dataZoomModel=d};a.prototype={constructor:a,hostedBy:function(a){return this._dataZoomModel===a},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[];this.ecModel.eachSeries(function(b){this._axisIndex===+b.get(this._dimName+"AxisIndex")&&a.push(b)},this);return a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a=this._dimName,c=this.ecModel,d=this.getAxisModel(),e;"x"===a||"y"===a?(e="gridIndex",a="x"===a?"y":"x"):(e="polarIndex",a="angle"===a?"radius":"angle");var g;c.eachComponent(a+"Axis",function(a){(a.get(e)||0)===(d.get(e)||0)&&(g=a)});return g},reset:function(a){if(a===this._dataZoomModel){var b=this._dataExtent=l(this._dimName,this.getTargetSeriesModels());a=n(a.option,b,this);this._valueWindow=a.valueWindow;this._percentWindow=a.percentWindow;h(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(a){function b(a){return a>=h[0]&&a<=h[1]}if(a===this._dataZoomModel){var d=this._dimName,f=this.getTargetSeriesModels(),g=a.get("filterMode"),h=this._valueWindow,k=this.getOtherAxisModel();a.get("$fromToolbox")&&k&&"category"===k.get("type")&&(g="empty");e(f,function(a){var c=a.getData();c&&e(a.coordDimToDataDim(d),function(d){"empty"===g?a.setData(c.map(d,function(a){return b(a)?a:NaN})):c.filterSelf(d,b)})})}}};r.exports=a},function(r,p,a){p=a(29);r.exports=p.extend({type:"dataZoom",render:function(a,n,k,h){this.dataZoomModel=a;this.ecModel=n;this.api=k},getTargetInfo:function(){function a(a,d,b,c){for(var e,f=0;f<b.length;f++)if(b[f].model===a){e=b[f];break}e||b.push(e={model:a,axisModels:[],coordIndex:c});e.axisModels.push(d)}var n=this.ecModel,k=[],h=[],f=[];this.dataZoomModel.eachTargetAxis(function(e,d){var b=n.getComponent(e.axis,d);if(b){f.push(b);var c=b.get("gridIndex"),l=b.get("polarIndex");if(null!=c){var m=n.getComponent("grid",c);a(m,b,k,c)}else null!=l&&(m=n.getComponent("polar",l),a(m,b,h,l))}},this);return{cartesians:k,polars:h,axisModels:f}}})},function(r,p,a){p=a(318).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});r.exports=p},function(r,p,a){var l=a(4),n=a(43),k=a(308);p=a(320);var h=n.Rect,f=a(7),e=f.linearMap,d=a(21),b=a(323),c=f.asc,q=l.bind,m=l.each,g=["line","bar","candlestick","scatter"],t=p.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={};this.api=b},render:function(a,b,c,d){t.superApply(this,"render",arguments);k.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");!1===this.dataZoomModel.get("show")?this.group.removeAll():(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView())},remove:function(){t.superApply(this,"remove",arguments);k.clear(this,"_dispatchZoomAction")},dispose:function(){t.superApply(this,"dispose",arguments);k.clear(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();this._resetInterval();var b=this._displayables.barGroup=new n.Group;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),b={width:b.getWidth(),height:b.getHeight()},e="horizontal"===this._orient?{right:b.width-c.x-c.width,top:b.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},f=d.getLayoutParams(a.option);l.each(["right","top","width","height"],function(a){"ph"===f[a]&&(f[a]=e[a])});a=d.getLayoutRect(f,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),d=d&&d.get("inverse"),e=this._displayables.barGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==c||d?"horizontal"===c&&d?{scale:f?[-1,1]:[-1,-1]}:"vertical"!==c||d?{scale:f?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:f?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:f?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size;this._displayables.barGroup.add(new h({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData(),a=c.getShadowDim?c.getShadowDim():a.otherDim,f=d.getDataExtent(a),c=.3*(f[1]-f[0]),f=[f[0]-c,f[1]+c],g=[0,b[1]],h=[[b[0],0],[0,0]],k=[],m=b[0]/(d.count()-1),q=0,p=Math.round(d.count()/b[0]);d.each([a],function(a,b){if(!(0<p&&b%p)){var c=null==a||isNaN(a)||""===a?null:e(a,f,g,!0);null!=c&&(h.push([q,c]),k.push([q,c]))}q+=m});b=this.dataZoomModel;this._displayables.barGroup.add(new n.Polygon({shape:{points:h},style:l.defaults({fill:b.get("dataBackgroundColor")},b.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new n.Polyline({shape:{points:k},style:b.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;a.eachTargetAxis(function(e,f){var h=a.getAxisProxy(e.name,f).getTargetSeriesModels();l.each(h,function(a){if(!(c||!0!==b&&0>l.indexOf(g,a.get("type")))){var h="x"===e.name?"y":"x",k=d.getComponent(e.axis,f).axis;c={thisAxis:k,series:a,thisDim:e.name,otherDim:h,otherAxisInverse:a.coordinateSystem.getOtherAxis(k).inverse}}},this)},this);return c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,g=this.dataZoomModel;d.add(a.filler=new h({draggable:!0,cursor:"move",drift:q(this._onDragMove,this,"all"),ondragstart:q(this._showDataInfo,this,!0),ondragend:q(this._onDragEnd,this),onmouseover:q(this._showDataInfo,this,!0),onmouseout:q(this._showDataInfo,this,!1),style:{fill:g.get("fillerColor"),textPosition:"inside"}}));d.add(new h(n.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:g.get("dataBackgroundColor")||g.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));var k=g.get("handleIcon");m([0,1],function(a){var e=n.makePath(k,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:q(this._onDragMove,this,a),ondragend:q(this._onDragEnd,this),onmouseover:q(this._showDataInfo,this,!0),onmouseout:q(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center"),h=e.getBoundingRect();this._handleHeight=f.parsePercent(g.get("handleSize"),this._size[1]);this._handleWidth=h.width/h.height*this._handleHeight;e.setStyle(g.getModel("handleStyle").getItemStyle());h=g.get("handleColor");null!=h&&(e.style.fill=h);d.add(b[a]=e);e=g.textStyleModel;this.group.add(c[a]=new n.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:e.getTextColor(),textFont:e.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[e(a[0],[0,100],b,!0),e(a[1],[0,100],b,!0)]},_updateInterval:function(a,d){var f=this._handleEnds,g=this._getViewExtent();b(d,f,g,"all"===a||this.dataZoomModel.get("zoomLock")?"rigid":"cross",a);this._range=c([e(f[0],g,[0,100],!0),e(f[1],g,[0,100],!0)])},_updateView:function(){var a=this._displayables,b=this._handleEnds,d=c(b.slice()),e=this._size;m([0,1],function(c){var d=this._handleHeight;a.handles[c].attr({scale:[d,d],position:[b[c],e[1]/2-d/2]})},this);a.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo()},_updateDataInfo:function(){function a(a){var b=n.getTransform(d.handles[a].parent,this.group),c=n.transformDirection(0===a?"right":"left",b),h=this._handleWidth/2+5,b=n.applyTransform([m[a]+(0===a?-h:h),this._size[1]/2],b);e[a].setStyle({x:b[0],y:b[1],textVerticalAlign:"horizontal"===f?"middle":c,textAlign:"horizontal"===f?c:"center",text:g[a]})}var b=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,g=["",""];if(b.get("showDetail")){var h,k;b.eachTargetAxis(function(a,c){h||(h=b.getAxisProxy(a.name,c).getDataValueWindow(),k=this.ecModel.getComponent(a.axis,c).axis)},this);h&&(g=[this._formatLabel(h[0],k),this._formatLabel(h[1],k)])}var m=c(this._handleEnds.slice());a.call(this,0);a.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter");if(l.isFunction(d))return d(a);c=c.get("labelPrecision");if(null==c||"auto"===c)c=b.getPixelPrecision();a=null==a&&isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));l.isString(d)&&(a=d.replace("{value}",a));return a},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;b=this._applyBarTransform([b,c],!0);this._updateInterval(a,b[0]);this._updateView();this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_applyBarTransform:function(a,b){var c=this._displayables.barGroup.getLocalTransform();return n.applyTransform(a,c,b)},_findCoordRect:function(){var a=this.getTargetInfo();if(a.cartesians.length)a=a.cartesians[0].model.coordinateSystem.getRect();else var a=this.api.getWidth(),b=this.api.getHeight(),a={x:.2*a,y:.2*b,width:.6*a,height:.6*b};return a}});r.exports=t},function(r,p){r.exports=function(a,l,n,k,h){function f(a,d,b){var c=d.length?d.slice():[d,d];d[0]>d[1]&&c.reverse();0>a&&c[0]+a<b[0]&&(a=b[0]-c[0]);0<a&&c[1]+a>b[1]&&(a=b[1]-c[1]);return a}if(!a)return l;"rigid"===k?(a=f(a,l,n),l[0]+=a,l[1]+=a):(a=f(a,l[h],n),l[h]+=a,"push"===k&&l[0]>l[1]&&(l[1-h]=l[h]));return l}},function(r,p,a){r.exports=a(318).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(r,p,a){function l(a,b,c){b=b.axis;c=c.rectProvider();var d={};"x"===b.dim?(d.pixel=a[0],d.pixelLength=c.width,d.pixelStart=c.x,d.signal=b.inverse?1:-1):(d.pixel=a[1],d.pixelLength=c.height,d.pixelStart=c.y,d.signal=b.inverse?-1:1);return d}p=a(320);var n=a(4),k=a(323),h=a(326),f=n.bind,e=p.extend({type:"dataZoom.inside",init:function(a,b){},render:function(a,b,c,k){e.superApply(this,"render",arguments);h.shouldRecordRange(k,a.id)&&(this._range=a.getPercentRange());var d=this.getTargetInfo().cartesians,g=n.map(d,function(a){return h.generateCoordId(a.model)});n.each(d,function(b){var d=b.model;h.register(c,{coordId:h.generateCoordId(d),allCoordIds:g,coordinateSystem:d.coordinateSystem,dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:f(this._onPan,this,b),zoomGetRange:f(this._onZoom,this,b)})},this)},dispose:function(){h.unregister(this.api,this.dataZoomModel.id);e.superApply(this,"dispose",arguments);this._range=null},_onPan:function(a,b,c,e){e=[c,e];c=this._range;c=c.slice();(a=a.axisModels[0])?(b=l(e,a,b),k(b.signal*(c[1]-c[0])*b.pixel/b.pixelLength,c,[0,100],"rigid"),b=c):b=void 0;return this._range=b},_onZoom:function(a,b,c,e,f){if(this.dataZoomModel.option.zoomLock)return this._range;c=1/c;f=[e,f];e=this._range;e=e.slice();(a=a.axisModels[0])?(b=l(f,a,b),b=(b.pixel-b.pixelStart)/b.pixelLength*(e[1]-e[0])+e[0],c=Math.max(c,0),e[0]=(e[0]-b)*c+b,e[1]=(e[1]-b)*c+b,c=e,b=[0,100],c[0]<=b[1]||(c[0]=b[1]),c[1]<=b[1]||(c[1]=b[1]),c[0]>=b[0]||(c[0]=b[0]),c[1]>=b[0]||(c[1]=b[0])):c=void 0;return this._range=c}});r.exports=e},function(r,p,a){function l(a){a=a.getZr();return a["\x00_ec_dataZoom_roams"]||(a["\x00_ec_dataZoom_roams"]={})}function n(a,b,d){a=new c(a.getZr());a.enable();a.on("pan",m(h,d));a.on("zoom",m(f,d));return a}function k(a){b.each(a,function(b,c){b.count||(b.controller.off("pan").off("zoom"),delete a[c])})}function h(a,b,c){e(a,function(d){return d.panGetRange(a.controller,b,c)})}function f(a,b,c,d){e(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function e(a,c){var d=[];b.each(a.dataZoomInfos,function(a){var b=c(a);b&&d.push({dataZoomId:a.dataZoomId,start:b[0],end:b[1]})});a.dispatchAction(d)}function d(a,b){a.dispatchAction({type:"dataZoom",batch:b})}var b=a(4),c=a(174),q=a(308),m=b.curry;r.exports={register:function(a,c){var e=l(a),f=c.dataZoomId,g=c.coordId;b.each(e,function(a,d){var e=a.dataZoomInfos;e[f]&&0>b.indexOf(c.allCoordIds,g)&&(delete e[f],a.count--)});k(e);var h=e[g];h||(h=e[g]={coordId:g,dataZoomInfos:{},count:0},h.controller=n(a,c,h),h.dispatchAction=b.curry(d,a));var m=c.coordinateSystem.getRect().clone();h.controller.rectProvider=function(){return m};q.createOrUpdate(h,"dispatchAction",c.throttleRate,"fixRate");!h.dataZoomInfos[f]&&h.count++;h.dataZoomInfos[f]=c},unregister:function(a,c){var d=l(a);b.each(d,function(a){var b=a.dataZoomInfos;b[c]&&(delete b[c],a.count--)});k(d)},shouldRecordRange:function(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;c<d;c++)if(a.batch[c].dataZoomId===b)return!1;return!0},generateCoordId:function(a){return a.type+"\x00_"+a.id}}},function(r,p,a){function l(a,h,f){f.getAxisProxy(a.name,h).reset(f)}function n(a,h,f){f.getAxisProxy(a.name,h).filterData(f)}a(1).registerProcessor(function(a,h){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(l);a.eachTargetAxis(n)});a.eachComponent("dataZoom",function(a){var e=a.findRepresentativeAxisProxy(),d=e.getDataPercentWindow(),e=e.getDataValueWindow();a.setRawRange({start:d[0],end:d[1],startValue:e[0],endValue:e[1]})})})},function(r,p,a){var l=a(4),n=a(5);a(1).registerAction("dataZoom",function(a,h){var f=n.createLinkedNodesFinder(l.bind(h.eachComponent,h,"dataZoom"),n.eachAxisDim,function(a,b){return a.get(b.axisIndex)}),e=[];h.eachComponent({mainType:"dataZoom",query:a},function(a,b){e.push.apply(e,f(a).nodes)});l.each(e,function(d,b){d.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})})},function(r,p,a){a(330);a(341)},function(r,p,a){a(1).registerPreprocessor(a(331));a(332);a(333);a(334);a(337);a(340)},function(r,p,a){function l(a,f){return a&&a.hasOwnProperty&&a.hasOwnProperty(f)}var n=a(4),k=n.each;r.exports=function(a){a=a&&a.visualMap;n.isArray(a)||(a=a?[a]:[]);k(a,function(a){a&&(l(a,"splitList")&&!l(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList),(a=a.pieces)&&n.isArray(a)&&k(a,function(a){n.isObject(a)&&(l(a,"start")&&!l(a,"min")&&(a.min=a.start),l(a,"end")&&!l(a,"max")&&(a.max=a.end))}))})}},function(r,p,a){a(19).registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?0<a.pieces.length:0<a.splitNumber)&&!a.calculable?"piecewise":"continuous"})},function(r,p,a){function l(a,d){a.eachTargetSeries(function(b){b=b.getData();h.applyVisual(a.stateList,a.targetVisuals,b,a.getValueState,a,a.getDataDimension(b))})}function n(a){a.eachSeries(function(d){var b=d.getData(),c=[];a.eachComponent("visualMap",function(a){if(a.isTargetSeries(d)){var e={};c.push(e);e.stops=a.getStops(d,k);e.dimension=a.getDataDimension(b)}});d.getData().setVisual("visualMeta",c)})}function k(a,d,b){function c(a){return h[a]}function e(a,b){h[a]=b}a=a.targetVisuals[b];b=f.prepareVisualTypes(a);for(var h={},g=0,k=b.length;g<k;g++){var l=b[g];(l=a["colorAlpha"===l?"__alphaForOpacity":l])&&l.applyVisual(d,c,e)}return h.color}r=a(1);var h=a(306),f=a(192);r.registerVisual(r.PRIORITY.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(d){l(d,a)});n(a)})},function(r,p,a){function l(a,c,d){a=a.targetVisuals[c].color;if(!a)return d.slice();a=a.option.visual.length;if(1>=a||d[0]===d[1])return d.slice();c=(d[1]-d[0])/(a-1);for(var b=d[0],e=[],f=0;f<a&&b<d[1];f++)e.push(b),b+=c;e.push(d[1]);return e}function n(a,c,d,e){a=l(a,c,d);h.each(a,function(a){for(var b={value:a,valueState:c},d=0,f=0;f<e.length;f++){d|="inRange"===e[f].valueState;if(a<e[f].value){e.splice(f,0,b);return}d&&(e[f].valueState="inRange")}e.push(b)})}var k=a(335),h=a(4),f=a(7),e=[20,140],d=k.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(a,c){d.superApply(this,"optionUpdated",arguments);this.resetTargetSeries();this.resetExtent();this.resetVisual(function(a){a.mappingMethod="linear";a.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){d.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse();(null==a[0]||isNaN(a[0]))&&(a[0]=e[0]);(null==a[1]||isNaN(a[1]))&&(a[1]=e[1])},_resetRange:function(){var a=this.getExtent(),c=this.option.range;!c||c.auto?(a.auto=1,this.option.range=a):h.isArray(c)&&(c[0]>c[1]&&c.reverse(),c[0]=Math.max(c[0],a[0]),c[1]=Math.min(c[1],a[1]))},completeVisualOption:function(){k.prototype.completeVisualOption.apply(this,arguments);h.each(this.stateList,function(a){(a=this.option.controller[a].symbolSize)&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice();this._resetRange()},getSelected:function(){var a=this.getExtent(),c=f.asc((this.get("range")||[]).slice());c[0]>a[1]&&(c[0]=a[1]);c[1]>a[1]&&(c[1]=a[1]);c[0]<a[0]&&(c[0]=a[0]);c[1]<a[0]&&(c[1]=a[0]);return c},getValueState:function(a){var b=this.option.range,d=this.getExtent();return(b[0]<=d[0]||b[0]<=a)&&(b[1]>=d[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){a[0]<=b&&b<=a[1]&&d.push(c)},!0,this);b.push({seriesId:c.id,dataIndex:d})},this);return b},getStops:function(a,c){var b=[];n(this,"outOfRange",this.getExtent(),b);n(this,"inRange",this.option.range.slice(),b);h.each(b,function(a){a.color=c(this,a.value,a.valueState)},this);return b}});r.exports=d},function(r,p,a){p=a(1);var l=a(4),n=a(2),k=a(336),h=a(192),f=a(306),e=h.mapVisual,d=a(5),b=h.eachVisual;a=a(7);var c=l.isArray,q=l.each,m=a.asc,g=a.linearMap;a=l.noop;var t=["#f6efa6","#d88273","#bf444c"];p=p.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-Infinity,Infinity],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;n.canvasSupported||(c.realtime=!1);!b&&f.replaceVisualOption(c,a,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=l.bind(a,this);this.controllerVisuals=f.createVisualMappings(this.option.controller,b,a);this.targetVisuals=f.createVisualMappings(this.option.target,b,a)},resetTargetSeries:function(){var a=this.option,b=null==a.seriesIndex;a.seriesIndex=b?[]:d.normalizeToArray(a.seriesIndex);b&&this.ecModel.eachSeries(function(b,c){a.seriesIndex.push(c)})},eachTargetSeries:function(a,b){l.each(this.option.seriesIndex,function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;this.eachTargetSeries(function(c){c===a&&(b=!0)});return b},formatValueText:function(a,b,c){function d(a){return a===g[0]?"min":a===g[1]?"max":(+a).toFixed(f)}var e=this.option,f=e.precision,g=this.dataBound,e=e.formatter,h;c=c||["\x3c","\x3e"];l.isArray(a)&&(a=a.slice(),h=!0);b=b?a:h?[d(a[0]),d(a[1])]:d(a);return l.isString(e)?e.replace("{value}",h?b[0]:b).replace("{value2}",h?b[1]:b):l.isFunction(e)?h?e(a[0],a[1]):e(a):h?a[0]===g[0]?c[0]+" "+b[1]:a[1]===g[1]?c[1]+" "+b[0]:b[0]+" - "+b[1]:b},resetExtent:function(){var a=this.option;this._dataExtent=m([a.min,a.max])},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function a(a){c(d.color)&&!a.inRange&&(a.inRange={color:d.color.slice().reverse()});a.inRange=a.inRange||{color:t};q(this.stateList,function(b){var c=a[b];if(l.isString(c)){var d=k.get(c,"active",p);d?(a[b]={},a[b][c]=d):delete a[b]}},this)}var d=this.option,f={inRange:d.inRange,outOfRange:d.outOfRange},m=d.target||(d.target={}),n=d.controller||(d.controller={});l.merge(m,f);l.merge(n,f);var p=this.isCategory();a.call(this,m);a.call(this,n);(function(a,b,c){b=a[b];var d=a[c];b&&!d&&(d=a[c]={},q(b,function(a,b){if(h.isValidType(b)){var c=k.get(b,"inactive",p);null!=c&&(d[b]=c,"color"!==b||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}).call(this,m,"inRange","outOfRange");(function(a){var c=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,d=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,f=this.get("inactiveColor");q(this.stateList,function(h){var k=this.itemSize,m=a[h];m||(m=a[h]={color:p?f:[f]});null==m.symbol&&(m.symbol=c&&l.clone(c)||(p?"roundRect":["roundRect"]));null==m.symbolSize&&(m.symbolSize=d&&l.clone(d)||(p?k[0]:[k[0],k[0]]));m.symbol=e(m.symbol,function(a){return"none"===a||"square"===a?"roundRect":a});h=m.symbolSize;if(null!=h){var q=-Infinity;b(h,function(a){a>q&&(q=a)});m.symbolSize=e(h,function(a){return g(a,[0,q],[0,k[0]],!0)})}},this)}).call(this,n)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:a,getValueState:a});r.exports=p},function(r,p,a){var l=a(4),n={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};r.exports={get:function(a,h,f){a=l.clone((n[a]||{})[h]);return f?l.isArray(a)?a[a.length-1]:a:a}}},function(r,p,a){function l(a,b,c,d){return new h.Polygon({shape:{points:a},draggable:!!c,cursor:b,drift:c,ondragend:d})}function n(a,b,c,d){return a?[[0,-t(b,w(c,0))],[6,0],[0,t(b,w(d-c,0))]]:[[0,0],[5,-5],[5,5]]}function k(a){return!a.get("realtime")&&a.get("hoverLinkOnHandle")}p=a(338);var h=a(43),f=a(4),e=a(7),d=a(323),b=a(79),c=a(339),q=a(5),m=e.linearMap,g=f.each,t=Math.min,w=Math.max,u=p.extend({type:"visualMap.continuous",init:function(){u.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._hoverLinkDataIndices=[]},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient");this._useHandle=a.get("calculable");this._resetInterval();this._renderBar(b);a=a.get("text");this._renderEndsText(b,a,0);this._renderEndsText(b,a,1);this._updateView(!0);this.renderBackground(b);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(b)},_renderEndsText:function(a,b,c){if(b){a=b[1-c];a=null!=a?a+"":"";var d=this.visualMapModel;b=d.get("textGap");var e=d.itemSize,d=this._shapes.barGroup;b=this._applyTransform([e[0]/2,0===c?-b:e[1]+b],d);c=this._applyTransform(0===c?"bottom":"top",d);d=this._orient;e=this.visualMapModel.textStyleModel;this.group.add(new h.Text({style:{x:b[0],y:b[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:a,textFont:e.getFont(),fill:e.getTextColor()}}))}},_renderBar:function(a){var b=this.visualMapModel,d=this._shapes,e=b.itemSize,g=this._orient,h=this._useHandle,k=c.getItemAlign(b,this.api,e),m=d.barGroup=this._createBarGroup(k);m.add(d.outOfRange=l());m.add(d.inRange=l(null,h?"move":null,f.bind(this._dragHandle,this,"all",!1),f.bind(this._dragHandle,this,"all",!0)));b=b.textStyleModel.getTextRect("\u56fd");b=w(b.width,b.height);h&&(d.handleThumbs=[],d.handleLabels=[],d.handleLabelPoints=[],this._createHandle(m,0,e,b,g,k),this._createHandle(m,1,e,b,g,k));this._createIndicator(m,e,b,g);a.add(m)},_createHandle:function(a,b,c,d,e){var g=f.bind(this._dragHandle,this,b,!1),k=f.bind(this._dragHandle,this,b,!0),m=l(0===b?[[0,0],[d,0],[d,-d]]:[[0,0],[d,0],[d,d]],"move",g,k);m.position[0]=c[0];a.add(m);a=this.visualMapModel.textStyleModel;g=new h.Text({draggable:!0,drift:g,ondragend:k,style:{x:0,y:0,text:"",textFont:a.getFont(),fill:a.getTextColor()}});this.group.add(g);d=["horizontal"===e?d/2:1.5*d,"horizontal"===e?0===b?-(1.5*d):1.5*d:0===b?-d/2:d/2];e=this._shapes;e.handleThumbs[b]=m;e.handleLabelPoints[b]=d;e.handleLabels[b]=g},_createIndicator:function(a,b,c,d){var e=l([[0,0]],"move");e.position[0]=b[0];e.attr({invisible:!0,silent:!0});a.add(e);a=this.visualMapModel.textStyleModel;a=new h.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),fill:a.getTextColor()}});this.group.add(a);c=["horizontal"===d?c/2:9,0];d=this._shapes;d.indicator=e;d.indicatorLabel=a;d.indicatorLabelPoint=c},_dragHandle:function(a,b,c,d){this._useHandle&&(this._dragging=!b,b||(c=this._applyTransform([c,d],this._shapes.barGroup,!0),this._updateInterval(a,c[1]),this._updateView()),b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():k(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1))},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),a=[0,a.itemSize[1]];this._handleEnds=[m(b[0],c,a,!0),m(b[1],c,a,!0)]},_updateInterval:function(a,b){var c=this.visualMapModel,e=this._handleEnds;d(b||0,e,[0,c.itemSize[1]],"all"===a?"rigid":"push",a);var f=c.getExtent(),c=[0,c.itemSize[1]];this._dataInterval=[m(e[0],c,f,!0),m(e[1],c,f,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,b=[0,b.itemSize[1]];a=a?b:this._handleEnds;var e=this._createBarVisual(this._dataInterval,c,a,"inRange"),c=this._createBarVisual(c,c,b,"outOfRange");d.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);d.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints);this._updateHandle(a,e)},_createBarVisual:function(a,c,d,e){e={forceState:e,convertOpacityToAlpha:!0};c=this._makeColorGradient(a,e);a=[this.getControllerVisual(a[0],"symbolSize",e),this.getControllerVisual(a[1],"symbolSize",e)];d=this._createBarPoints(d,a);return{barColor:new b(0,0,1,1,c),barPoints:d,handlesColor:[c[0].color,c[c.length-1].color]}},_makeColorGradient:function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;100>e;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}c.push({color:this.getControllerVisual(a[1],"color",b),offset:1});return c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new h.Group("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels;g([0,1],function(g){var k=e[g];k.setStyle("fill",b.handlesColor[g]);k.position[1]=a[g];k=h.applyTransform(c.handleLabelPoints[g],h.getTransform(k,this.group));f[g].setStyle({x:k[0],y:k[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===g?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(a,b,c,d){var e=this.visualMapModel,f=e.getExtent(),g=e.itemSize,k=m(a,f,[0,g[1]],!0),f=this._shapes,l=f.indicator;l&&(l.position[1]=k,l.attr("invisible",!1),l.setShape("points",n(!!c,d,k,g[1])),a=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),l.setStyle("fill",a),a=h.applyTransform(f.indicatorLabelPoint,h.getTransform(l,this.group)),d=f.indicatorLabel,d.attr("invisible",!1),f=this._applyTransform("left",f.barGroup),g=this._orient,d.setStyle({text:(c?c:"")+e.formatValueText(b),textVerticalAlign:"horizontal"===g?f:"middle",textAlign:"horizontal"===g?"center":f,x:a[0],y:a[1]}))},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(b){a._hovering=!0;if(!a._dragging){var c=a.visualMapModel.itemSize;b=a._applyTransform([b.offsetX,b.offsetY],a._shapes.barGroup,!0,!0);b[1]=t(w(0,b[1]),c[1]);a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1;!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(a,b){var c=this.visualMapModel;if(c.option.hoverLink){var d=[0,c.itemSize[1]],e=c.getExtent();a=t(w(d[0],a),d[1]);var f;f=6;var g=c.get("hoverLinkDataSize");g&&(f=m(g,e,d,!0)/2);var g=[a-f,a+f],h=m(a,d,e,!0),e=[m(g[0],d,e,!0),m(g[1],d,e,!0)];g[0]<d[0]&&(e[0]=-Infinity);g[1]>d[1]&&(e[1]=Infinity);b&&(-Infinity===e[0]?this._showIndicator(h,e[1],"\x3c ",f):Infinity===e[1]?this._showIndicator(h,e[0],"\x3e ",f):this._showIndicator(h,h,"\u2248 ",f));d=this._hoverLinkDataIndices;f=[];if(b||k(c))f=this._hoverLinkDataIndices=c.findTargetDataIndices(e);c=q.compressBatches(d,f);this._dispatchHighDown("downplay",c[0]);this._dispatchHighDown("highlight",c[1])}},_hoverLinkFromSeriesMouseOver:function(a){if((a=a.target)&&null!=a.dataIndex){var b=(a.dataModel||this.ecModel.getSeriesByIndex(a.seriesIndex)).getData(a.dataType),c=b.getDimension(this.visualMapModel.getDataDimension(b));a=b.get(c,a.dataIndex,!0);isNaN(a)||this._showIndicator(a,a)}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0);a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",a);a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver);a.off("mouseout",this._hideIndicator)},_applyTransform:function(a,b,c,d){b=h.getTransform(b,d?null:this.group);return h[f.isArray(a)?"applyTransform":"transformDirection"](a,b,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});r.exports=u},function(r,p,a){var l=a(4),n=a(43),k=a(6),h=a(21);p=a(1);var f=a(192);r.exports=p.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,d){this.ecModel=a;this.api=d},render:function(a,d,b,c){this.visualMapModel=a;!1===a.get("show")?this.group.removeAll():this.doRender.apply(this,arguments)},renderBackground:function(a){var d=this.visualMapModel,b=k.normalizeCssArray(d.get("padding")||0),c=a.getBoundingRect();a.add(new n.Rect({z2:-1,silent:!0,shape:{x:c.x-b[3],y:c.y-b[0],width:c.width+b[3]+b[1],height:c.height+b[0]+b[2]},style:{fill:d.get("backgroundColor"),stroke:d.get("borderColor"),lineWidth:d.get("borderWidth")}}))},getControllerVisual:function(a,d,b){function c(a){return k[a]}function e(a,b){k[a]=b}b=b||{};var h=b.forceState,g=this.visualMapModel,k={};"symbol"===d&&(k.symbol=g.get("itemSymbol"));if("color"===d){var n=g.get("contentColor");k.color=n}var p=g.controllerVisuals[h||g.getValueState(a)],h=f.prepareVisualTypes(p);l.each(h,function(g){var h=p[g];b.convertOpacityToAlpha&&"opacity"===g&&(g="colorAlpha",h=p.__alphaForOpacity);f.dependsOn(g,d)&&h&&h.applyVisual(a,c,e)});return k[d]},positionGroup:function(a){var d=this.api;h.positionGroup(a,this.visualMapModel.getBoxLayoutParams(),{width:d.getWidth(),height:d.getHeight()})},doRender:l.noop})},function(r,p,a){var l=a(21);r.exports={getItemAlign:function(a,k,h){a=a.option;var f=a.align;if(null!=f&&"auto"!==f)return f;k={width:k.getWidth(),height:k.getHeight()};for(var e="horizontal"===a.orient?1:0,d=[["left","right","width"],["top","bottom","height"]],f=d[e],b=[0,null,10],c={},q=0;3>q;q++)c[d[1-e][q]]=b[q],c[f[q]]=2===q?h[0]:a[f[q]];h=[["x","width",3],["y","height",0]][e];a=l.getLayoutRect(c,k,a.padding);return f[(a.margin[h[2]]||0)+a[h[0]]+.5*a[h[1]]<.5*k[h[1]]?0:1]}}},function(r,p,a){a(1).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(a,n){n.eachComponent({mainType:"visualMap",query:a},function(k){k.setSelected(a.selected)})})},function(r,p,a){a(1).registerPreprocessor(a(331));a(332);a(333);a(342);a(343);a(340)},function(r,p,a){function l(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}function n(a){function b(a,c,d){d=d||0;return a.interval[d]<c.interval[d]||a.interval[d]===c.interval[d]&&(+a.close[d]>c.close[d]||b(a,c,1))}a.sort(function(a,c){return b(a,c)?-1:1});for(var c=-Infinity,d=0;d<a.length;d++)for(var e=a[d].interval,f=a[d].close,h=0;2>h;h++)e[h]<c&&(e[h]=c,f[h]=1-h),c=e[h]}p=a(335);var k=a(4),h=a(192),f=p.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0},optionUpdated:function(a,b){f.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetTargetSeries();this.resetExtent();var c=this._mode=this._determineMode();e[this._mode].call(this);this._resetSelected(a,b);var d=this.option.categories;this.resetVisual(function(a,b){"categories"===c?(a.mappingMethod="category",a.categories=k.clone(d)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=k.map(this._pieceList,function(a){a=k.clone(a);"inRange"!==b&&(a.visual=null);return a}))})},_resetSelected:function(a,b){var c=this.option,d=this._pieceList,e=(b?c:a).selected||{};c.selected=e;k.each(d,function(a,b){var c=this.getSelectedMapKey(a);c in e||(e[c]=!0)},this);if("single"===c.selectedMode){var f=!1;k.each(d,function(a,b){var c=this.getSelectedMapKey(a);e[c]&&(f?e[c]=!1:f=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&0<a.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=k.clone(a)},getValueState:function(a){a=h.findPieceIndex(a,this._pieceList);return null!=a?this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){h.findPieceIndex(b,this._pieceList)===a&&d.push(c)},!0,this);b.push({seriesId:c.id,dataIndex:d})},this);return b},getRepresentValue:function(a){this.isCategory()?a=a.value:null!=a.value?a=a.value:(a=a.interval||[],a=(a[0]+a[1])/2);return a},getStops:function(a,b){function c(a){d.push(a);a.color=b(e,e.getRepresentValue(a),a.valueState)}var d=[],e=this,f=-Infinity;k.each(this._pieceList,function(a){if(a=a.interval)a[0]>f&&c({interval:[f,a[0]],valueState:"outOfRange"}),c({interval:a.slice(),valueState:this.getValueState((a[0]+a[1])/2)}),f=a[1]},this);return d}}),e={splitNumber:function(){var a=this.option,b=this._pieceList,c=a.precision,e=this.getExtent(),f=a.splitNumber,f=Math.max(parseInt(f,10),1);a.splitNumber=f;for(var g=(e[1]-e[0])/f;+g.toFixed(c)!==g&&5>c;)c++;a.precision=c;g=+g.toFixed(c);a=0;for(c=e[0];a<f;a++,c+=g)b.push({index:a,interval:[c,a===f-1?e[1]:c+g],close:[1,1]});n(b);k.each(b,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;k.each(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this);l(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;k.each(a.pieces,function(a,d){k.isObject(a)||(a={value:a});var c={text:"",index:d};null!=a.label&&(c.text=a.label);if(a.hasOwnProperty("value")){var e=c.value=a.value;c.interval=[e,e];c.close=[1,1]}else{for(var e=c.interval=[],f=c.close=[0,0],l=[1,0,1],q=[-Infinity,Infinity],n=[],p=0;2>p;p++){for(var r=[["gte","gt","min"],["lte","lt","max"]][p],A=0;3>A&&null==e[p];A++)e[p]=a[r[A]],f[p]=l[A],n[p]=2===A;null==e[p]&&(e[p]=q[p])}n[0]&&Infinity===e[1]&&(f[0]=0);n[1]&&-Infinity===e[0]&&(f[1]=0);e[0]>e[1]&&console.warn("Piece "+d+"is illegal: "+e+" lower bound should not greater then uppper bound.");e[0]===e[1]&&f[0]&&f[1]&&(c.value=e[0])}c.visual=h.retrieveVisuals(a);b.push(c)},this);l(a,b);n(b);k.each(b,function(a){var b=a.close,b=[["\x3c","\u2264"][b[1]],["\x3e","\u2265"][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,b)},this)}};r.exports=f},function(r,p,a){p=a(338);var l=a(4),n=a(43),k=a(106),h=a(21),f=a(339);a=p.extend({type:"visualMap.piecewise",doRender:function(){var a=this.group;a.removeAll();var d=this.visualMapModel,b=d.get("textGap"),c=d.textStyleModel,f=c.getFont(),k=c.getTextColor(),g=this._getItemAlign(),p=d.itemSize,c=this._getViewData(),r=!c.endsText,u=!r;u&&this._renderEndsText(a,c.endsText[0],p);l.each(c.viewPieceList,function(c){var e=c.piece,h=new n.Group;h.onclick=l.bind(this._onItemClick,this,e);this._enableHoverLink(h,c.indexInModelPieceList);c=d.getRepresentValue(e);this._createItemSymbol(h,c,[0,0,p[0],p[1]]);r&&(c=this.visualMapModel.getValueState(c),h.add(new n.Text({style:{x:"right"===g?-b:p[0]+b,y:p[1]/2,text:e.text,textVerticalAlign:"middle",textAlign:g,textFont:f,fill:k,opacity:"outOfRange"===c?.5:1}})));a.add(h)},this);u&&this._renderEndsText(a,c.endsText[1],p);h.box(d.get("orient"),a,d.get("itemGap"));this.renderBackground(a);this.positionGroup(a)},_enableHoverLink:function(a,d){function b(a){var b=this.visualMapModel;b.option.hoverLink&&this.api.dispatchAction({type:a,batch:b.findTargetDataIndices(d)})}a.on("mouseover",l.bind(b,this,"highlight")).on("mouseout",l.bind(b,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,d=a.option;if("vertical"===d.orient)return f.getItemAlign(a,this.api,a.itemSize);(a=d.align)&&"auto"!==a||(a="left");return a},_renderEndsText:function(a,d,b){if(d){var c=new n.Group,e=this.visualMapModel.textStyleModel;c.add(new n.Text({style:{x:b[0]/2,y:b[1]/2,textVerticalAlign:"middle",textAlign:"center",text:d,textFont:e.getFont(),fill:e.getTextColor()}}));a.add(c)}},_getViewData:function(){var a=this.visualMapModel,d=l.map(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),b=a.get("text"),c=a.get("orient"),a=a.get("inverse");("horizontal"===c?a:!a)?d.reverse():b&&(b=b.slice().reverse());return{viewPieceList:d,endsText:b}},_createItemSymbol:function(a,d,b){a.add(k.createSymbol(this.getControllerVisual(d,"symbol"),b[0],b[1],b[2],b[3],this.getControllerVisual(d,"color")))},_onItemClick:function(a){var d=this.visualMapModel,b=d.option,c=l.clone(b.selected),e=d.getSelectedMapKey(a);"single"===b.selectedMode?(c[e]=!0,l.each(c,function(a,b){c[b]=b===e})):c[e]=!c[e];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:c})}});r.exports=a},function(r,p,a){a(345);a(347);a(1).registerPreprocessor(function(a){a.markPoint=a.markPoint||{}})},function(r,p,a){r.exports=a(346).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(r,p,a){function l(a){n.defaultEmphasis(a.label,n.LABEL_OPTIONS)}var n=a(5),k=a(4),h=a(2);p=a(6);var f=p.addCommas,e=p.encodeHTML;a=a(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,b,c,e){if("marker"===this.type)throw Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,c);this.mergeOption(a,c,e.createdBySelf,!0)},ifEnableAnimation:function(){if(h.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.ifEnableAnimation()},mergeOption:function(a,b,c,e){var d=this.constructor,f=this.mainType+"Model";c||b.eachSeries(function(a){var c=a.get(this.mainType),g=a[f];c&&c.data?(g?g.mergeOption(c,b,!0):(e&&l(c),k.each(c.data,function(a){a instanceof Array?(l(a[0]),l(a[1])):l(a)}),g=new d(c,this,b,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),g.__hostSeries=a),a[f]=g):a[f]=null},this)},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=k.isArray(c)?k.map(c,f).join(", "):f(c);a=b.getName(a);b=this.name;if(null!=c||a)b+="\x3cbr /\x3e";a&&(b+=e(a),null!=c&&(b+=" : "));null!=c&&(b+=d);return b},getData:function(){return this._data},setData:function(a){this._data=a}});k.mixin(a,n.dataFormatMixin);r.exports=a},function(r,p,a){function l(a,c,d){var b=c.coordinateSystem;a.each(function(e){var g=a.getItemModel(e),h,k=f.parsePercent(g.get("x"),d.getWidth()),g=f.parsePercent(g.get("y"),d.getHeight());if(!isNaN(k)&&!isNaN(g))h=[k,g];else if(c.getMarkerPosition)h=c.getMarkerPosition(a.getValues(a.dimensions,e));else if(b){h=a.get(b.dimensions[0],e);var m=a.get(b.dimensions[1],e);h=b.dataToPoint([h,m])}isNaN(k)||(h[0]=k);isNaN(g)||(h[1]=g);a.setItemLayout(e,h)})}function n(a,c,f){var b;b=a?h.map(a&&a.dimensions,function(a){var b=c.getData().getDimensionInfo(c.coordDimToDataDim(a)[0])||{};b.name=a;return b}):[{name:"value",type:"float"}];b=new e(b,f);f=h.map(f.get("data"),h.curry(d.dataTransform,c));a&&(f=h.filter(f,h.curry(d.dataFilter,a)));b.initData(f,null,a?d.dimValueGetter:function(a){return a.value});return b}var k=a(104),h=a(4),f=a(7),e=a(97),d=a(348);a(349).extend({type:"markPoint",updateLayout:function(a,c,d){c.eachSeries(function(a){var b=a.markPointModel;b&&(l(b.getData(),a,d),this.markerGroupMap[a.name].updateLayout(b))},this)},renderSeries:function(a,c,d,e){d=a.coordinateSystem;var b=a.name,f=a.getData(),h=this.markerGroupMap,m=h[b];m||(m=h[b]=new k);var q=n(d,a,c);c.setData(q);l(c.getData(),a,e);q.each(function(a){var b=q.getItemModel(a),d=b.getShallow("symbolSize");"function"===typeof d&&(d=d(c.getRawValue(a),c.getDataParams(a)));q.setItemVisual(a,{symbolSize:d,color:b.get("itemStyle.normal.color")||f.getVisual("color"),symbol:b.getShallow("symbol")})});m.updateData(q);this.group.add(m.group);q.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=c})});m.__keep=!0;m.group.silent=c.get("silent")||a.get("silent")}})},function(r,p,a){function l(a,c,e,f,g,h){var b=[];a=d(c,f,a);a=c.indexOfNearest(f,a,!0);b[g]=c.get(e,a,!0);b[h]=c.get(f,a,!0);e=-1;do e=Math.max(k.getPrecision(c.get(f,a)),e),c=c.stackedOn;while(c);f=e;0<=f&&(b[h]=+b[h].toFixed(f));return b}var n=a(4),k=a(7),h=n.indexOf;p=n.curry;var f={min:p(l,"min"),max:p(l,"max"),average:p(l,"average")},e=function(a,c,d,e){var b={};null!=a.valueIndex||null!=a.valueDim?(b.valueDataDim=null!=a.valueIndex?c.getDimension(a.valueIndex):a.valueDim,b.valueAxis=d.getAxis(e.dataDimToCoordDim(b.valueDataDim)),b.baseAxis=d.getOtherAxis(b.valueAxis),b.baseDataDim=e.coordDimToDataDim(b.baseAxis.dim)[0]):(b.baseAxis=e.getBaseAxis(),b.valueAxis=d.getOtherAxis(b.baseAxis),b.baseDataDim=e.coordDimToDataDim(b.baseAxis.dim)[0],b.valueDataDim=e.coordDimToDataDim(b.valueAxis.dim)[0]);return b},d=function(a,c,d){if("average"===d){var b=0,e=0;a.each(c,function(a,c){isNaN(a)||(b+=a,e++)},!0);return b/e}return a.getDataExtent(c,!0)["max"===d?1:0]};r.exports={dataTransform:function(a,c){var b=a.getData(),k=a.coordinateSystem,g;if(g=c)g=c,g=!(!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y)));if(g&&!n.isArray(c.coord)&&k)if(g=k.dimensions,k=e(c,b,k,a),c=n.clone(c),c.type&&f[c.type]&&k.baseAxis&&k.valueAxis){var l=h(g,k.baseAxis.dim);g=h(g,k.valueAxis.dim);c.coord=f[c.type](b,k.baseDataDim,k.valueDataDim,l,g);c.value=c.coord[g]}else{k=[null!=c.xAxis?c.xAxis:c.radiusAxis,null!=c.yAxis?c.yAxis:c.angleAxis];for(l=0;2>l;l++)if(f[k[l]]){var p=a.coordDimToDataDim(g[l])[0];k[l]=d(b,p,k[l])}c.coord=k}return c},dataFilter:function(a,c){var b;if(b=a&&a.containData&&c.coord)b=!(!isNaN(parseFloat(c.x))||!isNaN(parseFloat(c.y)));return b?a.containData(c.coord):!0},dimValueGetter:function(a,c,d,e){return 2>e?a.coord&&a.coord[e]:a.value},getAxisInfo:e,numCalculate:d}},function(r,p,a){r.exports=a(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(a,n,k){a=this.markerGroupMap;for(var h in a)a[h].__keep=!1;var f=this.type+"Model";n.eachSeries(function(a){var d=a[f];d&&this.renderSeries(a,d,n,k)},this);for(h in a)a[h].__keep||this.group.remove(a[h].group)},renderSeries:function(){}})},function(r,p,a){a(351);a(352);a(1).registerPreprocessor(function(a){a.markLine=a.markLine||{}})},function(r,p,a){r.exports=a(346).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(r,p,a){function l(a){return!isNaN(a)&&!isFinite(a)}function n(a,b,c,d){var e=1-a,f=d.dimensions[a];return l(b[e])&&l(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function k(a,b){if("cartesian2d"===a.type){var d=b[0].coord,e=b[1].coord;if(d&&e&&(n(1,d,e,a)||n(0,d,e,a)))return!0}return c.dataFilter(a,b[0])&&c.dataFilter(a,b[1])}function h(a,c,d,e,f){var g=e.coordinateSystem,h=a.getItemModel(c),k=b.parsePercent(h.get("x"),f.getWidth());f=b.parsePercent(h.get("y"),f.getHeight());if(isNaN(k)||isNaN(f)){e.getMarkerPosition?h=e.getMarkerPosition(a.getValues(a.dimensions,c)):(e=g.dimensions,h=a.get(e[0],c),e=a.get(e[1],c),h=g.dataToPoint([h,e]));if("cartesian2d"===g.type){var m=g.getAxis("x"),n=g.getAxis("y");e=g.dimensions;l(a.get(e[0],c))?h[0]=m.toGlobalCoord(m.getExtent()[d?0:1]):l(a.get(e[1],c))&&(h[1]=n.toGlobalCoord(n.getExtent()[d?0:1]))}isNaN(k)||(h[0]=k);isNaN(f)||(h[1]=f)}else h=[k,f];a.setItemLayout(c,h)}function f(a,b,f){var g;g=a?e.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}):[{name:"value",type:"float"}];var h=new d(g,f);g=new d(g,f);var l=new d([],f);f=e.map(f.get("data"),e.curry(m,b,a,f));a&&(f=e.filter(f,e.curry(k,a)));a=a?c.dimValueGetter:function(a){return a.value};h.initData(e.map(f,function(a){return a[0]}),null,a);g.initData(e.map(f,function(a){return a[1]}),null,a);l.initData(e.map(f,function(a){return a[2]}));l.hasItemOption=!0;return{from:h,to:g,line:l}}var e=a(4),d=a(97),b=a(7),c=a(348),q=a(199),m=function(a,b,d,f){var g=a.getData(),h=f.type;if(!e.isArray(f)&&("min"===h||"max"===h||"average"===h||null!=f.xAxis||null!=f.yAxis)){var k;null!=f.yAxis||null!=f.xAxis?(k=null!=f.yAxis?"y":"x",b.getAxis(k),b=e.retrieve(f.yAxis,f.xAxis)):(k=c.getAxisInfo(f,g,b,a).valueDataDim,b=c.numCalculate(g,k,h));k="x"===k?0:1;var m=1-k,g=e.clone(f),l={};g.type=null;g.coord=[];l.coord=[];g.coord[m]=-Infinity;l.coord[m]=Infinity;d=d.get("precision");0<=d&&(b=+b.toFixed(d));g.coord[k]=l.coord[k]=b;f=[g,l,{type:h,valueIndex:f.valueIndex,value:b}]}f=[c.dataTransform(a,f[0]),c.dataTransform(a,f[1]),e.extend({},f[2])];f[2].type=f[2].type||"";e.merge(f[2],f[0]);e.merge(f[2],f[1]);return f};a(349).extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),e=b.__from,f=b.__to;e.each(function(b){h(e,b,!0,a,c);h(f,b,!1,a,c)});d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])});this.markerGroupMap[a.name].updateLayout()}},this)},renderSeries:function(a,b,c,d){function g(b,c,e){var f=b.getItemModel(c);h(b,c,e,a,d);b.setItemVisual(c,{symbolSize:f.get("symbolSize")||w[e?0:1],symbol:f.get("symbol",!0)||u[e?0:1],color:f.get("itemStyle.normal.color")||l.getVisual("color")})}var k=a.coordinateSystem,m=a.name,l=a.getData(),n=this.markerGroupMap;(c=n[m])||(c=n[m]=new q);this.group.add(c.group);var k=f(k,a,b),p=k.from,r=k.to,t=k.line;b.__from=p;b.__to=r;b.setData(t);var u=b.get("symbol"),w=b.get("symbolSize");e.isArray(u)||(u=[u,u]);"number"===typeof w&&(w=[w,w]);k.from.each(function(a){g(p,a,!0);g(r,a,!1)});t.each(function(a){var b=t.getItemModel(a).get("lineStyle.normal.color");t.setItemVisual(a,{color:b||p.getItemVisual(a,"color")});t.setItemLayout(a,[p.getItemLayout(a),r.getItemLayout(a)]);t.setItemVisual(a,{fromSymbolSize:p.getItemVisual(a,"symbolSize"),fromSymbol:p.getItemVisual(a,"symbol"),toSymbolSize:r.getItemVisual(a,"symbolSize"),toSymbol:r.getItemVisual(a,"symbol")})});c.updateData(t);k.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})});c.__keep=!0;c.group.silent=b.get("silent")||a.get("silent")}})},function(r,p,a){a(354);a(355);a(1).registerPreprocessor(function(a){a.markArea=a.markArea||{}})},function(r,p,a){r.exports=a(346).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(r,p,a){function l(a){return!isNaN(a)&&!isFinite(a)}function n(a,b){var c=b.coord[0],d=b.coord[1];if("cartesian2d"===a.type){var e;if(e=c&&d)(e=l(c[0])&&l(d[0]))||(e=l(c[1])&&l(d[1]));if(e)return!0}return q.dataFilter(a,{coord:c,x:b.x0,y:b.y0})||q.dataFilter(a,{coord:d,x:b.x1,y:b.y1})}function k(a,b,c,e,f){var g=e.coordinateSystem,h=a.getItemModel(b),k=d.parsePercent(h.get(c[0]),f.getWidth());f=d.parsePercent(h.get(c[1]),f.getHeight());if(isNaN(k)||isNaN(f)){if(e.getMarkerPosition)e=e.getMarkerPosition(a.getValues(c,b));else{var h=a.get(c[0],b),m=a.get(c[1],b);e=g.dataToPoint([h,m],!0)}if("cartesian2d"===g.type){var n=g.getAxis("x"),g=g.getAxis("y"),h=a.get(c[0],b),m=a.get(c[1],b);l(h)?e[0]=n.toGlobalCoord(n.getExtent()["x0"===c[0]?0:1]):l(m)&&(e[1]=g.toGlobalCoord(g.getExtent()["y0"===c[1]?0:1]))}isNaN(k)||(e[0]=k);isNaN(f)||(e[1]=f)}else e=[k,f];return e}function h(a,b,c){var d,g;g=["x0","y0","x1","y1"];a?(d=f.map(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};c.name=a;return c}),g=new e(f.map(g,function(a,b){return{name:a,type:d[b%2].type}}),c)):(d=[{name:"value",type:"float"}],g=new e(d,c));c=f.map(c.get("data"),f.curry(m,b,a,c));a&&(c=f.filter(c,f.curry(n,a)));g.initData(c,null,a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value});g.hasItemOption=!0;return g}var f=a(4),e=a(97),d=a(7),b=a(43),c=a(39),q=a(348),m=function(a,b,c,d){b=q.dataTransform(a,d[0]);a=q.dataTransform(a,d[1]);d=f.retrieve;c=b.coord;var e=a.coord;c[0]=d(c[0],-Infinity);c[1]=d(c[1],-Infinity);e[0]=d(e[0],Infinity);e[1]=d(e[1],Infinity);d=f.mergeAll([{},b,a]);d.coord=[b.coord,a.coord];d.x0=b.x;d.y0=b.y;d.x1=a.x;d.y1=a.y;return d},g=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];a(349).extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=f.map(g,function(e){return k(d,b,e,a,c)});d.setItemLayout(b,e);d.getItemGraphicEl(b).setShape("points",e)})}},this)},renderSeries:function(a,d,e,m){e=a.coordinateSystem;var l=a.name,n=a.getData(),q=this.markerGroupMap,p=q[l];p||(p=q[l]={group:new b.Group});this.group.add(p.group);p.__keep=!0;var r=h(e,a,d);d.setData(r);r.each(function(b){r.setItemLayout(b,f.map(g,function(c){return k(r,b,c,a,m)}));r.setItemVisual(b,{color:n.getVisual("color")})});r.diff(p.__data).add(function(a){var c=new b.Polygon({shape:{points:r.getItemLayout(a)}});r.setItemGraphicEl(a,c);p.group.add(c)}).update(function(a,c){var e=p.__data.getItemGraphicEl(c);b.updateProps(e,{shape:{points:r.getItemLayout(a)}},d,a);p.group.add(e);r.setItemGraphicEl(a,e)}).remove(function(a){a=p.__data.getItemGraphicEl(a);p.group.remove(a)}).execute();r.eachItemGraphicEl(function(a,e){var g=r.getItemModel(e),h=g.getModel("label.normal"),k=g.getModel("label.emphasis"),m=r.getItemVisual(e,"color");a.useStyle(f.defaults(g.getModel("itemStyle.normal").getItemStyle(),{fill:c.modifyAlpha(m,.4),stroke:m}));a.hoverStyle=g.getModel("itemStyle.normal").getItemStyle();g=r.getName(e)||"";m=m||a.style.fill;b.setText(a.style,h,m);a.style.text=f.retrieve(d.getFormattedLabel(e,"normal"),g);b.setText(a.hoverStyle,k,m);a.hoverStyle.text=f.retrieve(d.getFormattedLabel(e,"emphasis"),g);b.setHoverStyle(a,{});a.dataModel=d});p.__data=r;p.group.silent=d.get("silent")||a.get("silent")}})},function(r,p,a){a(1).registerPreprocessor(a(357));a(358);a(359);a(360);a(362)},function(r,p,a){function l(a){var f=a.type,e={number:"value",time:"time"};e[f]&&(a.axisType=e[f],delete a.type);n(a);a.hasOwnProperty("controlPosition")&&(f=a.controlStyle||(a.controlStyle={}),f.hasOwnProperty("position")||(f.position=a.controlPosition),"none"!==f.position||f.hasOwnProperty("show")||(f.show=!1,delete f.position),delete a.controlPosition);k.each(a.data||[],function(a){k.isObject(a)&&!k.isArray(a)&&(!a.hasOwnProperty("value")&&a.hasOwnProperty("name")&&(a.value=a.name),n(a))})}function n(a){var f=a.itemStyle||(a.itemStyle={}),f=f.emphasis||(f.emphasis={});a=a.label||a.label||{};var e=a.normal||(a.normal={}),d={normal:1,emphasis:1};k.each(a,function(a,c){d[c]||e.hasOwnProperty(c)||(e[c]=a)});f.label&&!a.hasOwnProperty("emphasis")&&(a.emphasis=f.label,delete f.label)}var k=a(4);r.exports=function(a){a=a&&a.timeline;k.isArray(a)||(a=a?[a]:[]);k.each(a,function(a){a&&l(a)})}},function(r,p,a){a(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(r,p,a){r=a(1);r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,n){var k=n.getComponent("timeline");k&&null!=a.currentIndex&&(k.setCurrentIndex(a.currentIndex),!k.get("loop",!0)&&k.isIndexMax()&&k.setPlayState(!1));n.resetOption("timeline")});r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,n){var k=n.getComponent("timeline");k&&null!=a.playState&&k.setPlayState(a.playState)})},function(r,p,a){var l=a(361);p=a(4);a=a(5);l=l.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});p.mixin(l,a.dataFormatMixin);r.exports=l},function(r,p,a){p=a(19);var l=a(97),n=a(4),k=a(5),h=p.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(a,e,d){this.mergeDefaultAndTheme(a,d);this._initData()},mergeOption:function(a){h.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var e=this._data.count();this.option.loop?a=(a%e+e)%e:(a>=e&&(a=e-1),0>a&&(a=0));this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,e=a.data||[],a=a.axisType,d=this._names=[];if("category"===a){var b=[];n.each(e,function(a,e){var c=k.getDataItemValue(a),f;n.isObject(a)?(f=n.clone(a),f.value=e):f=e;b.push(f);n.isString(c)||null!=c&&!isNaN(c)||(c="");d.push(c+"")});e=b}(this._data=new l([{name:"value",type:{category:"ordinal",time:"time"}[a]||"number"}],this)).initData(e,d)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});r.exports=h},function(r,p,a){function l(a,b,c,e,f,g){var h=a.get("symbol"),m=b.get("color");a=a.get("symbolSize");var l=a/2;b=b.getItemStyle(["color","symbol","symbolSize"]);f?(f.setStyle(b),f.setColor(m),c.add(f),g&&g.onUpdate(f)):(f=d.createSymbol(h,-l,-l,a,a,m),c.add(f),g&&g.onCreate(f));e=k.merge({rectHover:!0,style:b,z2:100},e,!0);f.attr(e);return f}function n(a,b,c,d,e){if(!a.dragging){var f=d.getModel("checkpointStyle");b=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[b,0]}):(a.stopAnimation(!0),a.animateTo({position:[b,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}var k=a(4),h=a(43),f=a(21);p=a(363);var e=a(364),d=a(106),b=a(114),c=a(9),q=a(11),m=a(7),g=a(6).encodeHTML,t=k.bind,w=k.each,u=Math.PI;r.exports=p.extend({type:"timeline.slider",init:function(a,b){this.api=b},render:function(a,b,c,d){this.model=a;this.api=c;this.ecModel=b;this.group.removeAll();if(a.get("show",!0)){var e=this._layout(a,c),f=this._createGroup("mainGroup");b=this._createGroup("labelGroup");var h=this._axis=this._createAxis(e,a);a.formatTooltip=function(a){return g(h.scale.getLabel(a))};w(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,h,a)},this);this._renderAxisLabel(e,b,h,a);this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.normal.position"),d=a.get("orient"),e;e=f.getLayoutRect(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"));null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]);var g={horizontal:"center",vertical:0<=c||"+"===c?"left":"right"},h={horizontal:0<=c||"+"===c?"top":"bottom",vertical:"middle"},k={horizontal:0,vertical:u/2},m="vertical"===d?e.height:e.width,l=a.getModel("controlStyle"),n=l.get("show"),q=n?l.get("itemSize"):0,p=n?l.get("itemGap"):0,r=q+p,t=a.get("label.normal.rotate")||0,t=t*u/180,v,x,w,S=l.get("position",!0),P=(n=l.get("show",!0))&&l.get("showPlayBtn",!0),R=n&&l.get("showPrevBtn",!0),l=n&&l.get("showNextBtn",!0),n=0,O=m;"left"===S||"bottom"===S?(P&&(v=[0,0],n+=r),R&&(x=[n,0],n+=r)):(P&&(v=[O-q,0],O-=r),R&&(x=[0,0],n+=r));l&&(w=[O-q,0],O-=r);r=[n,O];a.get("inverse")&&r.reverse();return{viewRect:e,mainLength:m,orient:d,rotation:k[d],labelRotation:t,labelPosOpt:c,labelAlign:g[d],labelBaseline:h[d],playPosition:v,prevBtnPosition:x,nextBtnPosition:w,axisExtent:r,controlSize:q,controlGap:p}},_position:function(a,b){function c(a){var b=a.position;a.origin=[n[0][0]-b[0],n[1][0]-b[1]]}function d(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function e(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}var f=this._mainGroup,g=this._labelGroup,h=a.viewRect;if("vertical"===a.orient){var k=q.create(),m=h.x,l=h.y+h.height;q.translate(k,k,[-m,-l]);q.rotate(k,k,-u/2);q.translate(k,k,[m,l]);h=h.clone();h.applyTransform(k)}var n=d(h),h=d(f.getBoundingRect()),k=d(g.getBoundingRect()),m=f.position,l=g.position;l[0]=m[0]=n[0][0];var p=a.labelPosOpt;isNaN(p)?(p="+"===p?0:1,e(m,h,n,1,p),e(l,k,n,1,1-p)):(e(m,h,n,1,0<=p?0:1),l[1]=m[1]+p);f.attr("position",m);g.attr("position",l);f.rotation=g.rotation=a.rotation;c(f);c(g)},_createAxis:function(a,c){var d=c.getData(),f=c.get("axisType"),g=b.createScaleByModel(c,f),h=d.getDataExtent("value");g.setExtent(h[0],h[1]);this._customizeScale(g,d);g.niceTicks();d=new e("value",g,a.axisExtent,f);d.model=c;return d},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(a){return a})};a.getTicksLabels=function(){return k.map(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){a=this["_"+a]=new h.Group;this.group.add(a);return a},_renderAxisLine:function(a,b,c,d){a=c.getExtent();d.get("lineStyle.show")&&b.add(new h.Line({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:k.extend({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData();a=c.scale.getTicks();w(a,function(a,f){var g=c.dataToCoord(a),k=e.getItemModel(f),m=k.getModel("itemStyle.normal"),n=k.getModel("itemStyle.emphasis"),g={position:[g,0],onclick:t(this._changeTimeline,this,f)},m=l(k,m,b,g);h.setHoverStyle(m,n.getItemStyle());k.get("tooltip")?(m.dataIndex=f,m.dataModel=d):m.dataIndex=m.dataModel=null},this)},_renderAxisLabel:function(a,c,d,e){var f=e.getModel("label.normal");if(f.get("show")){var g=e.getData();e=d.scale.getTicks();var k=b.getFormattedLabels(d,f.get("formatter")),m=d.getLabelInterval();w(e,function(b,e){if(!d.isLabelIgnored(e,m)){var f=g.getItemModel(e),l=f.getModel("label.normal.textStyle"),f=f.getModel("label.emphasis.textStyle"),n=d.dataToCoord(b),l=new h.Text({style:{text:k[e],textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline,textFont:l.getFont(),fill:l.getTextColor()},position:[n,0],rotation:a.labelRotation-a.rotation,onclick:t(this._changeTimeline,this,e),silent:!1});c.add(l);h.setHoverStyle(l,f.getItemStyle())}},this)}},_renderControl:function(a,b,d,e){function f(a,d,f,p){if(a){var r=q;a={position:a,origin:[g/2,0],rotation:p?-m:0,rectHover:!0,style:l,onclick:f};d=h.makePath(e.get(d).replace(/^path:\/\//,""),k.clone(a||{}),new c(r[0],r[1],r[2],r[3]),"center");b.add(d);h.setHoverStyle(d,n)}}var g=a.controlSize,m=a.rotation,l=e.getModel("controlStyle.normal").getItemStyle(),n=e.getModel("controlStyle.emphasis").getItemStyle(),q=[0,-g/2,g,g];d=e.getPlayState();var p=e.get("inverse",!0);f(a.nextBtnPosition,"controlStyle.nextIcon",t(this._changeTimeline,this,p?"-":"+"));f(a.prevBtnPosition,"controlStyle.prevIcon",t(this._changeTimeline,this,p?"+":"-"));f(a.playPosition,"controlStyle."+(d?"stopIcon":"playIcon"),t(this._handlePlayClick,this,!d),!0)},_renderCurrentPointer:function(a,b,c,d){a=d.getData();var e=d.getCurrentIndex();a=a.getItemModel(e).getModel("checkpointStyle");var f=this;this._currentPointer=l(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(a){a.draggable=!0;a.drift=t(f._handlePointerDrag,f);a.ondragend=t(f._handlePointerDragend,f);n(a,e,c,d,!0)},onUpdate:function(a){n(a,e,c,d)}})},_handlePlayClick:function(a){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer();this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var c=this._toAxisCoord(a)[0],d=m.asc(this._axis.getExtent().slice());c>d[1]&&(c=d[1]);c<d[0]&&(c=d[0]);this._currentPointer.position[0]=c;this._currentPointer.dirty();c=this._findNearestTick(c);d=this.model;(b||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},_doPlayStop:function(){function a(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(t(a,this),this.model.get("playInterval")))},_toAxisCoord:function(a){var b=this._mainGroup.getLocalTransform();return h.applyTransform(a,b,!0)},_findNearestTick:function(a){var b=this.model.getData(),c=Infinity,d,e=this._axis;b.each(["value"],function(b,f){var g=e.dataToCoord(b),g=Math.abs(g-a);g<c&&(c=g,d=f)});return d},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1);this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}})},function(r,p,a){p=a(29);r.exports=p.extend({type:"timeline"})},function(r,p,a){var l=a(4),n=a(123),k=a(114);p=function(a,f,e,d){n.call(this,a,f,e);this.type=d||"value";this.model=null};p.prototype={constructor:p,getLabelInterval:function(){var a=this.model,f=a.getModel("label.normal"),e=f.get("interval");if(null!=e&&"auto"!=e)return e;e=this._autoLabelInterval;e||(e=this._autoLabelInterval=k.getAxisLabelInterval(l.map(this.scale.getTicks(),this.dataToCoord,this),k.getFormattedLabels(this,f.get("formatter")),f.getModel("textStyle").getFont(),"horizontal"===a.get("orient")));return e},isLabelIgnored:function(a){if("category"===this.type){var f=this.getLabelInterval();return"function"===typeof f&&!f(a,this.scale.getLabel(a))||a%(f+1)}}};l.inherits(p,n);r.exports=p},function(r,p,a){a(366);a(367);a(369);a(370);a(371);a(372);a(377)},function(r,p,a){var l=a(314),n=a(4),k=a(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){k.superApply(this,"mergeDefaultAndTheme",arguments);n.each(this.option.feature,function(a,e){var d=l.get(e);d&&n.merge(a,d.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});r.exports=k},function(r,p,a){(function(l){var n=a(314),k=a(4),h=a(43),f=a(12),e=a(98),d=a(277),b=a(8);r.exports=a(1).extendComponentView({type:"toolbox",render:function(a,l,m,g){function c(b,c){var d=A[b],e=A[c],h=new f(v[d],a,a.ecModel),k;if(d&&!e){if(0===d.indexOf("my"))k={model:h,onclick:h.option.onclick,featureName:d};else{k=n.get(d);if(!k)return;k=new k(h,l,m)}z[d]=k}else{k=z[e];if(!k)return;k.model=h;k.ecModel=l;k.api=m}!d&&e?k.dispose&&k.dispose(l,m):!h.get("show")||k.unusable?k.remove&&k.remove(l,m):(q(h,k,d),h.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{};c.iconStatus[a]=b;d[a]&&d[a].trigger(b)},k.render&&k.render(h,l,m,g))}function q(b,c,d){var e=b.getModel("iconStyle"),f=c.getIcons?c.getIcons():b.get("icon"),g=b.get("title")||{};if("string"===typeof f){var n=f,q=g,f={},g={};f[d]=n;g[d]=q}var t=b.iconPaths={};k.each(f,function(d,f){var n=e.getModel("normal").getItemStyle(),q=e.getModel("emphasis").getItemStyle(),u={x:-r/2,y:-r/2,width:r,height:r},v=0===d.indexOf("image://")?(u.image=d.slice(8),new h.Image({style:u})):h.makePath(d.replace("path://",""),{style:n,hoverStyle:q,rectHover:!0},u,"center");h.setHoverStyle(v);a.get("showTitle")&&(v.__title=g[f],v.on("mouseover",function(){v.setStyle({text:g[f],textPosition:q.textPosition||"bottom",textFill:q.fill||q.stroke||"#000",textAlign:q.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})}));v.trigger(b.get("iconStatus."+f)||"normal");p.add(v);v.on("click",k.bind(c.onclick,c,l,m,f));t[f]=v})}var p=this.group;p.removeAll();if(a.get("show")){var r=+a.get("itemSize"),v=a.get("feature")||{},z=this._features||(this._features={}),A=[];k.each(v,function(a,b){A.push(b)});(new e(this._featureNames||[],A)).add(c).update(c).remove(k.curry(c,null)).execute();this._featureNames=A;d.layout(p,a,m);d.addBackground(p,a);p.eachChild(function(a){var c=a.__title,d=a.hoverStyle;if(d&&c){var c=b.getBoundingRect(c,d.font),e=a.position[0]+p.position[0],f=!1;a.position[1]+p.position[1]+r+c.height>m.getHeight()&&(d.textPosition="top",f=!0);a=f?-5-c.height:r+8;e+c.width/2>m.getWidth()?(d.textPosition=["100%",a],d.textAlign="right"):0>e-c.width/2&&(d.textPosition=[0,a],d.textAlign="left")}})}},updateView:function(a,b,d,e){k.each(this._features,function(a){a.updateView&&a.updateView(a.model,b,d,e)})},updateLayout:function(a,b,d,e){k.each(this._features,function(a){a.updateLayout&&a.updateLayout(a.model,b,d,e)})},remove:function(a,b){k.each(this._features,function(c){c.remove&&c.remove(a,b)});this.group.removeAll()},dispose:function(a,b){k.each(this._features,function(c){c.dispose&&c.dispose(a,b)})}})}).call(p,a(368))},function(r,p){function a(){e=!1;d.length?f=d.concat(f):b=-1;f.length&&l()}function l(){if(!e){var c=setTimeout(a);e=!0;for(var h=f.length;h;){d=f;for(f=[];++b<h;)d&&d[b].run();b=-1;h=f.length}d=null;e=!1;clearTimeout(c)}}function n(a,b){this.fun=a;this.array=b}function k(){}var h=r.exports={},f=[],e=!1,d,b=-1;h.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];f.push(new n(a,b));1!==f.length||e||setTimeout(l,0)};n.prototype.run=function(){this.fun.apply(null,this.array)};h.title="browser";h.browser=!0;h.env={};h.argv=[];h.version="";h.versions={};h.on=k;h.addListener=k;h.once=k;h.off=k;h.removeListener=k;h.removeAllListeners=k;h.emit=k;h.binding=function(a){throw Error("process.binding is not supported");};h.cwd=function(){return"/"};h.chdir=function(a){throw Error("process.chdir is not supported");};h.umask=function(){return 0}},function(r,p,a){function l(a){this.model=a}p=a(2);l.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]};l.prototype.unusable=!p.canvasSupported;l.prototype.onclick=function(a,k){var h=this.model,f=h.get("name")||a.get("title.0.text")||"echarts",e=document.createElement("a"),d=h.get("type",!0)||"png";e.download=f+"."+d;e.target="_blank";f=k.getConnectedDataURL({type:d,backgroundColor:h.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:h.get("excludeComponents"),pixelRatio:h.get("pixelRatio")});e.href=f;"function"===typeof MouseEvent?(h=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),e.dispatchEvent(h)):(e=h.get("lang"),e='\x3cbody style\x3d"margin:0;"\x3e\x3cimg src\x3d"'+f+'" style\x3d"max-width:100%;" title\x3d"'+(e&&e[0]||"")+'" /\x3e\x3c/body\x3e',window.open().document.write(e))};a(314).register("saveAsImage",l);r.exports=l},function(r,p,a){function l(a){this.model=a}var n=a(4);l.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"},option:{},seriesIndex:{}};p=l.prototype;p.getIcons=function(){var a=this.model,e=a.get("icon"),d={};n.each(a.get("type"),function(a){e[a]&&(d[a]=e[a])});return d};var k={line:function(a,e,d,b){if("bar"===a)return n.merge({id:e,type:"line",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},b.get("option.line")||{},!0)},bar:function(a,e,d,b){if("line"===a)return n.merge({id:e,type:"bar",data:d.get("data"),stack:d.get("stack"),markPoint:d.get("markPoint"),markLine:d.get("markLine")},b.get("option.bar")||{},!0)},stack:function(a,e,d,b){if("line"===a||"bar"===a)return n.merge({id:e,stack:"__ec_magicType_stack__"},b.get("option.stack")||{},!0)},tiled:function(a,e,d,b){if("line"===a||"bar"===a)return n.merge({id:e,stack:""},b.get("option.tiled")||{},!0)}},h=[["line","bar"],["stack","tiled"]];p.onclick=function(a,e,d){var b=this.model,c=b.get("seriesIndex."+d);if(k[d]){var f={series:[]};n.each(h,function(a){0<=n.indexOf(a,d)&&n.each(a,function(a){b.setIconStatus(a,"normal")})});b.setIconStatus(d,"emphasis");a.eachComponent({mainType:"series",query:null==c?null:{seriesIndex:c}},function(a){var c=k[d](a.subType,a.id,a,b);c&&(n.defaults(c,a.option),f.series.push(c));if((c=a.coordinateSystem)&&"cartesian2d"===c.type&&("line"===d||"bar"===d)&&(c=c.getAxesByScale("ordinal")[0])){c=c.dim;a=a.get(c+"AxisIndex");c+="Axis";f[c]=f[c]||[];for(var e=0;e<=a;e++)f[c][a]=f[c][a]||{};f[c][a].boundaryGap="bar"===d?!0:!1}});e.dispatchAction({type:"changeMagicType",currentType:d,newOption:f})}};a(1).registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,e){e.mergeOption(a.newOption)});a(314).register("magicType",l);r.exports=l},function(r,p,a){function l(a){var b={},c=[],d=[];a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var f=e.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index}));b[g].series.push(a)}else c.push(a)}});return{seriesGroupByCategoryAxis:b,other:c,meta:d}}function n(a){var b=[];q.each(a,function(a,c){var d=a.categoryAxis,e=a.valueAxis.dim,f=[" "].concat(q.map(a.series,function(a){return a.name})),g=[d.model.getCategories()];q.each(a.series,function(a){g.push(a.getRawData().mapArray(e,function(a){return a}))});d=[f.join("\t")];for(f=0;f<g[0].length;f++){for(var h=[],k=0;k<g.length;k++)h.push(g[k][f]);d.push(h.join("\t"))}b.push(d.join("\n"))});return b.join("\n\n"+g+"\n\n")}function k(a){return q.map(a,function(a){var b=a.getRawData(),c=[a.name],d=[];b.each(b.dimensions,function(){for(var a=arguments.length,e=b.getName(arguments[a-1]),f=0;f<a-1;f++)d[f]=arguments[f];c.push((e?e+"\t":"")+d.join("\t"))});return c.join("\n")}).join("\n\n"+g+"\n\n")}function h(a){a=l(a);return{value:q.filter([n(a.seriesGroupByCategoryAxis),k(a.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+g+"\n\n"),meta:a.meta}}function f(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function e(a){a=a.split(/\n+/g);for(var b=f(a.shift()).split(t),c=[],b=q.map(b,function(a){return{name:a,data:[]}}),d=0;d<a.length;d++){var e=f(a[d]).split(t);c.push(e.shift());for(var g=0;g<e.length;g++)b[g]&&(b[g].data[d]=e[g])}return{series:b,categories:c}}function d(a,b){var c=a.split(new RegExp("\n*"+g+"\n*","g")),d={series:[]};q.each(c,function(a,c){var g;g=0<=a.slice(0,a.indexOf("\n")).indexOf("\t")?!0:void 0;if(g){g=e(a);var h=b[c],k=h.axisDim+"Axis";h&&(d[k]=d[k]||[],d[k][h.axisIndex]={data:g.categories},d.series=d.series.concat(g.series))}else{g=a.split(/\n+/g);for(var h=f(g.shift()),k=[],m=0;m<g.length;m++){var l=f(g[m]).split(t),n,q=!1;isNaN(l[0])?(q=!0,n=l[0],l=l.slice(1),k[m]={name:n,value:[]},n=k[m].value):n=k[m]=[];for(var p=0;p<l.length;p++)n.push(+l[p]);1===n.length&&(q?k[m].value=n[0]:k[m]=n[0])}g={name:h,data:k};d.series.push(g)}});return d}function b(a){this._dom=null;this.model=a}function c(a,b){return q.map(a,function(a,c){var d=b&&b[c];return q.isObject(d)&&!q.isArray(d)?(q.isObject(a)&&!q.isArray(a)&&(a=a.value),q.defaults({value:a},d)):a})}var q=a(4),m=a(87),g=Array(60).join("-"),t=RegExp("[\t]+","g");b.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};b.prototype.onclick=function(a,b){function c(){e.removeChild(g);G._dom=null}var e=b.getDom(),f=this.model;this._dom&&e.removeChild(this._dom);var g=document.createElement("div");g.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";g.style.backgroundColor=f.get("backgroundColor")||"#fff";var k=document.createElement("h4"),l=f.get("lang")||[];k.innerHTML=l[0]||f.get("title");k.style.cssText="margin: 10px 20px;";k.style.color=f.get("textColor");var n=document.createElement("div"),p=document.createElement("textarea");n.style.cssText="display:block;width:100%;overflow:hidden;";var r=f.get("optionToContent"),t=f.get("contentToOption"),u=h(a);"function"===typeof r?(r=r(b.getOption()),"string"===typeof r?n.innerHTML=r:q.isDom(r)&&n.appendChild(r)):(n.appendChild(p),p.readOnly=f.get("readOnly"),p.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",p.style.color=f.get("textColor"),p.style.borderColor=f.get("textareaBorderColor"),p.style.backgroundColor=f.get("textareaColor"),p.value=u.value);var w=u.meta,u=document.createElement("div");u.style.cssText="position:absolute;bottom:0;left:0;right:0;";var r="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",E=document.createElement("div"),L=document.createElement("div"),r=r+(";background-color:"+f.get("buttonColor")),r=r+(";color:"+f.get("buttonTextColor")),G=this;m.addEventListener(E,"click",c);m.addEventListener(L,"click",function(){var a;try{a="function"===typeof t?t(n,b.getOption()):d(p.value,w)}catch(C){throw c(),Error("Data view format error "+C);}a&&b.dispatchAction({type:"changeDataView",newOption:a});c()});E.innerHTML=l[1];L.innerHTML=l[2];L.style.cssText=r;E.style.cssText=r;!f.get("readOnly")&&u.appendChild(L);u.appendChild(E);m.addEventListener(p,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+"\t"+b.substring(d);this.selectionStart=this.selectionEnd=c+1;m.stop(a)}});g.appendChild(k);g.appendChild(n);g.appendChild(u);n.style.height=e.clientHeight-80+"px";e.appendChild(g);this._dom=g};b.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)};b.prototype.dispose=function(a,b){this.remove(a,b)};a(314).register("dataView",b);a(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var d=[];q.each(a.newOption.series,function(a){var e=b.getSeriesByName(a.name)[0];e?(e=e.get("data"),d.push({name:a.name,data:c(a.data,e)})):d.push(q.extend({type:"scatter"},a))});b.mergeOption(q.defaults({series:d},a.newOption))});r.exports=b},function(r,p,a){function l(a,b,d){(this._brushController=new h(d.getZr())).on("brush",k.bind(this._onBrush,this)).mount()}function n(a){var b={};k.each(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c];null==b[c]&&(b[c]="all");!1!==b[c]&&"none"!==b[c]||(b[c]=[])});return b}var k=a(4),h=a(233),f=a(309),e=a(373),d=k.each;a(374);l.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}};p=l.prototype;p.render=function(a,b,d,g){this.model=a;this.ecModel=b;this.api=d;d=this._isZoomActive;g&&"takeGlobalCursor"===g.type&&(d="dataZoomSelect"===g.key?g.dataZoomSelectActive:!1);this._isZoomActive=d;a.setIconStatus("zoom",d?"emphasis":"normal");g=f.makeCoordInfoList(n(a.option),b);var c=g.xAxisHas&&!g.yAxisHas?"lineX":!g.xAxisHas&&g.yAxisHas?"lineY":"rect";this._brushController.setPanels(f.makePanelOpts(g)).enableBrush(d?{brushType:c,brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1);a.setIconStatus("back",1<e.count(b)?"emphasis":"normal")};p.onclick=function(a,d,e){b[e].call(this)};p.remove=function(a,b){this._brushController.unmount()};p.dispose=function(a,b){this._brushController.dispose()};var b={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(e.pop(this.ecModel))}};p._onBrush=function(a,b){function c(a,b,c){(a=d(a,c[a],k))&&(h[a.id]={dataZoomId:a.id,startValue:b[0],endValue:b[1]})}function d(a,b,c){var d;c.eachComponent({mainType:"dataZoom",subType:"select"},function(e,f){var g=e.get(a+"Index");null!=g&&c.getComponent(a,g)===b&&(d=e)});return d}if(b.isEnd&&a.length){var h={},k=this.ecModel;this._brushController.updateCovers([]);var l=f.makeCoordInfoList(n(this.model.option),k),q=[];f.parseOutputRanges(a,l,k,q);var l=a[0],q=q[0],p=l.coordRange,l=l.brushType;q&&p&&("rect"===l?(c("xAxis",p[0],q),c("yAxis",p[1],q)):c({lineX:"xAxis",lineY:"yAxis"}[l],p,q));e.push(k,h);this._dispatchZoomAction(h)}};p._dispatchZoomAction=function(a){var b=[];d(a,function(a,c){b.push(k.clone(a))});b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})};a(314).register("dataZoom",l);a(1).registerPreprocessor(function(a){function b(a,b){if(b){var d=a+"Index",f=b[d];null==f||"all"==f||k.isArray(f)||(f=!1===f||"none"===f?[]:[f]);c(a,function(b,c){if(null==f||"all"==f||-1!==k.indexOf(f,c)){var g={type:"select",$fromToolbox:!0,id:"\x00_ec_\x00toolbox-dataZoom_"+a+c};g[d]=c;e.push(g)}})}}function c(b,c){var e=a[b];k.isArray(e)||(e=e?[e]:[]);d(e,c)}if(a){var e=a.dataZoom||(a.dataZoom=[]);k.isArray(e)||(a.dataZoom=e=[e]);var f=a.toolbox;f&&(k.isArray(f)&&(f=f[0]),f&&f.feature&&(f=f.feature.dataZoom,b("xAxis",f),b("yAxis",f)))}});r.exports=l},function(r,p,a){function l(a){var h=a["\x00_ec_hist_store"];h||(h=a["\x00_ec_hist_store"]=[{}]);return h}var n=a(4).each;r.exports={push:function(a,h){var f=l(a);n(h,function(e,d){for(var b=f.length-1;0<=b&&!f[b][d];b--);0>b&&(b=a.queryComponents({mainType:"dataZoom",subType:"select",id:d})[0])&&(b=b.getPercentRange(),f[0][d]={dataZoomId:d,start:b[0],end:b[1]})});f.push(h)},pop:function(a){var h=l(a);a=h[h.length-1];1<h.length&&h.pop();var f={};n(a,function(a,d){for(var b=h.length-1;0<=b;b--)if(a=h[b][d]){f[d]=a;break}});return f},clear:function(a){a["\x00_ec_hist_store"]=null},count:function(a){return l(a).length}}},function(r,p,a){a(317);a(318);a(320);a(375);a(376);a(327);a(328)},function(r,p,a){p=a(318);r.exports=p.extend({type:"dataZoom.select"})},function(r,p,a){r.exports=a(320).extend({type:"dataZoom.select"})},function(r,p,a){function l(a){this.model=a}var n=a(373);l.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"\u8fd8\u539f"};l.prototype.onclick=function(a,h,f){n.clear(a);h.dispatchAction({type:"restore",from:this.uid})};a(314).register("restore",l);a(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,h){h.resetOption("recreate")});r.exports=l},function(r,p,a){a(379);a(81).registerPainter("vml",a(381))},function(r,p,a){if(!a(2).canvasSupported){var l=a(10),n=a(9),k=a(49).CMD,h=a(39),f=a(8);p=a(48);var e=a(46),d=a(62);r=a(64);var b=a(45),c=a(61),q=a(380),m=Math.round,g=Math.sqrt,t=Math.abs,w=Math.cos,u=Math.sin,x=Math.max,v=l.applyTransform,z=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},A=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},y=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},B=function(a,b,c){return 1E5*(parseFloat(a)||0)+1E3*(parseFloat(b)||0)+c},J=function(a,b){return"string"===typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a},F=function(a,b,c){b=h.parse(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},K=function(a){a=h.parse(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},D=function(a,b,d){var e=b.fill;if(null!=e)if(e instanceof c){var f,g=0,h=[0,0],k=0,m=1,l=d.getBoundingRect(),n=l.width,q=l.height;if("linear"===e.type){f="gradient";var p=d.transform,r=[e.x*n,e.y*q],g=[e.x2*n,e.y2*q];p&&(v(r,r,p),v(g,g,p));g=180*Math.atan2(g[0]-r[0],g[1]-r[1])/Math.PI;0>g&&(g+=360);1E-6>g&&(g=0)}else f="gradientradial",r=[e.x*n,e.y*q],p=d.transform,k=d.scale,m=n,h=[(r[0]-l.x)/m,(r[1]-l.y)/q],p&&v(r,r,p),m/=21600*k[0],q/=21600*k[1],m=x(m,q),k=0/m,m=2*e.r/m-k;r=e.colorStops.slice();r.sort(function(a,b){return a.offset-b.offset});l=r.length;p=[];e=[];for(q=0;q<l;q++)n=r[q],d=K(n.color),e.push(n.offset*m+k+" "+d[0]),0!==q&&q!==l-1||p.push(d);2<=l&&(k=p[0][0],m=p[1][0],r=p[0][1]*b.opacity,b=p[1][1]*b.opacity,a.type=f,a.method="none",a.focus="100%",a.angle=g,a.color=k,a.color2=m,a.colors=e.join(","),a.opacity=b,a.opacity2=r);"radial"===f&&(a.focusposition=h.join(","))}else F(a,e,b.opacity)},N=function(a,b,d,e){var f="fill"==b,g=a.getElementsByTagName(b)[0];null!=d[b]&&"none"!==d[b]&&(f||!f&&d.lineWidth)?(a[f?"filled":"stroked"]="true",d[b]instanceof c&&y(a,g),g||(g=q.createNode(b)),f?D(g,d,e):(b=g,null!=d.lineDash&&(b.dashstyle=d.lineDash.join(" ")),null==d.stroke||d.stroke instanceof c||F(b,d.stroke,d.opacity)),A(a,g)):(a[f?"filled":"stroked"]="false",y(a,g))},I=[[],[],[]];b.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=q.createNode("shape"),z(c),this._vmlEl=c);N(c,"fill",b,this);N(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var h=b.lineWidth;e&&!b.strokeNoScale&&(h*=g(t(d[0]*d[3]-d[1]*d[2])));f.weight=h+"px"}e=this.path;this.__dirtyPath&&(e.beginPath(),this.buildPath(e,this.shape),e.toStatic(),this.__dirtyPath=!1);var d=c,e=e.data,f=this.transform,h=k.M,l=k.C,n=k.L,p=k.A,r=k.Q,x=[],y,E,F,C,G,H;for(C=0;C<e.length;){F=e[C++];E="";y=0;switch(F){case h:E=" m ";y=1;G=e[C++];H=e[C++];I[0][0]=G;I[0][1]=H;break;case n:E=" l ";y=1;G=e[C++];H=e[C++];I[0][0]=G;I[0][1]=H;break;case r:case l:E=" c ";y=3;var D=e[C++],M=e[C++],J=e[C++],K=e[C++],L;F===r?(F=J,L=K,J=(J+2*D)/3,K=(K+2*M)/3,D=(G+2*D)/3,M=(H+2*M)/3):(F=e[C++],L=e[C++]);I[0][0]=D;I[0][1]=M;I[1][0]=J;I[1][1]=K;I[2][0]=F;I[2][1]=L;G=F;H=L;break;case p:H=G=0;K=J=1;D=0;f&&(G=f[4],H=f[5],J=g(f[0]*f[0]+f[1]*f[1]),K=g(f[2]*f[2]+f[3]*f[3]),D=Math.atan2(-f[1]/K,f[0]/J));F=e[C++];L=e[C++];var ea=e[C++],fa=e[C++],ga=e[C++]+D,ia=e[C++]+ga+D;C++;var ba=e[C++],da=F+w(ga)*ea,ha=L+u(ga)*fa,D=F+w(ia)*ea,M=L+u(ia)*fa,ja=ba?" wa ":" at ";1E-10>Math.abs(da-D)&&(.01<Math.abs(ia-ga)?ba&&(da+=.0125):1E-10>Math.abs(ha-L)?M=ba&&da<F||!ba&&da>F?M-.0125:M+.0125:D=ba&&ha<L||!ba&&ha>L?D+.0125:D-.0125);x.push(ja,m(21600*((F-ea)*J+G)-10800),",",m(21600*((L-fa)*K+H)-10800),",",m(21600*((F+ea)*J+G)-10800),",",m(21600*((L+fa)*K+H)-10800),",",m(21600*(da*J+G)-10800),",",m(21600*(ha*K+H)-10800),",",m(21600*(D*J+G)-10800),",",m(21600*(M*K+H)-10800));G=D;H=M;break;case k.R:D=I[0];M=I[1];D[0]=e[C++];D[1]=e[C++];M[0]=D[0]+e[C++];M[1]=D[1]+e[C++];f&&(v(D,D,f),v(M,M,f));D[0]=m(21600*D[0]-10800);M[0]=m(21600*M[0]-10800);D[1]=m(21600*D[1]-10800);M[1]=m(21600*M[1]-10800);x.push(" m ",D[0],",",D[1]," l ",M[0],",",D[1]," l ",M[0],",",M[1]," l ",D[0],",",M[1]);break;case k.Z:x.push(" x ")}if(0<y)for(x.push(E),E=0;E<y;E++)D=I[E],f&&v(D,D,f),x.push(m(21600*D[0]-10800),",",m(21600*D[1]-10800),E<y-1?",":"")}e=x.join("");d.path=e;c.style.zIndex=B(this.zlevel,this.z,this.z2);A(a,c);b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};b.prototype.onRemove=function(a){y(a,this._vmlEl);this.removeRectText(a)};b.prototype.onAdd=function(a){A(a,this._vmlEl);this.appendRectText(a)};d.prototype.brushVML=function(a){var b=this.style,c=b.image,d,e;if("object"===typeof c&&c.tagName&&"IMG"===c.tagName.toUpperCase()){var f=c.src;if(f===this._imageSrc)d=this._imageWidth,e=this._imageHeight;else{var h=c.runtimeStyle,k=h.width,l=h.height;h.width="auto";h.height="auto";d=c.width;e=c.height;h.width=k;h.height=l;this._imageSrc=f;this._imageWidth=d;this._imageHeight=e}c=f}else c===this._imageSrc&&(d=this._imageWidth,e=this._imageHeight);if(c){var n=b.x||0,p=b.y||0,r=b.width,t=b.height,u=b.sWidth,w=b.sHeight,h=b.sx||0,k=b.sy||0,l=u&&w,f=this._vmlEl;f||(f=q.doc.createElement("div"),z(f),this._vmlEl=f);var y=f.style,D=!1,C,E=1,F=1;this.transform&&(C=this.transform,E=g(C[0]*C[0]+C[1]*C[1]),F=g(C[2]*C[2]+C[3]*C[3]),D=C[1]||C[2]);if(D){var G=[n,p],H=[n+r,p],M=[n,p+t],I=[n+r,p+t];v(G,G,C);v(H,H,C);v(M,M,C);v(I,I,C);D=x(G[0],H[0],M[0],I[0]);G=x(G[1],H[1],M[1],I[1]);H=[];H.push("M11\x3d",C[0]/E,",","M12\x3d",C[2]/F,",","M21\x3d",C[1]/E,",","M22\x3d",C[3]/F,",","Dx\x3d",m(n*E+C[4]),",","Dy\x3d",m(p*F+C[5]));y.padding="0 "+m(D)+"px "+m(G)+"px 0";y.filter="progid:DXImageTransform.Microsoft.Matrix("+H.join("")+", SizingMethod\x3dclip)"}else C&&(n=n*E+
C[4],p=p*F+C[5]),y.filter="",y.left=m(n)+"px",y.top=m(p)+"px";C=this._imageEl;n=this._cropEl;C||(this._imageEl=C=q.doc.createElement("div"));var J=C.style;if(l){if(d&&e)J.width=m(E*d*r/u)+"px",J.height=m(F*e*t/w)+"px";else{var K=new Image,L=this;K.onload=function(){K.onload=null;d=K.width;e=K.height;J.width=m(E*d*r/u)+"px";J.height=m(F*e*t/w)+"px";L._imageWidth=d;L._imageHeight=e;L._imageSrc=c};K.src=c}n||(n=q.doc.createElement("div"),n.style.overflow="hidden",this._cropEl=n);l=n.style;l.width=m((r+h*r/u)*E);l.height=m((t+k*t/w)*F);l.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-h*r/u*E+",Dy\x3d"+-k*t/w*F+")";n.parentNode||f.appendChild(n);C.parentNode!=n&&n.appendChild(C)}else J.width=m(E*r)+"px",J.height=m(F*t)+"px",f.appendChild(C),n&&n.parentNode&&(f.removeChild(n),this._cropEl=null);C="";h=b.opacity;1>h&&(C+=".Alpha(opacity\x3d"+m(100*h)+") ");J.filter=C+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+c+", SizingMethod\x3dscale)");f.style.zIndex=B(this.zlevel,this.z,this.z2);A(a,f);b.text&&this.drawRectText(a,this.getBoundingRect())}};d.prototype.onRemove=function(a){y(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};d.prototype.onAdd=function(a){A(a,this._vmlEl);this.appendRectText(a)};var E={},L=0,G=document.createElement("div"),H;f.measureText=function(a,b){var c=q.doc;H||(H=c.createElement("div"),H.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",q.doc.body.appendChild(H));try{H.style.font=b}catch(R){}H.innerHTML="";H.appendChild(c.createTextNode(a));return{width:H.offsetWidth}};var C=new n;a=function(a,b,c,d){var e=this.style,g=e.text;if(g){var h,k=e.textAlign,l,n=e.textFont;h=E[n];if(!h){100<L&&(L=0,E={});h=G.style;var p;try{h.font=n,p=h.fontFamily.split(",")[0]}catch(Y){}h={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:parseFloat(h.fontSize||12)|0,family:p||"Microsoft YaHei"};E[n]=h;L++}l=h;var n=l.style+" "+l.variant+" "+l.weight+" "+l.size+'px "'+l.family+'"',r=e.textBaseline,t=e.textVerticalAlign;c=c||f.getBoundingRect(g,n,k,r);(p=this.transform)&&!d&&(C.copy(b),C.applyTransform(p),b=C);if(d)h=b.x,b=b.y;else{var u=e.textPosition;h=e.textDistance;u instanceof Array?(h=b.x+J(u[0],b.width),b=b.y+J(u[1],b.height),k=k||"left",r=r||"top"):(u=f.adjustTextPositionOnRect(u,b,c,h),h=u.x,b=u.y,k=k||u.textAlign,r=r||u.textBaseline)}if(t){switch(t){case "middle":b-=c.height/2;break;case "bottom":b-=c.height}r="top"}l=l.size;switch(r){case "hanging":case "top":b+=l/1.75;break;case "middle":break;default:b-=l/2.25}switch(k){case "center":h-=c.width/2;break;case "right":h-=c.width}r=q.createNode;(c=this._textVmlEl)?(r=c.firstChild,l=r.nextSibling,k=l.nextSibling):(c=r("line"),l=r("path"),k=r("textpath"),r=r("skew"),k.style["v-text-align"]="left",z(c),l.textpathok=!0,k.on=!0,c.from="0 0",c.to="1000 0.05",A(c,r),A(c,l),A(c,k),this._textVmlEl=c);l=[h,b];t=c.style;p&&d?(v(l,l,p),r.on=!0,r.matrix=p[0].toFixed(3)+","+p[2].toFixed(3)+","+p[1].toFixed(3)+","+p[3].toFixed(3)+",0,0",r.offset=(m(l[0])||0)+","+(m(l[1])||0),r.origin="0 0",t.left="0px",t.top="0px"):(r.on=!1,t.left=m(h)+"px",t.top=m(b)+"px");k.string=String(g).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{k.style.font=n}catch(Y){}N(c,"fill",{fill:d?e.fill:e.textFill,opacity:e.opacity},this);N(c,"stroke",{stroke:d?e.stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this);c.style.zIndex=B(this.zlevel,this.z,this.z2);A(a,c)}};l=function(a){y(a,this._textVmlEl);this._textVmlEl=null};n=function(a){A(a,this._textVmlEl)};p=[p,e,d,b,r];for(e=0;e<p.length;e++)d=p[e].prototype,d.drawRectText=a,d.removeRectText=l,d.appendRectText=n;r.prototype.brushVML=function(a){var b=this.style;b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};r.prototype.onRemove=function(a){this.removeRectText(a)};r.prototype.onAdd=function(a){this.appendRectText(a)}}},function(r,p,a){if(!a(2).canvasSupported){var l,n=window.document,k=!1;try{!n.namespaces.zrvml&&n.namespaces.add("zrvml","urn:schemas-microsoft-com:vml"),l=function(a){return n.createElement("\x3czrvml:"+a+' class\x3d"zrvml"\x3e')}}catch(h){l=function(a){return n.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}r.exports={doc:n,initVML:function(){if(!k){k=!0;var a=n.styleSheets;31>a.length?n.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}},createNode:l}}},function(r,p,a){function l(a,d){h.initVML();this.root=a;this.storage=d;var b=document.createElement("div"),c=document.createElement("div");b.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";c.style.cssText="position:absolute;left:0;top:0;";a.appendChild(b);this._vmlRoot=c;this._vmlViewport=b;this.resize();var e=d.delFromMap,f=d.addToMap;d.delFromMap=function(a){var b=d.get(a);e.call(d,a);b&&b.onRemove&&b.onRemove(c)};d.addToMap=function(a){a.onAdd&&a.onAdd(c);f.call(d,a)};this._firstPaint=!0}function n(a){return function(){k('In IE8.0 VML mode painter not support method "'+a+'"')}}var k=a(40),h=a(380);l.prototype={constructor:l,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var d=this._vmlRoot,b=0;b<a.length;b++){var c=a[b];if(c.invisible||c.ignore){if(!c.__alreadyNotVisible)c.onRemove(d);c.__alreadyNotVisible=!0}else{if(c.__alreadyNotVisible)c.onAdd(d);c.__alreadyNotVisible=!1;c.__dirty&&(c.beforeBrush&&c.beforeBrush(),(c.brushVML||c.brush).call(c,d),c.afterBrush&&c.afterBrush())}c.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(d),this._firstPaint=!1)},resize:function(){var a=this._getWidth(),d=this._getHeight();if(this._width!=a&&this._height!=d){this._width=a;this._height=d;var b=this._vmlViewport.style;b.width=a+"px";b.height=d+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this.root.removeChild(this.vmlViewport)},_getWidth:function(){var a=this.root,d=a.currentStyle;return(a.clientWidth||parseInt(d.width,10))-parseInt(d.paddingLeft,10)-parseInt(d.paddingRight,10)|0},_getHeight:function(){var a=this.root,d=a.currentStyle;return(a.clientHeight||parseInt(d.height,10))-parseInt(d.paddingTop,10)-parseInt(d.paddingBottom,10)|0}};p="getLayer insertLayer eachLayer eachBuildinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" ");for(a=0;a<p.length;a++){var f=p[a];l.prototype[f]=n(f)}r.exports=l}])});