define(["text!/tpl/dosage.html"],function(t){function e(){$(".page-content").html(t),$.ajax({async:!0,cache:!0,type:"post",dataType:"json",url:"/api/dosage.open",data:{},success:function(t){console.log(t),$.each(t,function(t,e){null==e.projectname&&null==e.projectdesc&&(e.projectname="",e.projectdesc="");var c=$("<tr class='tr_mid' data-chose='0'><td ><input type='checkBox' name='name' value='' class='checkBoxInput'></td><td class='listNum'>"+(t+1)+"</td><td style='display:none' id='fileId'>"+e.ds_id+"</td><td>"+e.uptime+"</td><td>"+e.deadtime+"</td><td>"+e.name+"</td><td>"+e.projectname+"</td><td>"+e.filesize+"b</td><td style='display:none' id='projectid'>"+e.projectid+"</td></tr>");$("table").append(c)})}}),$(".tr_mid").each(function(){$(this).on("click",function(){0==$(this).attr("data-chose")?($(this).css("border-color","#265577"),$(".checkBoxInput",$(this)).prop("checked",!0),$(this).attr("data-chose","1")):($(this).removeAttr("style"),$(this).attr("data-chose","0"),$(".checkBoxInput",$(this)).prop("checked",!1))})}),$("#allCheck").click(function(){var t=0;$(".tr_mid").each(function(){0==$(this).attr("data-chose")&&t++}),0==t?$(".tr_mid").each(function(){$(this).removeAttr("style"),$(this).attr("data-chose","0"),$(".checkBoxInput",$(this)).prop("checked",!1)}):$(".tr_mid").each(function(){$(this).css("border-color","#265577"),$(this).attr("data-chose","1"),$(".checkBoxInput",$(this)).prop("checked",!0)})}),$("#delChose").click(function(){$(".tr_mid[data-chose='1']").each(function(){$(this).remove()})})}return{render:e}});