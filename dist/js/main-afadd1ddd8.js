require.config({baseUrl:"./js",paths:{jquery:"../assets/global/plugins/jquery.min",bootstrap:"../assets/global/plugins/bootstrap/js/bootstrap.min",backbone:"lib/backbone",underscore:"lib/underscore",jqueryUi:"../assets/global/plugins/jquery-ui/jquery-ui.min",analysis:"mod/analysis",jqueryForm:"lib/jquery.form",icheck:"../assets/global/plugins/icheck/icheck.min",dropzone:"../assets/global/plugins/dropzone/dropzone.min",fileInput:"../assets/global/plugins/bootstrap-fileinput/bootstrap-fileinput",ion:"lib/ion.rangeSlider.min",scroll:"lib/jquery.scrollTo.min",pagination:"../assets/global/plugins/pagination.min",blockui:"../assets/global/plugins/jquery.blockui.min",text:"lib/text",css:"lib/css",open01:"open01Charts/open01",chart:"open01Charts/chart",smChart:"open01Charts/smChart",pvCharts:"open01Charts/pvCharts",ipCharts:"open01Charts/ipCharts",dataCharts:"open01Charts/dataCharts",statusCharts:"open01Charts/statusCharts",brCharts:"open01Charts/brCharts",osCharts:"open01Charts/osCharts",reqCharts:"open01Charts/requestCharts",cvrCharts:"open01Charts/cvrCharts",tpCharts:"open01Charts/tpCharts",rfCharts:"open01Charts/rfCharts",crawlerCharts:"open01Charts/crawlerCharts",sqlCharts:"open01Charts/sqlCharts",fiCharts:"open01Charts/fiCharts",xssCharts:"open01Charts/xssCharts",homeCharts:"mod/homeCharts",serchCharts:"mod/searchCharts",router:"router",international:"international"},urlArgs:"bust="+(new Date).getTime()}),require(["router","open01"],function(){function a(){$.ajax({async:!0,cache:!1,type:"post",url:"/api/user.open?cmd=WEL:GETFUNCTON",data:{role_id:localStorage.getItem("ROLE"),role_type:localStorage.getItem("ROLE_ID")},success:function(a){if(a.code&&"200007"===a.code)window.location.href="/login.html";else{var e="";$.each(a,function(a,t){if(0===a)e+='<li class="nav-item start"><a href="'+t.menu_href+'" class="nav-link nav-toggle" data-status="'+t.status+'"><i class="'+t.menu_icon+'"></i><span class="title">'+t.menu_name+"</span></a></li>";else if("1"===t.status)if(t.child&&t.child.length>0){var s="";$.each(t.child,function(a,e){s=s+'<li class="nav-item "><a href="'+e.menu_href+'" style="text-indent: 1em;" class="nav-link analysisA" data-status="'+t.status+'">'+e.menu_name+"</a></li>"}),e+='<li class="nav-item"><a href="javascript:void(0);" class="nav-link nav-toggle" data-status="'+t.status+'"><i class="'+t.menu_icon+'"></i><span class="title">'+t.menu_name+'</span><span class="arrow"></span></a><ul class="sub-menu">'+s+"</ul></li>"}else e+='<li class="nav-item"><a href="'+t.menu_href+'" class="nav-link nav-toggle" data-status="'+t.status+'"><i class="'+t.menu_icon+'"></i><span class="title">'+t.menu_name+"</span></a></li>";else if(t.child&&t.child.length>0){var s="";$.each(t.child,function(a,e){s=s+'<li class="nav-item "><a href="'+e.menu_href+'" style="text-indent: 1em;color:#ccc;" class="nav-link analysisA" data-status="'+t.status+'" data-parent-id="'+e.parent_id+'">'+e.menu_name+"</a></li>"}),e+='<li class="nav-item"><a href="javascript:void(0);" class="nav-link nav-toggle nav-link-disabled" data-status="'+t.status+'"><i class="'+t.menu_icon+'"></i><span class="title">'+t.menu_name+'</span><span class="arrow"></span></a><ul class="sub-menu">'+s+"</ul></li>"}else e+='<li class="nav-item"><a href="'+t.menu_href+'" class="nav-link nav-toggle nav-link-disabled" data-status="'+t.status+'"><i class="'+t.menu_icon+'"></i><span class="title">'+t.menu_name+"</span></a></li>"}),$(".page-sidebar-menu").append(e),t()}}})}function t(){var a=location.hash,t=$(".page-sidebar-menu").find("a");$.each(t,function(t,e){if($(e).attr("href")===a&&$(e).next().hasClass("sub-menu")===!1){var s=$(".page-sidebar-menu");s.find("li.open").removeClass("open"),s.find("li.active").removeClass("active"),$(e).parent().addClass("open"),$(e).parent().parent().parent("li").length>0?($(e).parent().parent().parent("li").addClass("active").addClass("open"),$(e).parent().parent().parent().children(".arrow").addClass("open")):$(e).parent().addClass("active");var n=$(e).attr("data-status");if(localStorage.setItem("LINK_STATUS",n),"0"===n){var i=$(e).attr("data-parent-id");localStorage.setItem("PARENT_ID",i)}}})}Backbone.history.start(),changeLanguage("strings"),skipPage="PV","en"==localStorage.getItem("language")?($('a[data-i18n="string_agreementQ"]').attr("href","/static/agreement_en.html"),$('a[data-i18n="string_licenseQ"]').attr("href","/static/license_en.html"),$('a[data-i18n="string_policyQ"]').attr("href","/static/privacy_en.html")):($('a[data-i18n="string_agreementQ"]').attr("href","/static/agreement.html"),$('a[data-i18n="string_licenseQ"]').attr("href","/static/license.html"),$('a[data-i18n="string_policyQ"]').attr("href","/static/privacy.html"));var e=0;$("#moreBtn").click(function(){event.stopPropagation(),1==e?($("#moreBtn").removeAttr("class"),$(".moreNav").animate({opacity:"0"},167,function(){e=0,$(".moreNav").css("display","none")})):($("#moreBtn").attr("class","navLiSelected"),$(".moreNav").css("display","block"),$(".moreNav").animate({opacity:"1"},167,function(){e=1}))}),$("body").not("#moreBtn").click(function(){$("#moreBtn").removeAttr("class"),$(".moreNav").animate({opacity:"0"},167,function(){e=0,$(".moreNav").css("display","none")})});var s=location.hash;"#/options"!==s&&"#/notice"!==s&&"#/check"!==s&&"#/apps"!==s&&"#/parse"!==s&&a(),window.onhashchange=t;var n=localStorage.getItem("ROLE_USER"),i="";i="zh"==localStorage.getItem("language")?"返回模块切换页面":"Main Menu",$.ajax({async:!1,type:"get",dataType:"json",data:{user_name:n},url:"/api/jurisdiction.open?cmd=WEL:GETBYUSERNAME",success:function(a){var t="";$.each(a,function(a,e){var s="";s=1==e.role_status?'<li><a href="javascript:;" data-id='+e.id+" data-type="+e.role_type+' class="cli">'+e.role_name+"</a></li>":'<li><a href="javascript:;" data-id='+e.id+" data-type="+e.role_type+' class="uncli">'+e.role_name+"</a></li>",t+=s}),t+='<li class="divider"></li><li><a href="/home.html">'+i+"</a></li>",$(".role_menu").html(t)}}),$("body").delegate(".cli","click",function(){localStorage.setItem("ROLE",$(this).attr("data-id")),localStorage.setItem("ROLE_ID",$(this).attr("data-type")),window.location.href="index.html"}),$("a:lt(3)",$(".moreNav .nav")).each(function(){$(this).click(function(){$(".moreNav .nav a").not($(this)).animate({opacity:"0"},167,function(){$(this).css("display","none"),$(".moreNav .nav a:nth-child(5)").css("display","block")}),$(".moreNav .nav a:nth-child(5)").animate({opacity:"1"},330),$(this).css({position:"absolute"}),$("e",$(this)).css({"background-position-y":"-690px"}),$(this).animate({left:"0"},167)})}),$(".moreNav .nav a:nth-child(5)").click(function(){$("a:lt(4)",$(".moreNav .nav")).animate({opacity:"0"},0,function(){$(this).css({position:"relative",left:"",display:"inline-block"}),$("e",$(this)).css({"background-position-y":"-647px"}),$(".moreNav .nav a:nth-child(5)").css("display","none"),$(this).animate({opacity:"1"},330)})}),$(function(){var a,t={a:"确认要注销账户?",b:"注销",c:"取消"},e={a:"Do you want to log out?",b:"Log out",c:"Cancel"};a="zh"==localStorage.getItem("language")?t:e,console.log("%c\n       ","font-size:100px;line-height:80px;background:url('http://www.open01.com/img/LOGO_02.png') no-repeat"),$("#exit").click(function(){swal({title:a.a,type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:a.b,cancelButtonText:a.c,closeOnConfirm:!1,closeOnCancel:!0},function(){$.cookie("rmbUser","false",{expire:-1}),$.cookie("user_name","",{expires:-1}),$.cookie("pass_word","",{expires:-1}),$.post("/api/index.open?cmd=WEL:DESTROY",function(a,t){location.href="login.html"}),localStorage.removeItem("ROLE_USER")})}),$("#lock").click(function(){localStorage.setItem("history",window.location.href),window.location.href="/static/lock.html"})})});